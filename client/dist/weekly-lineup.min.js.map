{
  "version": 3,
  "sources": ["_tmp_weekly-lineup.js"],
  "sourcesContent": ["/* === dashboard/js/picks-service.js === */\n/**\r\n * Azure Picks Service - Enterprise-grade pick storage via Azure Cosmos DB\r\n * Replaces localStorage-based LocalPicksManager\r\n *\r\n * @module PicksService\r\n */\r\n\r\nconst PicksService = (function () {\r\n    'use strict';\r\n\r\n    // API Configuration\r\n    const apiBaseFromConfig =\r\n        window.GBSV_CONFIG?.FUNCTIONS_URL ||\r\n        window.APP_CONFIG?.FUNCTIONS_BASE_URL ||\r\n        (window.APP_CONFIG?.API_BASE_URL ? window.APP_CONFIG.API_BASE_URL.replace(/\\/api$/, '') : '') ||\r\n        window.APP_CONFIG?.API_BASE_FALLBACK ||\r\n        window.location.origin;\r\n    const API_BASE = apiBaseFromConfig;\r\n    const PICKS_ENDPOINT = `${API_BASE}/api/picks`;\r\n\r\n    // Cache for performance (optional local caching)\r\n    let picksCache = null;\r\n    let lastFetch = null;\r\n    const CACHE_TTL = 30000; // 30 seconds\r\n\r\n    /**\r\n     * Make authenticated API request\r\n     */\r\n    async function apiRequest(endpoint, options = {}) {\r\n        const url = endpoint.startsWith('http') ? endpoint : `${PICKS_ENDPOINT}${endpoint}`;\r\n\r\n        const config = {\r\n            method: options.method || 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                ...options.headers\r\n            },\r\n            ...options\r\n        };\r\n\r\n        if (options.body && typeof options.body === 'object') {\r\n            config.body = JSON.stringify(options.body);\r\n        }\r\n\r\n        try {\r\n            const response = await fetch(url, config);\r\n            const data = await response.json();\r\n\r\n            if (!response.ok) {\r\n                throw new Error(data.error || `API error: ${response.status}`);\r\n            }\r\n\r\n            return data;\r\n        } catch (error) {\r\n            console.error('[PicksService] API request failed:', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Invalidate cache\r\n     */\r\n    function invalidateCache() {\r\n        picksCache = null;\r\n        lastFetch = null;\r\n    }\r\n\r\n    /**\r\n     * Get all picks with optional filtering\r\n     * @param {Object} filters - Query filters (status, league, date, etc.)\r\n     * @returns {Promise<Array>} Array of pick objects\r\n     */\r\n    async function getAll(filters = {}) {\r\n        // Build query string\r\n        const params = new URLSearchParams();\r\n        Object.entries(filters).forEach(([key, value]) => {\r\n            if (value !== undefined && value !== null && value !== '') {\r\n                params.append(key, value);\r\n            }\r\n        });\r\n\r\n        const query = params.toString() ? `?${params}` : '';\r\n\r\n        try {\r\n            const response = await apiRequest(query);\r\n            return response.picks || [];\r\n        } catch (error) {\r\n            console.error('[PicksService] Failed to get picks:', error);\r\n            return [];\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get active picks (pending, live, on-track, at-risk)\r\n     * @returns {Promise<Array>} Array of active picks\r\n     */\r\n    async function getActive() {\r\n        try {\r\n            const response = await apiRequest('/active');\r\n            return response.picks || [];\r\n        } catch (error) {\r\n            console.error('[PicksService] Failed to get active picks:', error);\r\n            return [];\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get settled picks (won, lost, push)\r\n     * @returns {Promise<Array>} Array of settled picks\r\n     */\r\n    async function getSettled() {\r\n        try {\r\n            const response = await apiRequest('/settled');\r\n            return response.picks || [];\r\n        } catch (error) {\r\n            console.error('[PicksService] Failed to get settled picks:', error);\r\n            return [];\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get a single pick by ID\r\n     * @param {string} id - Pick ID\r\n     * @returns {Promise<Object|null>} Pick object or null\r\n     */\r\n    async function getById(id) {\r\n        try {\r\n            const response = await apiRequest(`/${id}`);\r\n            return response.pick || null;\r\n        } catch (error) {\r\n            if (error.message.includes('404')) {\r\n                return null;\r\n            }\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get picks by league\r\n     * @param {string} league - League code (NBA, NFL, NCAAB, NCAAF)\r\n     * @returns {Promise<Array>} Array of picks for the league\r\n     */\r\n    async function getByLeague(league) {\r\n        return getAll({ league: league.toUpperCase() });\r\n    }\r\n\r\n    /**\r\n     * Get picks by date\r\n     * @param {string} date - Date in YYYY-MM-DD format\r\n     * @returns {Promise<Array>} Array of picks for the date\r\n     */\r\n    async function getByDate(date) {\r\n        return getAll({ date });\r\n    }\r\n\r\n    /**\r\n     * Get picks within a date range\r\n     * @param {string} fromDate - Start date (YYYY-MM-DD)\r\n     * @param {string} toDate - End date (YYYY-MM-DD)\r\n     * @returns {Promise<Array>} Array of picks in range\r\n     */\r\n    async function getByDateRange(fromDate, toDate) {\r\n        return getAll({ from: fromDate, to: toDate });\r\n    }\r\n\r\n    /**\r\n     * Get today's picks\r\n     * @returns {Promise<Array>} Array of today's picks\r\n     */\r\n    async function getToday() {\r\n        const today = new Date().toISOString().split('T')[0];\r\n        return getByDate(today);\r\n    }\r\n\r\n    /**\r\n     * Create one or more picks\r\n     * @param {Object|Array} picks - Single pick or array of picks\r\n     * @returns {Promise<Object>} Creation result\r\n     */\r\n    async function create(picks) {\r\n        invalidateCache();\r\n\r\n        const body = Array.isArray(picks) ? picks : [picks];\r\n\r\n        try {\r\n            const response = await apiRequest('', {\r\n                method: 'POST',\r\n                body\r\n            });\r\n\r\n            // Dispatch event for UI updates\r\n            window.dispatchEvent(new CustomEvent('picksUpdated', {\r\n                detail: { action: 'create', count: response.created || body.length }\r\n            }));\r\n\r\n            return response;\r\n        } catch (error) {\r\n            console.error('[PicksService] Failed to create picks:', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Update a pick\r\n     * @param {string} id - Pick ID\r\n     * @param {Object} updates - Fields to update\r\n     * @returns {Promise<Object>} Updated pick\r\n     */\r\n    async function update(id, updates) {\r\n        invalidateCache();\r\n\r\n        try {\r\n            const response = await apiRequest(`/${id}`, {\r\n                method: 'PATCH',\r\n                body: updates\r\n            });\r\n\r\n            window.dispatchEvent(new CustomEvent('picksUpdated', {\r\n                detail: { action: 'update', id }\r\n            }));\r\n\r\n            return response.pick;\r\n        } catch (error) {\r\n            console.error('[PicksService] Failed to update pick:', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Update pick status (convenience method)\r\n     * @param {string} id - Pick ID\r\n     * @param {string} status - New status (pending, live, won, lost, push)\r\n     * @param {Object} additionalUpdates - Optional additional fields\r\n     * @returns {Promise<Object>} Updated pick\r\n     */\r\n    async function updateStatus(id, status, additionalUpdates = {}) {\r\n        return update(id, { status, ...additionalUpdates });\r\n    }\r\n\r\n    /**\r\n     * Mark pick as won\r\n     * @param {string} id - Pick ID\r\n     * @param {number} pnl - P&L amount\r\n     * @returns {Promise<Object>} Updated pick\r\n     */\r\n    async function markWon(id, pnl = 0) {\r\n        return update(id, { status: 'won', result: 'WIN', pnl });\r\n    }\r\n\r\n    /**\r\n     * Mark pick as lost\r\n     * @param {string} id - Pick ID\r\n     * @param {number} pnl - P&L amount (negative)\r\n     * @returns {Promise<Object>} Updated pick\r\n     */\r\n    async function markLost(id, pnl = 0) {\r\n        return update(id, { status: 'lost', result: 'LOSS', pnl: -Math.abs(pnl) });\r\n    }\r\n\r\n    /**\r\n     * Mark pick as push\r\n     * @param {string} id - Pick ID\r\n     * @returns {Promise<Object>} Updated pick\r\n     */\r\n    async function markPush(id) {\r\n        return update(id, { status: 'push', result: 'PUSH', pnl: 0 });\r\n    }\r\n\r\n    /**\r\n     * Delete a pick\r\n     * @param {string} id - Pick ID\r\n     * @returns {Promise<boolean>} Success status\r\n     */\r\n    async function remove(id) {\r\n        invalidateCache();\r\n\r\n        try {\r\n            await apiRequest(`/${id}`, { method: 'DELETE' });\r\n\r\n            window.dispatchEvent(new CustomEvent('picksUpdated', {\r\n                detail: { action: 'delete', id }\r\n            }));\r\n\r\n            return true;\r\n        } catch (error) {\r\n            console.error('[PicksService] Failed to delete pick:', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Clear all picks (requires confirmation)\r\n     * @param {boolean} confirm - Must be true to proceed\r\n     * @returns {Promise<Object>} Deletion result\r\n     */\r\n    async function clearAll(confirm = false) {\r\n        if (!confirm) {\r\n            throw new Error('Must pass confirm=true to clear all picks');\r\n        }\r\n\r\n        invalidateCache();\r\n\r\n        try {\r\n            const response = await apiRequest('/clear', {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'x-confirm-clear': 'true'\r\n                }\r\n            });\r\n\r\n            window.dispatchEvent(new CustomEvent('picksUpdated', {\r\n                detail: { action: 'clearAll', deleted: response.deleted }\r\n            }));\r\n\r\n            return response;\r\n        } catch (error) {\r\n            console.error('[PicksService] Failed to clear picks:', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Calculate summary statistics for picks\r\n     * @param {Array} picks - Array of picks to analyze (optional, fetches if not provided)\r\n     * @returns {Promise<Object>} Summary stats\r\n     */\r\n    async function getSummary(picks = null) {\r\n        if (!picks) {\r\n            picks = await getAll();\r\n        }\r\n\r\n        const summary = {\r\n            total: picks.length,\r\n            pending: 0,\r\n            live: 0,\r\n            won: 0,\r\n            lost: 0,\r\n            push: 0,\r\n            totalRisk: 0,\r\n            totalPnl: 0,\r\n            byLeague: {}\r\n        };\r\n\r\n        picks.forEach(pick => {\r\n            const status = (pick.status || 'pending').toLowerCase();\r\n            if (status === 'pending') summary.pending++;\r\n            else if (status === 'live' || status === 'on-track' || status === 'at-risk') summary.live++;\r\n            else if (status === 'won' || status === 'win') summary.won++;\r\n            else if (status === 'lost' || status === 'loss') summary.lost++;\r\n            else if (status === 'push') summary.push++;\r\n\r\n            summary.totalRisk += parseFloat(pick.risk) || 0;\r\n            summary.totalPnl += parseFloat(pick.pnl) || 0;\r\n\r\n            const league = pick.league || 'Unknown';\r\n            if (!summary.byLeague[league]) {\r\n                summary.byLeague[league] = { total: 0, won: 0, lost: 0, pnl: 0 };\r\n            }\r\n            summary.byLeague[league].total++;\r\n            if (status === 'won' || status === 'win') summary.byLeague[league].won++;\r\n            if (status === 'lost' || status === 'loss') summary.byLeague[league].lost++;\r\n            summary.byLeague[league].pnl += parseFloat(pick.pnl) || 0;\r\n        });\r\n\r\n        summary.winRate = summary.won + summary.lost > 0\r\n            ? (summary.won / (summary.won + summary.lost) * 100).toFixed(1) + '%'\r\n            : 'N/A';\r\n\r\n        return summary;\r\n    }\r\n\r\n    /**\r\n     * Migrate picks from localStorage to Azure (one-time operation)\r\n     * @returns {Promise<Object>} Migration result\r\n     */\r\n    async function migrateFromLocalStorage() {\r\n        const STORAGE_KEY = 'gbsv_picks';\r\n\r\n        try {\r\n            const localData = localStorage.getItem(STORAGE_KEY);\r\n            if (!localData) {\r\n                return { success: true, migrated: 0, message: 'No local picks to migrate' };\r\n            }\r\n\r\n            const localPicks = JSON.parse(localData);\r\n            if (!Array.isArray(localPicks) || localPicks.length === 0) {\r\n                return { success: true, migrated: 0, message: 'No local picks to migrate' };\r\n            }\r\n\r\n            console.log(`[PicksService] Migrating ${localPicks.length} picks from localStorage to Azure...`);\r\n\r\n            const result = await create(localPicks);\r\n\r\n            if (result.success) {\r\n                // Backup and clear localStorage\r\n                localStorage.setItem(`${STORAGE_KEY}_backup_${Date.now()}`, localData);\r\n                localStorage.removeItem(STORAGE_KEY);\r\n\r\n                console.log(`[PicksService] Migration complete: ${result.created} picks migrated`);\r\n                return {\r\n                    success: true,\r\n                    migrated: result.created,\r\n                    errors: result.errors,\r\n                    message: `Successfully migrated ${result.created} picks to Azure`\r\n                };\r\n            }\r\n\r\n            return { success: false, migrated: 0, error: 'Migration failed' };\r\n        } catch (error) {\r\n            console.error('[PicksService] Migration failed:', error);\r\n            return { success: false, migrated: 0, error: error.message };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check if there are picks in localStorage that need migration\r\n     * @returns {Object} Migration status\r\n     */\r\n    function checkMigrationNeeded() {\r\n        const STORAGE_KEY = 'gbsv_picks';\r\n        try {\r\n            const localData = localStorage.getItem(STORAGE_KEY);\r\n            if (!localData) return { needed: false, count: 0 };\r\n\r\n            const localPicks = JSON.parse(localData);\r\n            return {\r\n                needed: Array.isArray(localPicks) && localPicks.length > 0,\r\n                count: Array.isArray(localPicks) ? localPicks.length : 0\r\n            };\r\n        } catch {\r\n            return { needed: false, count: 0 };\r\n        }\r\n    }\r\n\r\n    // Public API\r\n    return {\r\n        // Core CRUD\r\n        getAll,\r\n        getActive,\r\n        getSettled,\r\n        getById,\r\n        create,\r\n        update,\r\n        remove,\r\n        clearAll,\r\n\r\n        // Convenience getters\r\n        getByLeague,\r\n        getByDate,\r\n        getByDateRange,\r\n        getToday,\r\n\r\n        // Status updates\r\n        updateStatus,\r\n        markWon,\r\n        markLost,\r\n        markPush,\r\n\r\n        // Analytics\r\n        getSummary,\r\n\r\n        // Migration\r\n        migrateFromLocalStorage,\r\n        checkMigrationNeeded,\r\n\r\n        // Utilities\r\n        invalidateCache\r\n    };\r\n})();\r\n\r\n// Export for module systems\r\nif (typeof module !== 'undefined' && module.exports) {\r\n    module.exports = PicksService;\r\n}\r\n\r\n// Make globally available\r\nwindow.PicksService = PicksService;\r\n\n\n/* === assets/js/modules/picks-state-manager.js === */\n/**\r\n * Picks State Manager Module\r\n * Centralized state management for the active picks table\r\n * Handles filter state, sort state, and state persistence\r\n */\r\n(function() {\r\n    'use strict';\r\n\r\n    // Initialize the global state object if not already present\r\n    if (typeof window.tableState === 'undefined') {\r\n        window.tableState = {\r\n            filters: {\r\n                date: {\r\n                    start: null,\r\n                    end: null,\r\n                    selectedDates: null,\r\n                    selectedTimes: null,\r\n                    selectedBooks: null\r\n                },\r\n                matchup: {\r\n                    league: '',\r\n                    selectedLeagues: null,\r\n                    selectedTeams: null,\r\n                    ticketType: 'all'\r\n                },\r\n                pick: {\r\n                    betType: '',\r\n                    subtype: '',\r\n                    segment: '',\r\n                    selectedSegments: null\r\n                },\r\n                risk: {\r\n                    min: null,\r\n                    max: null,\r\n                    selectedRiskRanges: [],\r\n                    selectedWinRanges: []\r\n                },\r\n                status: []\r\n            },\r\n            sort: {\r\n                column: null,\r\n                direction: 'asc'\r\n            },\r\n            expandedParlayIds: []\r\n        };\r\n    }\r\n\r\n    // State shape validators\r\n    const StateShapeValidators = {\r\n        /**\r\n         * Creates a new date filter state object with all filter properties\r\n         */\r\n        createDateFilterState() {\r\n            return {\r\n                start: null,\r\n                end: null,\r\n                selectedDates: null,\r\n                selectedTimes: null,\r\n                selectedBooks: null\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Creates a new matchup filter state object\r\n         */\r\n        createMatchupFilterState() {\r\n            return {\r\n                league: '',\r\n                selectedLeagues: null,\r\n                selectedTeams: null,\r\n                ticketType: 'all'\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Creates a new risk filter state object\r\n         */\r\n        createRiskFilterState() {\r\n            return {\r\n                min: null,\r\n                max: null,\r\n                selectedRiskRanges: [],\r\n                selectedWinRanges: []\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Creates a new pick filter state object\r\n         */\r\n        createPickFilterState() {\r\n            return {\r\n                betType: '',\r\n                subtype: '',\r\n                segment: '',\r\n                selectedSegments: null\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Ensures date filter state has the correct shape\r\n         */\r\n        ensureDateFilterShape() {\r\n            const state = window.tableState;\r\n            if (!state.filters.date || typeof state.filters.date !== 'object') {\r\n                state.filters.date = this.createDateFilterState();\r\n                return;\r\n            }\r\n            const dateFilter = state.filters.date;\r\n            if (!('start' in dateFilter)) dateFilter.start = null;\r\n            if (!('end' in dateFilter)) dateFilter.end = null;\r\n            if (!('selectedDates' in dateFilter)) dateFilter.selectedDates = null;\r\n            if (!('selectedTimes' in dateFilter)) dateFilter.selectedTimes = null;\r\n            if (!('selectedBooks' in dateFilter)) dateFilter.selectedBooks = null;\r\n        },\r\n\r\n        /**\r\n         * Ensures matchup filter state has the correct shape\r\n         */\r\n        ensureMatchupFilterShape() {\r\n            const state = window.tableState;\r\n            if (!state.filters.matchup || typeof state.filters.matchup !== 'object') {\r\n                state.filters.matchup = this.createMatchupFilterState();\r\n                return;\r\n            }\r\n            const matchupFilter = state.filters.matchup;\r\n            if (!('ticketType' in matchupFilter)) matchupFilter.ticketType = 'all';\r\n            if (!('selectedTeams' in matchupFilter)) matchupFilter.selectedTeams = null;\r\n            if (!('league' in matchupFilter)) matchupFilter.league = '';\r\n        },\r\n\r\n        /**\r\n         * Ensures risk filter state has the correct shape\r\n         */\r\n        ensureRiskFilterShape() {\r\n            const state = window.tableState;\r\n            if (!state.filters.risk || typeof state.filters.risk !== 'object') {\r\n                state.filters.risk = this.createRiskFilterState();\r\n                return;\r\n            }\r\n            const riskFilter = state.filters.risk;\r\n            if (!('min' in riskFilter)) riskFilter.min = null;\r\n            if (!('max' in riskFilter)) riskFilter.max = null;\r\n            if (!Array.isArray(riskFilter.selectedRiskRanges)) riskFilter.selectedRiskRanges = [];\r\n            if (!Array.isArray(riskFilter.selectedWinRanges)) riskFilter.selectedWinRanges = [];\r\n        },\r\n\r\n        /**\r\n         * Ensures pick filter state has the correct shape\r\n         */\r\n        ensurePickFilterShape() {\r\n            const state = window.tableState;\r\n            if (!state.filters.pick) {\r\n                state.filters.pick = this.createPickFilterState();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Ensures all filter states have correct shapes\r\n         */\r\n        ensureAllFilterShapes() {\r\n            this.ensureDateFilterShape();\r\n            this.ensureMatchupFilterShape();\r\n            this.ensureRiskFilterShape();\r\n            this.ensurePickFilterShape();\r\n        }\r\n    };\r\n\r\n    // State management functions\r\n    const StateManager = {\r\n        /**\r\n         * Get the current table state\r\n         */\r\n        getState() {\r\n            return window.tableState;\r\n        },\r\n\r\n        /**\r\n         * Get a specific filter state\r\n         */\r\n        getFilter(filterType) {\r\n            return window.tableState.filters[filterType];\r\n        },\r\n\r\n        /**\r\n         * Update a specific filter\r\n         */\r\n        updateFilter(filterType, updates) {\r\n            if (!window.tableState.filters[filterType]) {\r\n                console.warn(`Filter type ${filterType} does not exist`);\r\n                return;\r\n            }\r\n            Object.assign(window.tableState.filters[filterType], updates);\r\n        },\r\n\r\n        /**\r\n         * Reset a specific filter to its default state\r\n         */\r\n        resetFilter(filterType) {\r\n            switch(filterType) {\r\n                case 'date':\r\n                    window.tableState.filters.date = StateShapeValidators.createDateFilterState();\r\n                    break;\r\n                case 'matchup':\r\n                    window.tableState.filters.matchup = StateShapeValidators.createMatchupFilterState();\r\n                    break;\r\n                case 'pick':\r\n                    window.tableState.filters.pick = StateShapeValidators.createPickFilterState();\r\n                    break;\r\n                case 'risk':\r\n                    window.tableState.filters.risk = StateShapeValidators.createRiskFilterState();\r\n                    break;\r\n                case 'status':\r\n                    window.tableState.filters.status = [];\r\n                    break;\r\n                case 'league':\r\n                    // Reset league-specific filters only\r\n                    window.tableState.filters.matchup.league = '';\r\n                    window.tableState.filters.matchup.selectedLeagues = null;\r\n                    break;\r\n                case 'segment':\r\n                    // Reset segment-specific filters only\r\n                    window.tableState.filters.pick.segment = '';\r\n                    window.tableState.filters.pick.selectedSegments = null;\r\n                    break;\r\n                default:\r\n                    console.warn(`Unknown filter type: ${filterType}`);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Reset all filters\r\n         */\r\n        resetAllFilters() {\r\n            window.tableState.filters = {\r\n                date: StateShapeValidators.createDateFilterState(),\r\n                matchup: StateShapeValidators.createMatchupFilterState(),\r\n                pick: StateShapeValidators.createPickFilterState(),\r\n                risk: StateShapeValidators.createRiskFilterState(),\r\n                status: []\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Get expanded parlay IDs\r\n         */\r\n        getExpandedParlayIds() {\r\n            if (!Array.isArray(window.tableState.expandedParlayIds)) {\r\n                window.tableState.expandedParlayIds = [];\r\n            }\r\n            return window.tableState.expandedParlayIds;\r\n        },\r\n\r\n        /**\r\n         * Set parlay expansion state\r\n         */\r\n        setParlayExpanded(parlayId, isExpanded) {\r\n            if (!parlayId) return;\r\n\r\n            if (!Array.isArray(window.tableState.expandedParlayIds)) {\r\n                window.tableState.expandedParlayIds = [];\r\n            }\r\n\r\n            const index = window.tableState.expandedParlayIds.indexOf(parlayId);\r\n\r\n            if (isExpanded && index === -1) {\r\n                window.tableState.expandedParlayIds.push(parlayId);\r\n            } else if (!isExpanded && index !== -1) {\r\n                window.tableState.expandedParlayIds.splice(index, 1);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Check if parlay is expanded\r\n         */\r\n        isParlayExpanded(parlayId) {\r\n            if (!parlayId || !Array.isArray(window.tableState.expandedParlayIds)) {\r\n                return false;\r\n            }\r\n            return window.tableState.expandedParlayIds.includes(parlayId);\r\n        },\r\n\r\n        /**\r\n         * Toggle parlay expansion state\r\n         */\r\n        toggleParlayExpanded(parlayId) {\r\n            const isCurrentlyExpanded = this.isParlayExpanded(parlayId);\r\n            this.setParlayExpanded(parlayId, !isCurrentlyExpanded);\r\n            return !isCurrentlyExpanded;\r\n        },\r\n\r\n        /**\r\n         * Reset expansion state\r\n         */\r\n        resetExpansionState() {\r\n            window.tableState.expandedParlayIds = [];\r\n        },\r\n\r\n        /**\r\n         * Get sort state\r\n         */\r\n        getSortState() {\r\n            return window.tableState.sort;\r\n        },\r\n\r\n        /**\r\n         * Update sort state\r\n         */\r\n        updateSort(column, direction) {\r\n            window.tableState.sort = {\r\n                column: column,\r\n                direction: direction || 'asc'\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Reset sort state\r\n         */\r\n        resetSort() {\r\n            window.tableState.sort = {\r\n                column: null,\r\n                direction: 'asc'\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Check if any filters are active\r\n         */\r\n        hasActiveFilters() {\r\n            const filters = window.tableState.filters;\r\n\r\n            // Check date filters\r\n            if (filters.date.selectedDates || filters.date.selectedTimes || filters.date.selectedBooks ||\r\n                filters.date.start || filters.date.end) {\r\n                return true;\r\n            }\r\n\r\n            // Check matchup/league filters\r\n            if (filters.matchup.league || filters.matchup.selectedLeagues ||\r\n                filters.matchup.selectedTeams || filters.matchup.ticketType !== 'all') {\r\n                return true;\r\n            }\r\n\r\n            // Check pick/segment filters\r\n            if (filters.pick.betType || filters.pick.subtype || filters.pick.segment ||\r\n                filters.pick.selectedSegments) {\r\n                return true;\r\n            }\r\n\r\n            // Check risk filters\r\n            if (filters.risk.min !== null || filters.risk.max !== null ||\r\n                filters.risk.selectedRiskRanges.length > 0 ||\r\n                filters.risk.selectedWinRanges.length > 0) {\r\n                return true;\r\n            }\r\n\r\n            // Check status filters\r\n            if (filters.status.length > 0) {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Get active filter count\r\n         */\r\n        getActiveFilterCount() {\r\n            let count = 0;\r\n            const filters = window.tableState.filters;\r\n\r\n            if (filters.date.selectedDates) count++;\r\n            if (filters.date.selectedTimes) count++;\r\n            if (filters.date.selectedBooks) count++;\r\n            if (filters.matchup.league || filters.matchup.selectedLeagues) count++;\r\n            if (filters.matchup.selectedTeams) count++;\r\n            if (filters.pick.betType || filters.pick.subtype) count++;\r\n            if (filters.pick.segment || filters.pick.selectedSegments) count++;\r\n            if (filters.risk.selectedRiskRanges.length > 0) count++;\r\n            if (filters.risk.selectedWinRanges.length > 0) count++;\r\n            if (filters.status.length > 0) count++;\r\n\r\n            return count;\r\n        },\r\n\r\n        /**\r\n         * Initialize state\r\n         */\r\n        init() {\r\n            StateShapeValidators.ensureAllFilterShapes();\r\n            if (!Array.isArray(window.tableState.expandedParlayIds)) {\r\n                window.tableState.expandedParlayIds = [];\r\n            }\r\n        }\r\n    };\r\n\r\n    // Export to global scope\r\n    window.PicksStateManager = {\r\n        ...StateManager,\r\n        validators: StateShapeValidators,\r\n        // Expose the tableState directly for backward compatibility\r\n        state: window.tableState\r\n    };\r\n\r\n    // Initialize on load\r\n    StateManager.init();\r\n\r\n})();\n\n/* === assets/js/features/weekly-lineup-controller.js === */\n/**\n * Weekly Lineup Controller\n * - Fetches model picks via UnifiedPicksFetcher\n * - Renders picks into weekly-lineup table\n * - Auto-saves fetched picks into Cosmos (locked=false)\n * - Track button toggles locked/unlocked (Dashboard shows locked picks)\n */\n\n(function () {\n  \"use strict\";\n\n  const WEEKLY_LINEUP_KEY = \"gbsv_weekly_lineup_picks\";\n\n  const state = {\n    activePicks: [],\n    lastFetchedAt: null,\n    isFetching: false,\n  };\n\n  const el = {\n    tbody: () => document.getElementById(\"picks-tbody\"),\n    lastRefreshed: () =>\n      document.querySelector(\"#ft-last-refreshed .sync-time\"),\n  };\n\n  const nowIso = () => new Date().toISOString();\n\n  const formatMmDd = (isoDate) => {\n    if (!isoDate) return \"\";\n    const d = new Date(isoDate);\n    if (Number.isNaN(d.getTime())) return String(isoDate);\n    const mm = String(d.getMonth() + 1).padStart(2, \"0\");\n    const dd = String(d.getDate()).padStart(2, \"0\");\n    return `${mm}/${dd}`;\n  };\n\n  const safeText = (value) => (value ?? \"\").toString();\n\n  const slug = (value) =>\n    safeText(value)\n      .trim()\n      .toLowerCase()\n      .replace(/[^a-z0-9]+/g, \"-\")\n      .replace(/^-+|-+$/g, \"\")\n      .slice(0, 40);\n\n  const normalizeSport = (sport) => {\n    const upper = safeText(sport).toUpperCase();\n    if (upper === \"NCAAM\") return \"NCAAB\";\n    if (upper === \"NCAAB\") return \"NCAAB\";\n    return upper || \"NBA\";\n  };\n\n  // Deterministic ID to avoid duplicates across refreshes\n  const computePickId = (pick) => {\n    const sport = normalizeSport(pick.sport || pick.league);\n    const date = (pick.gameDate || pick.date || \"\").toString().slice(0, 10);\n    const away = slug(pick.awayTeam);\n    const home = slug(pick.homeTeam);\n    const pickType = slug(pick.pickType);\n    const segment = slug(pick.segment);\n    const direction = slug(\n      pick.pickDirection || pick.pickTeam || pick.pick || \"\",\n    );\n    const line = slug(pick.line);\n\n    const base = `${sport}-${date}-${away}-at-${home}-${pickType}-${segment}-${direction}-${line}`;\n    return base.length <= 255 ? base : base.slice(0, 255);\n  };\n\n  const showToast = (message, type = \"info\") => {\n    if (window.showNotification) {\n      window.showNotification(message, type);\n      return;\n    }\n\n    // Fallback toast (minimal)\n    try {\n      const node = document.createElement(\"div\");\n      node.textContent = message;\n      node.style.cssText =\n        \"position:fixed;top:20px;right:20px;z-index:99999;padding:10px 14px;border-radius:10px;\" +\n        \"background:rgba(6,28,20,0.95);color:#e8f0f2;border:1px solid rgba(60,255,181,0.35);\";\n      document.body.appendChild(node);\n      setTimeout(() => node.remove(), 2500);\n    } catch (e) {}\n  };\n\n  const setLastRefreshed = (iso) => {\n    const target = el.lastRefreshed();\n    if (!target) return;\n\n    const d = new Date(iso);\n    if (Number.isNaN(d.getTime())) {\n      target.textContent = \"-\";\n      return;\n    }\n\n    target.textContent = d.toLocaleTimeString([], {\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    });\n  };\n\n  const getLeagueLogo = (sport) => {\n    const s = normalizeSport(sport);\n    if (s === \"NBA\") return { src: \"assets/nba-logo.png\", alt: \"NBA\" };\n    if (s === \"NCAAB\") return { src: \"assets/ncaam-logo.png\", alt: \"NCAAM\" };\n    if (s === \"NFL\") return { src: \"assets/nfl-logo.png\", alt: \"NFL\" };\n    if (s === \"NCAAF\") return { src: \"assets/ncaaf-logo.png\", alt: \"NCAAF\" };\n    return { src: \"\", alt: s };\n  };\n\n  const fireEmoji = (fire) => {\n    const n = Math.max(0, Math.min(5, parseInt(fire, 10) || 0));\n    if (n <= 0) return \"\";\n    return \"\uD83D\uDD25\".repeat(n);\n  };\n\n  const formatPickLabel = (pick) => {\n    const type = safeText(pick.pickType || \"\").toLowerCase();\n    const line = safeText(pick.line);\n\n    if (type === \"total\") {\n      const dir = safeText(pick.pickDirection).toUpperCase();\n      const label = dir.includes(\"UNDER\")\n        ? \"Under\"\n        : dir.includes(\"OVER\")\n          ? \"Over\"\n          : dir;\n      return `${label} ${line}`.trim();\n    }\n\n    if (type === \"moneyline\" || type === \"ml\") {\n      return `${safeText(pick.pickTeam)} ML`.trim();\n    }\n\n    return `${safeText(pick.pickTeam)} ${line}`.trim();\n  };\n\n  const renderEmptyState = (message) => {\n    const tbody = el.tbody();\n    if (!tbody) return;\n\n    tbody.innerHTML = `\n      <tr class=\"empty-state-row\">\n        <td colspan=\"9\" class=\"empty-state-cell\">\n          <div class=\"empty-state\">\n            <span class=\"empty-icon\">\uD83D\uDCCA</span>\n            <span class=\"empty-message\">${safeText(message || \"No picks\")}</span>\n          </div>\n        </td>\n      </tr>\n    `;\n  };\n\n  const renderRows = (picks) => {\n    const tbody = el.tbody();\n    if (!tbody) return;\n\n    if (!Array.isArray(picks) || picks.length === 0) {\n      renderEmptyState(\"No picks fetched yet. Click Fetch to load picks.\");\n      return;\n    }\n\n    tbody.innerHTML = \"\";\n\n    for (const pick of picks) {\n      const sport = normalizeSport(pick.sport || pick.league);\n      const leagueLogo = getLeagueLogo(sport);\n      const edge =\n        typeof pick.edge === \"number\"\n          ? pick.edge\n          : parseFloat(String(pick.edge || \"\").replace(\"%\", \"\")) || 0;\n      const isLocked = pick.locked === true;\n\n      const tr = document.createElement(\"tr\");\n      tr.className = \"pick-row\";\n      tr.setAttribute(\"data-row-id\", pick.id);\n      tr.setAttribute(\"data-pick-id\", pick.id);\n      tr.setAttribute(\"data-league\", sport);\n\n      const date = pick.gameDate || pick.date;\n      const dateText = formatMmDd(date);\n\n      const odds = safeText(pick.odds || \"-110\");\n      const segment = safeText(pick.segment || \"FG\");\n      const pickLabel = formatPickLabel(pick);\n\n      tr.innerHTML = `\n        <td class=\"col-datetime\">\n          <div class=\"datetime-cell\">\n            <div class=\"cell-date\">${safeText(dateText)}</div>\n            <div class=\"cell-time\">${safeText(pick.time || pick.gameTime || \"\")}</div>\n            <div class=\"cell-book\">${safeText(pick.sportsbook || pick.book || pick.source || \"Model\")}</div>\n          </div>\n        </td>\n        <td class=\"center col-league\">\n          <div class=\"league-cell\">\n            ${leagueLogo.src ? `<img src=\"${leagueLogo.src}\" class=\"league-logo\" alt=\"${leagueLogo.alt}\" loading=\"lazy\" />` : safeText(leagueLogo.alt)}\n          </div>\n        </td>\n        <td class=\"col-matchup\">\n          <div class=\"matchup-cell matchup-inline\">\n            <span class=\"team-line\"><span class=\"team-name-full\">${safeText(pick.awayTeam)}</span></span>\n            <span class=\"vs-divider\">@</span>\n            <span class=\"team-line\"><span class=\"team-name-full\">${safeText(pick.homeTeam)}</span></span>\n          </div>\n        </td>\n        <td class=\"center col-segment\">\n          <span class=\"segment-pill\" data-segment=\"${slug(segment)}\">${safeText(segment)}</span>\n        </td>\n        <td class=\"col-pick\">\n          <div class=\"pick-inline\">\n            <span class=\"pick-team\">${safeText(pickLabel)}</span>\n            <span class=\"pick-odds\">(${safeText(odds)})</span>\n          </div>\n        </td>\n        <td class=\"center col-edge\">\n          <span class=\"edge-badge\">${edge ? `${edge.toFixed(1)}%` : \"-\"}</span>\n        </td>\n        <td class=\"center col-fire\">\n          <span class=\"fire-cell\" title=\"Fire rating\">${fireEmoji(pick.fire)}</span>\n        </td>\n        <td class=\"center col-track\">\n          <button\n            class=\"tracker-btn\"\n            type=\"button\"\n            data-pick-id=\"${pick.id}\"\n            aria-pressed=\"${isLocked ? \"true\" : \"false\"}\"\n            title=\"${isLocked ? \"Locked in (on Dashboard)\" : \"Not locked\"}\"\n          >${isLocked ? \"\uD83D\uDD12\" : \"\uFF0B\"}</button>\n        </td>\n      `;\n\n      tbody.appendChild(tr);\n    }\n\n    if (window.Accessibility?.init) {\n      window.Accessibility.init();\n    }\n  };\n\n  const persistWeeklyLineupCache = (picks) => {\n    try {\n      localStorage.setItem(\n        WEEKLY_LINEUP_KEY,\n        JSON.stringify({ picks, fetchedAt: nowIso() }),\n      );\n    } catch (e) {}\n  };\n\n  const toCosmosPick = (pick) => {\n    const sport = normalizeSport(pick.sport || pick.league);\n    const gameDate = (pick.gameDate || pick.date || nowIso())\n      .toString()\n      .slice(0, 10);\n\n    const normalized = {\n      id: pick.id || computePickId(pick),\n      sport,\n      league: sport,\n      awayTeam: safeText(pick.awayTeam),\n      homeTeam: safeText(pick.homeTeam),\n      pickType: safeText(pick.pickType || \"spread\").toLowerCase(),\n      pickDirection: safeText(pick.pickDirection || \"\"),\n      pickTeam: safeText(pick.pickTeam || \"\"),\n      line: safeText(pick.line || \"\"),\n      odds: safeText(pick.odds || \"\"),\n      edge:\n        typeof pick.edge === \"number\"\n          ? pick.edge\n          : parseFloat(String(pick.edge || \"\").replace(\"%\", \"\")) || 0,\n      segment: safeText(pick.segment || \"FG\"),\n      sportsbook: safeText(pick.sportsbook || pick.book || \"Model\"),\n      gameDate,\n      gameTime: safeText(pick.time || pick.gameTime || \"\"),\n      status: safeText(pick.status || \"pending\").toLowerCase(),\n      locked: pick.locked === true,\n      lockedAt: pick.locked === true ? pick.lockedAt || nowIso() : null,\n      source: \"weekly-lineup\",\n      model: safeText(pick.modelStamp || pick.model || \"\"),\n      confidence: pick.fire ?? pick.confidence ?? null,\n      notes: safeText(pick.rationale || pick.notes || \"\"),\n    };\n\n    return normalized;\n  };\n\n  const saveFetchedPicksToCosmos = async (picks) => {\n    if (!window.PicksService?.create) {\n      showToast(\"PicksService not available (Cosmos sync disabled)\", \"warning\");\n      return;\n    }\n\n    if (!Array.isArray(picks) || picks.length === 0) {\n      return;\n    }\n\n    // Auto-save fetched picks as unlocked\n    const payload = picks.map((p) => {\n      const cosmosPick = toCosmosPick({ ...p, locked: false, lockedAt: null });\n      // Ensure deterministic ID\n      cosmosPick.id = cosmosPick.id || computePickId(cosmosPick);\n      return cosmosPick;\n    });\n\n    try {\n      await window.PicksService.create(payload);\n      showToast(\n        `Saved ${payload.length} picks to Dashboard (unlocked)`,\n        \"success\",\n      );\n    } catch (e) {\n      showToast(`Failed to save picks: ${e.message || e}`, \"error\");\n    }\n  };\n\n  const toggleLock = async (pickId, locked) => {\n    const pick = state.activePicks.find((p) => p.id === pickId);\n    if (!pick) return;\n\n    if (!window.PicksService?.update) {\n      showToast(\"PicksService not available (cannot lock/unlock)\", \"error\");\n      return;\n    }\n\n    try {\n      const patch = locked\n        ? { locked: true, lockedAt: nowIso() }\n        : { locked: false, lockedAt: null };\n\n      await window.PicksService.update(pickId, patch);\n\n      pick.locked = locked;\n      pick.lockedAt = patch.lockedAt;\n\n      renderRows(state.activePicks);\n      persistWeeklyLineupCache(state.activePicks);\n\n      showToast(\n        locked\n          ? \"Locked in \u2014 now on Dashboard\"\n          : \"Unlocked \u2014 removed from Dashboard\",\n        \"success\",\n      );\n    } catch (e) {\n      showToast(`Lock update failed: ${e.message || e}`, \"error\");\n    }\n  };\n\n  const attachTrackHandlers = () => {\n    const tbody = el.tbody();\n    if (!tbody) return;\n\n    tbody.addEventListener(\"click\", (evt) => {\n      const btn = evt.target.closest(\".tracker-btn\");\n      if (!btn) return;\n\n      evt.preventDefault();\n      evt.stopPropagation();\n\n      const pickId = btn.getAttribute(\"data-pick-id\");\n      if (!pickId) return;\n\n      const isPressed = btn.getAttribute(\"aria-pressed\") === \"true\";\n      toggleLock(pickId, !isPressed);\n    });\n  };\n\n  const getDateParamForFetchers = () => {\n    // Keep it simple: fetchers default to 'today'\n    return \"today\";\n  };\n\n  const fetchAndRender = async (league) => {\n    if (state.isFetching) return;\n\n    if (!window.UnifiedPicksFetcher?.fetchPicks) {\n      showToast(\"Model fetchers not loaded\", \"error\");\n      return;\n    }\n\n    state.isFetching = true;\n\n    try {\n      const date = getDateParamForFetchers();\n      const result = await window.UnifiedPicksFetcher.fetchPicks(league, date, {\n        skipCache: true,\n      });\n\n      const picks = Array.isArray(result?.picks) ? result.picks : [];\n      const enriched = picks.map((p) => {\n        const withId = { ...p };\n        withId.sport = normalizeSport(withId.sport || withId.league);\n        withId.gameDate = (withId.gameDate || withId.date || nowIso())\n          .toString()\n          .slice(0, 10);\n        withId.id = withId.id || computePickId(withId);\n        withId.locked = withId.locked === true;\n        return withId;\n      });\n\n      // Show newest first by edge\n      enriched.sort((a, b) => (b.edge || 0) - (a.edge || 0));\n\n      state.activePicks = enriched;\n      state.lastFetchedAt = nowIso();\n\n      renderRows(enriched);\n      setLastRefreshed(state.lastFetchedAt);\n      persistWeeklyLineupCache(enriched);\n\n      await saveFetchedPicksToCosmos(enriched);\n\n      if (result?.errors?.length) {\n        const leaguesFailed = result.errors.map((e) => e.league).join(\", \");\n        showToast(`Some leagues unavailable: ${leaguesFailed}`, \"warning\");\n      }\n    } catch (e) {\n      showToast(`Fetch failed: ${e.message || e}`, \"error\");\n      renderEmptyState(\"Unable to fetch picks. Please try again.\");\n    } finally {\n      state.isFetching = false;\n    }\n  };\n\n  const attachFetchHandlers = () => {\n    const root = document.querySelector(\".filter-toolbar\");\n    if (!root) return;\n\n    root.addEventListener(\"click\", (evt) => {\n      const btn = evt.target.closest(\"button[data-fetch]\");\n      if (!btn) return;\n\n      evt.preventDefault();\n\n      const code = safeText(btn.getAttribute(\"data-fetch\")).toLowerCase();\n      if (!code) return;\n\n      if (code === \"all\") {\n        fetchAndRender(\"all\");\n        return;\n      }\n\n      if (code === \"ncaab\" || code === \"ncaam\") {\n        fetchAndRender(\"ncaam\");\n        return;\n      }\n\n      fetchAndRender(code);\n    });\n  };\n\n  const bootstrapFromCache = () => {\n    try {\n      const raw = localStorage.getItem(WEEKLY_LINEUP_KEY);\n      if (!raw) return;\n      const parsed = JSON.parse(raw);\n      if (!Array.isArray(parsed?.picks)) return;\n\n      state.activePicks = parsed.picks;\n      state.lastFetchedAt = parsed.fetchedAt || null;\n\n      renderRows(state.activePicks);\n      if (state.lastFetchedAt) setLastRefreshed(state.lastFetchedAt);\n    } catch (e) {}\n  };\n\n  // Public API expected by WeeklyLineupSync\n  window.WeeklyLineup = {\n    getActivePicks() {\n      return state.activePicks || [];\n    },\n    populateTable(picks) {\n      // Compatibility for other callers\n      state.activePicks = Array.isArray(picks) ? picks : [];\n      renderRows(state.activePicks);\n      persistWeeklyLineupCache(state.activePicks);\n    },\n    showNotification(message, type) {\n      showToast(message, type);\n    },\n    showEmptyState(message) {\n      renderEmptyState(message);\n    },\n  };\n\n  const init = () => {\n    bootstrapFromCache();\n    attachFetchHandlers();\n    attachTrackHandlers();\n\n    // Initialize last refreshed label\n    if (state.lastFetchedAt) {\n      setLastRefreshed(state.lastFetchedAt);\n    }\n  };\n\n  if (document.readyState === \"loading\") {\n    document.addEventListener(\"DOMContentLoaded\", init);\n  } else {\n    init();\n  }\n})();\n"],
  "mappings": "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",
  "names": ["PICKS_ENDPOINT", "picksCache", "lastFetch", "CACHE_TTL", "apiRequest", "endpoint", "options", "url", "config", "response", "data", "error", "invalidateCache", "getAll", "filters", "params", "key", "value", "query", "getActive", "getSettled", "getById", "id", "getByLeague", "league", "getByDate", "date", "getByDateRange", "fromDate", "toDate", "getToday", "today", "create", "picks", "body", "update", "updates", "updateStatus", "status", "additionalUpdates", "markWon", "pnl", "markLost", "markPush", "remove", "clearAll", "confirm", "getSummary", "summary", "pick", "migrateFromLocalStorage", "STORAGE_KEY", "localData", "localPicks", "result", "checkMigrationNeeded", "StateShapeValidators", "state", "dateFilter", "matchupFilter", "riskFilter", "StateManager", "filterType", "parlayId", "isExpanded", "index", "isCurrentlyExpanded", "column", "direction", "count", "WEEKLY_LINEUP_KEY", "el", "nowIso", "formatMmDd", "isoDate", "d", "mm", "dd", "safeText", "slug", "normalizeSport", "sport", "upper", "computePickId", "away", "home", "pickType", "segment", "line", "base", "showToast", "message", "type", "node", "setLastRefreshed", "iso", "target", "getLeagueLogo", "s", "fireEmoji", "fire", "n", "formatPickLabel", "dir", "renderEmptyState", "tbody", "renderRows", "leagueLogo", "edge", "isLocked", "tr", "dateText", "odds", "pickLabel", "persistWeeklyLineupCache", "toCosmosPick", "gameDate", "saveFetchedPicksToCosmos", "payload", "p", "cosmosPick", "toggleLock", "pickId", "locked", "patch", "e", "attachTrackHandlers", "evt", "btn", "isPressed", "getDateParamForFetchers", "fetchAndRender", "enriched", "withId", "a", "b", "leaguesFailed", "attachFetchHandlers", "root", "code", "bootstrapFromCache", "raw", "parsed", "init"]
}
