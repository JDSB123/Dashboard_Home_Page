{
  "version": 3,
  "sources": ["_tmp_core.js"],
  "sourcesContent": ["/* === assets/js/core/debug-config.js === */\n/* ==========================================================================\r\n   Debug Configuration\r\n   --------------------------------------------------------------------------\r\n   Silences console output in production unless explicitly enabled.\r\n\r\n   To enable debug logging:\r\n   - Set window.DEBUG = true BEFORE this script loads, OR\r\n   - Add ?debug=true to the URL, OR\r\n   - Set localStorage.setItem('DEBUG', 'true')\r\n   ========================================================================== */\r\n(function () {\r\n    'use strict';\r\n\r\n    try {\r\n        if (typeof window === 'undefined') return;\r\n\r\n        // Check multiple debug sources\r\n        var isDebugEnabled = (\r\n            window.DEBUG === true ||\r\n            localStorage.getItem('DEBUG') === 'true' ||\r\n            window.location.search.indexOf('debug=true') !== -1\r\n        );\r\n\r\n        // Store for runtime access\r\n        window.DEBUG = isDebugEnabled;\r\n\r\n        if (!isDebugEnabled && typeof console !== 'undefined') {\r\n            // Store original methods for potential restoration\r\n            var originalLog = console.log;\r\n            var originalWarn = console.warn;\r\n\r\n            // Silence log and most warnings in production\r\n            console.log = function () {};\r\n\r\n            // Keep console.warn for actionable warnings, but filter emoji-heavy debug messages\r\n            console.warn = function () {\r\n                // Allow through actual warnings (errors, deprecations)\r\n                var msg = arguments[0];\r\n                if (typeof msg === 'string' && /^[^\\w]*[\uD83D\uDE80\uD83D\uDD04\u26A0\uFE0F\uD83D\uDCE6\uD83D\uDCCD\uD83C\uDFAF\uD83D\uDCDA\uD83D\uDCCA\u2705\u274C\uD83D\uDD27\uD83D\uDCD6\uD83C\uDFC8\uD83D\uDD0D\u23F0\uD83D\uDEAA]/.test(msg)) {\r\n                    // Filter emoji-prefixed debug messages\r\n                    return;\r\n                }\r\n                originalWarn.apply(console, arguments);\r\n            };\r\n\r\n            // console.error always logs (these are real errors)\r\n            // console.info is kept for important status updates\r\n\r\n            // Allow restoration for debugging\r\n            window.__restoreConsole = function () {\r\n                console.log = originalLog;\r\n                console.warn = originalWarn;\r\n                window.DEBUG = true;\r\n            };\r\n        }\r\n    } catch (e) {\r\n        /* Silent fail - don't break the app */\r\n    }\r\n})();\r\n\r\n\r\n\n\n/* === assets/js/utils/shared-utils.js === */\n/**\r\n * Shared Utilities Module\r\n * Common utility functions used across the dashboard\r\n */\r\n\r\n(function() {\r\n    'use strict';\r\n\r\n    /**\r\n     * Get API base URL from config\r\n     * @returns {string} API base URL\r\n     */\r\n    function getApiUrl() {\r\n        return window.APP_CONFIG?.API_BASE_URL || '/api';\r\n    }\r\n\r\n    /**\r\n     * Format money value with $ sign and 2 decimal places\r\n     * @param {number|string} val - Value to format\r\n     * @returns {string} Formatted money string\r\n     */\r\n    function formatMoney(val) {\r\n        if (!val) return '$0.00';\r\n        const num = parseFloat(String(val).replace(/[$,]/g, ''));\r\n        return isNaN(num) ? '$0.00' : `$${num.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\r\n    }\r\n\r\n    /**\r\n     * Format money value without $ sign\r\n     * @param {number|string} val - Value to format\r\n     * @returns {string} Formatted number string\r\n     */\r\n    function formatMoneyValue(val) {\r\n        if (!val) return '0.00';\r\n        const num = parseFloat(String(val).replace(/[$,]/g, ''));\r\n        return isNaN(num) ? '0.00' : num.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });\r\n    }\r\n\r\n    /**\r\n     * Get display label for status\r\n     * @param {string} status - Status key\r\n     * @returns {string} Display label\r\n     */\r\n    function getStatusLabel(status) {\r\n        const labels = {\r\n            'pending': 'Pending',\r\n            'on-track': 'On Track',\r\n            'at-risk': 'At Risk',\r\n            'hit': 'Hit',\r\n            'miss': 'Miss',\r\n            'push': 'Push'\r\n        };\r\n        return labels[status] || status;\r\n    }\r\n\r\n    /**\r\n     * Get segment display label\r\n     * @param {string} segment - Segment key\r\n     * @returns {string} Display label\r\n     */\r\n    function getSegmentLabel(segment) {\r\n        const labels = {\r\n            'full-game': 'Full Game',\r\n            'fg': 'Full Game',\r\n            '1h': '1st Half',\r\n            '2h': '2nd Half',\r\n            '1q': '1st Quarter',\r\n            '2q': '2nd Quarter',\r\n            '3q': '3rd Quarter',\r\n            '4q': '4th Quarter'\r\n        };\r\n        return labels[(segment || '').toLowerCase()] || segment || 'Full Game';\r\n    }\r\n\r\n    /**\r\n     * Get team abbreviation from name\r\n     * @param {string} teamName - Full team name\r\n     * @returns {string} Team abbreviation\r\n     */\r\n    function getTeamAbbr(teamName) {\r\n        if (!teamName) return '';\r\n        \r\n        // Common team abbreviations\r\n        const abbrs = {\r\n            // NFL\r\n            'raiders': 'LV', 'las vegas raiders': 'LV',\r\n            'broncos': 'DEN', 'denver broncos': 'DEN',\r\n            'chiefs': 'KC', 'kansas city chiefs': 'KC',\r\n            'chargers': 'LAC', 'los angeles chargers': 'LAC',\r\n            'cowboys': 'DAL', 'dallas cowboys': 'DAL',\r\n            'eagles': 'PHI', 'philadelphia eagles': 'PHI',\r\n            'giants': 'NYG', 'new york giants': 'NYG',\r\n            'commanders': 'WSH', 'washington commanders': 'WSH',\r\n            'packers': 'GB', 'green bay packers': 'GB',\r\n            'bears': 'CHI', 'chicago bears': 'CHI',\r\n            'lions': 'DET', 'detroit lions': 'DET',\r\n            'vikings': 'MIN', 'minnesota vikings': 'MIN',\r\n            'falcons': 'ATL', 'atlanta falcons': 'ATL',\r\n            'saints': 'NO', 'new orleans saints': 'NO',\r\n            'panthers': 'CAR', 'carolina panthers': 'CAR',\r\n            'buccaneers': 'TB', 'tampa bay buccaneers': 'TB',\r\n            'bills': 'BUF', 'buffalo bills': 'BUF',\r\n            'dolphins': 'MIA', 'miami dolphins': 'MIA',\r\n            'jets': 'NYJ', 'new york jets': 'NYJ',\r\n            'patriots': 'NE', 'new england patriots': 'NE',\r\n            'bengals': 'CIN', 'cincinnati bengals': 'CIN',\r\n            'browns': 'CLE', 'cleveland browns': 'CLE',\r\n            'steelers': 'PIT', 'pittsburgh steelers': 'PIT',\r\n            'ravens': 'BAL', 'baltimore ravens': 'BAL',\r\n            'colts': 'IND', 'indianapolis colts': 'IND',\r\n            'jaguars': 'JAX', 'jacksonville jaguars': 'JAX',\r\n            'texans': 'HOU', 'houston texans': 'HOU',\r\n            'titans': 'TEN', 'tennessee titans': 'TEN',\r\n            'seahawks': 'SEA', 'seattle seahawks': 'SEA',\r\n            '49ers': 'SF', 'san francisco 49ers': 'SF',\r\n            'rams': 'LAR', 'los angeles rams': 'LAR',\r\n            'cardinals': 'ARI', 'arizona cardinals': 'ARI',\r\n            \r\n            // NBA\r\n            'lakers': 'LAL', 'los angeles lakers': 'LAL',\r\n            'clippers': 'LAC', 'la clippers': 'LAC',\r\n            'warriors': 'GSW', 'golden state warriors': 'GSW',\r\n            'suns': 'PHX', 'phoenix suns': 'PHX',\r\n            'celtics': 'BOS', 'boston celtics': 'BOS',\r\n            'nets': 'BKN', 'brooklyn nets': 'BKN',\r\n            'knicks': 'NYK', 'new york knicks': 'NYK',\r\n            '76ers': 'PHI', 'philadelphia 76ers': 'PHI',\r\n            'heat': 'MIA', 'miami heat': 'MIA',\r\n            'magic': 'ORL', 'orlando magic': 'ORL',\r\n            'bulls': 'CHI', 'chicago bulls': 'CHI',\r\n            'bucks': 'MIL', 'milwaukee bucks': 'MIL',\r\n            'cavaliers': 'CLE', 'cleveland cavaliers': 'CLE',\r\n            'pistons': 'DET', 'detroit pistons': 'DET',\r\n            'pacers': 'IND', 'indiana pacers': 'IND',\r\n            'hawks': 'ATL', 'atlanta hawks': 'ATL',\r\n            'hornets': 'CHA', 'charlotte hornets': 'CHA',\r\n            'wizards': 'WAS', 'washington wizards': 'WAS',\r\n            'raptors': 'TOR', 'toronto raptors': 'TOR',\r\n            'nuggets': 'DEN', 'denver nuggets': 'DEN',\r\n            'jazz': 'UTA', 'utah jazz': 'UTA',\r\n            'blazers': 'POR', 'portland trail blazers': 'POR',\r\n            'thunder': 'OKC', 'oklahoma city thunder': 'OKC',\r\n            'timberwolves': 'MIN', 'minnesota timberwolves': 'MIN',\r\n            'pelicans': 'NOP', 'new orleans pelicans': 'NOP',\r\n            'grizzlies': 'MEM', 'memphis grizzlies': 'MEM',\r\n            'spurs': 'SAS', 'san antonio spurs': 'SAS',\r\n            'rockets': 'HOU', 'houston rockets': 'HOU',\r\n            'mavericks': 'DAL', 'dallas mavericks': 'DAL',\r\n            'kings': 'SAC', 'sacramento kings': 'SAC'\r\n        };\r\n        \r\n        const key = teamName.toLowerCase().trim();\r\n        if (abbrs[key]) {\r\n            return abbrs[key];\r\n        }\r\n        \r\n        // Fallback: first 3 letters of last word\r\n        const words = teamName.trim().split(/\\s+/);\r\n        return words[words.length - 1].substring(0, 3).toUpperCase();\r\n    }\r\n\r\n    /**\r\n     * Parse teams from game string\r\n     * @param {string} gameString - Game string like \"Team A @ Team B\"\r\n     * @returns {Object} { away, home }\r\n     */\r\n    function parseTeamsFromGame(gameString) {\r\n        if (!gameString) return { away: '', home: '' };\r\n        \r\n        const separators = ['@', ' vs ', ' vs. ', ' / '];\r\n        for (const sep of separators) {\r\n            if (gameString.includes(sep)) {\r\n                const parts = gameString.split(sep);\r\n                return {\r\n                    away: parts[0].trim(),\r\n                    home: parts[1] ? parts[1].trim() : ''\r\n                };\r\n            }\r\n        }\r\n        \r\n        return { away: gameString.trim(), home: '' };\r\n    }\r\n\r\n    /**\r\n     * Escape HTML to prevent XSS\r\n     * @param {string} text - Text to escape\r\n     * @returns {string} Escaped HTML\r\n     */\r\n    function escapeHtml(text) {\r\n        const div = document.createElement('div');\r\n        div.textContent = text;\r\n        return div.innerHTML;\r\n    }\r\n\r\n    /**\r\n     * Format file size for display\r\n     * @param {number} bytes - File size in bytes\r\n     * @returns {string} Formatted file size\r\n     */\r\n    function formatFileSize(bytes) {\r\n        if (bytes < 1024) return bytes + ' B';\r\n        if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';\r\n        return (bytes / (1024 * 1024)).toFixed(1) + ' MB';\r\n    }\r\n\r\n    /**\r\n     * Debounce function - delays execution until after wait ms have elapsed\r\n     * since the last time the debounced function was invoked\r\n     * @param {Function} func - Function to debounce\r\n     * @param {number} wait - Milliseconds to wait (default: 150)\r\n     * @param {boolean} immediate - Execute on leading edge instead of trailing\r\n     * @returns {Function} Debounced function with cancel() method\r\n     */\r\n    function debounce(func, wait = 150, immediate = false) {\r\n        let timeout;\r\n\r\n        function debounced(...args) {\r\n            const context = this;\r\n            const later = function() {\r\n                timeout = null;\r\n                if (!immediate) func.apply(context, args);\r\n            };\r\n            const callNow = immediate && !timeout;\r\n            clearTimeout(timeout);\r\n            timeout = setTimeout(later, wait);\r\n            if (callNow) func.apply(context, args);\r\n        }\r\n\r\n        debounced.cancel = function() {\r\n            clearTimeout(timeout);\r\n            timeout = null;\r\n        };\r\n\r\n        return debounced;\r\n    }\r\n\r\n    /**\r\n     * Throttle function - ensures function is called at most once per wait period\r\n     * @param {Function} func - Function to throttle\r\n     * @param {number} wait - Minimum ms between calls (default: 100)\r\n     * @returns {Function} Throttled function\r\n     */\r\n    function throttle(func, wait = 100) {\r\n        let lastCall = 0;\r\n        let timeout = null;\r\n\r\n        return function throttled(...args) {\r\n            const context = this;\r\n            const now = Date.now();\r\n            const remaining = wait - (now - lastCall);\r\n\r\n            if (remaining <= 0 || remaining > wait) {\r\n                if (timeout) {\r\n                    clearTimeout(timeout);\r\n                    timeout = null;\r\n                }\r\n                lastCall = now;\r\n                func.apply(context, args);\r\n            } else if (!timeout) {\r\n                timeout = setTimeout(function() {\r\n                    lastCall = Date.now();\r\n                    timeout = null;\r\n                    func.apply(context, args);\r\n                }, remaining);\r\n            }\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Format date for display\r\n     * @param {string|Date} date - Date to format\r\n     * @returns {string} Formatted date (MM/DD/YYYY)\r\n     */\r\n    function formatDate(date) {\r\n        if (!date) return 'TBD';\r\n        const d = new Date(date);\r\n        if (isNaN(d.getTime())) return 'TBD';\r\n        const month = (d.getMonth() + 1).toString().padStart(2, '0');\r\n        const day = d.getDate().toString().padStart(2, '0');\r\n        const year = d.getFullYear();\r\n        return `${month}/${day}/${year}`;\r\n    }\r\n\r\n    /**\r\n     * Format time for display\r\n     * @param {string|Date} date - Date/time to format\r\n     * @returns {string} Formatted time (HH:MM AM/PM)\r\n     */\r\n    function formatTime(date) {\r\n        if (!date) return 'TBD';\r\n        const d = new Date(date);\r\n        if (isNaN(d.getTime())) return 'TBD';\r\n        return d.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', hour12: true });\r\n    }\r\n\r\n    // Export utilities\r\n    window.SharedUtils = {\r\n        getApiUrl,\r\n        formatMoney,\r\n        formatMoneyValue,\r\n        getStatusLabel,\r\n        getSegmentLabel,\r\n        getTeamAbbr,\r\n        parseTeamsFromGame,\r\n        escapeHtml,\r\n        formatFileSize,\r\n        formatDate,\r\n        formatTime,\r\n        debounce,\r\n        throttle\r\n    };\r\n\r\n})();\r\n\n\n/* === assets/js/utils/notifications.js === */\n/**\r\n * Notification System\r\n * Provides user feedback for API operations and errors\r\n */\r\n\r\n(function() {\r\n    'use strict';\r\n\r\n    let container = null;\r\n\r\n    /**\r\n     * Initialize notification container\r\n     */\r\n    function initContainer() {\r\n        if (container) return container;\r\n        \r\n        container = document.createElement('div');\r\n        container.id = 'notification-container';\r\n        container.style.cssText = `\r\n            position: fixed;\r\n            top: 20px;\r\n            right: 20px;\r\n            z-index: 10001;\r\n            display: flex;\r\n            flex-direction: column;\r\n            gap: 10px;\r\n            max-width: 400px;\r\n            pointer-events: none;\r\n        `;\r\n        document.body.appendChild(container);\r\n        return container;\r\n    }\r\n\r\n    /**\r\n     * Show notification toast\r\n     * @param {string} message - Message to display\r\n     * @param {string} type - Type: 'success', 'error', 'warning', 'info'\r\n     * @param {number} duration - Duration in ms (default 5000, 0 = persistent)\r\n     */\r\n    function showNotification(message, type = 'info', duration = 5000) {\r\n        initContainer();\r\n        \r\n        const notification = document.createElement('div');\r\n        notification.className = `notification notification-${type}`;\r\n        \r\n        // Type-specific styling\r\n        const colors = {\r\n            success: { bg: 'rgba(0, 214, 137, 0.95)', icon: '\u2713', border: '#00ffaa' },\r\n            error: { bg: 'rgba(229, 57, 53, 0.95)', icon: '\u2715', border: '#ff5f6d' },\r\n            warning: { bg: 'rgba(251, 140, 0, 0.95)', icon: '\u26A0', border: '#fb8c00' },\r\n            info: { bg: 'rgba(74, 182, 255, 0.95)', icon: '\u2139', border: '#4ab6ff' }\r\n        };\r\n        \r\n        const style = colors[type] || colors.info;\r\n        \r\n        notification.style.cssText = `\r\n            display: flex;\r\n            align-items: flex-start;\r\n            gap: 12px;\r\n            padding: 14px 18px;\r\n            background: ${style.bg};\r\n            border: 1px solid ${style.border};\r\n            border-radius: 8px;\r\n            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);\r\n            color: white;\r\n            font-family: 'Cormorant Garamond', Georgia, serif;\r\n            font-size: 0.95rem;\r\n            font-weight: 500;\r\n            line-height: 1.4;\r\n            pointer-events: auto;\r\n            opacity: 0;\r\n            transform: translateX(100%);\r\n            transition: opacity 0.3s ease, transform 0.3s ease;\r\n        `;\r\n        \r\n        notification.innerHTML = `\r\n            <span style=\"font-size: 1.2rem; line-height: 1;\">${style.icon}</span>\r\n            <span style=\"flex: 1;\">${message}</span>\r\n            <button onclick=\"this.parentElement.remove()\" style=\"\r\n                background: none;\r\n                border: none;\r\n                color: white;\r\n                opacity: 0.7;\r\n                cursor: pointer;\r\n                font-size: 1.2rem;\r\n                padding: 0;\r\n                line-height: 1;\r\n            \" onmouseover=\"this.style.opacity=1\" onmouseout=\"this.style.opacity=0.7\">\u00D7</button>\r\n        `;\r\n        \r\n        container.appendChild(notification);\r\n        \r\n        // Animate in\r\n        requestAnimationFrame(() => {\r\n            notification.style.opacity = '1';\r\n            notification.style.transform = 'translateX(0)';\r\n        });\r\n        \r\n        // Auto-dismiss\r\n        if (duration > 0) {\r\n            setTimeout(() => {\r\n                dismissNotification(notification);\r\n            }, duration);\r\n        }\r\n        \r\n        return notification;\r\n    }\r\n\r\n    /**\r\n     * Dismiss a notification\r\n     */\r\n    function dismissNotification(notification) {\r\n        if (!notification) return;\r\n        \r\n        notification.style.opacity = '0';\r\n        notification.style.transform = 'translateX(100%)';\r\n        \r\n        setTimeout(() => {\r\n            notification.remove();\r\n        }, 300);\r\n    }\r\n\r\n    /**\r\n     * Show loading indicator\r\n     * @param {string} message - Loading message\r\n     * @returns {Object} - Loading indicator with dismiss method\r\n     */\r\n    function showLoading(message = 'Loading...') {\r\n        const notification = showNotification(\r\n            `<span class=\"loading-spinner\"></span> ${message}`,\r\n            'info',\r\n            0\r\n        );\r\n        \r\n        // Add spinner animation\r\n        const style = document.createElement('style');\r\n        style.textContent = `\r\n            @keyframes spin {\r\n                to { transform: rotate(360deg); }\r\n            }\r\n            .loading-spinner {\r\n                display: inline-block;\r\n                width: 14px;\r\n                height: 14px;\r\n                border: 2px solid rgba(255,255,255,0.3);\r\n                border-top-color: white;\r\n                border-radius: 50%;\r\n                animation: spin 1s linear infinite;\r\n                margin-right: 8px;\r\n                vertical-align: middle;\r\n            }\r\n        `;\r\n        if (!document.querySelector('style[data-loading-spinner]')) {\r\n            style.setAttribute('data-loading-spinner', 'true');\r\n            document.head.appendChild(style);\r\n        }\r\n        \r\n        return {\r\n            dismiss: () => dismissNotification(notification),\r\n            update: (newMessage) => {\r\n                const textSpan = notification.querySelector('span:nth-child(2)');\r\n                if (textSpan) textSpan.innerHTML = `<span class=\"loading-spinner\"></span> ${newMessage}`;\r\n            }\r\n        };\r\n    }\r\n\r\n    // Convenience methods\r\n    function success(message, duration) {\r\n        return showNotification(message, 'success', duration);\r\n    }\r\n\r\n    function error(message, duration = 8000) {\r\n        return showNotification(message, 'error', duration);\r\n    }\r\n\r\n    function warning(message, duration) {\r\n        return showNotification(message, 'warning', duration);\r\n    }\r\n\r\n    function info(message, duration) {\r\n        return showNotification(message, 'info', duration);\r\n    }\r\n\r\n    // Export\r\n    window.Notify = {\r\n        show: showNotification,\r\n        success,\r\n        error,\r\n        warning,\r\n        info,\r\n        loading: showLoading\r\n    };\r\n\r\n})();\r\n\n\n/* === assets/js/utils/data-cache-manager.js === */\n/**\r\n * Data Cache Manager\r\n * Provides localStorage caching for API responses with TTL and versioning\r\n * Reduces redundant API calls when navigating between pages\r\n */\r\n\r\nconst DataCacheManager = (() => {\r\n  const CACHE_PREFIX = 'gbsv_cache_';\r\n  const DEFAULT_TTL = 5 * 60 * 1000; // 5 minutes\r\n\r\n  /**\r\n   * Store data in cache with TTL\r\n   * @param {string} key - Cache key\r\n   * @param {any} data - Data to cache\r\n   * @param {number} ttl - Time to live in milliseconds (default: 5 min)\r\n   */\r\n  function set(key, data, ttl = DEFAULT_TTL) {\r\n    try {\r\n      const cacheKey = CACHE_PREFIX + key;\r\n      const entry = {\r\n        data,\r\n        timestamp: Date.now(),\r\n        ttl,\r\n        version: window.APP_VERSION || '1.0.0',\r\n      };\r\n      localStorage.setItem(cacheKey, JSON.stringify(entry));\r\n    } catch (err) {\r\n      console.warn('[DataCache] Failed to cache:', key, err);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get data from cache if valid\r\n   * @param {string} key - Cache key\r\n   * @returns {any|null} Cached data or null if expired/missing\r\n   */\r\n  function get(key) {\r\n    try {\r\n      const cacheKey = CACHE_PREFIX + key;\r\n      const raw = localStorage.getItem(cacheKey);\r\n      if (!raw) return null;\r\n\r\n      const entry = JSON.parse(raw);\r\n      const age = Date.now() - entry.timestamp;\r\n\r\n      // Check TTL expiration\r\n      if (age > entry.ttl) {\r\n        localStorage.removeItem(cacheKey);\r\n        return null;\r\n      }\r\n\r\n      // Version mismatch invalidation (optional)\r\n      if (window.APP_VERSION && entry.version !== window.APP_VERSION) {\r\n        localStorage.removeItem(cacheKey);\r\n        return null;\r\n      }\r\n\r\n      return entry.data;\r\n    } catch (err) {\r\n      console.warn('[DataCache] Failed to read cache:', key, err);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Remove specific cache entry\r\n   * @param {string} key - Cache key\r\n   */\r\n  function remove(key) {\r\n    try {\r\n      const cacheKey = CACHE_PREFIX + key;\r\n      localStorage.removeItem(cacheKey);\r\n    } catch (err) {\r\n      console.warn('[DataCache] Failed to remove:', key, err);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Clear all cached data\r\n   */\r\n  function clear() {\r\n    try {\r\n      const keys = Object.keys(localStorage);\r\n      keys.forEach((key) => {\r\n        if (key.startsWith(CACHE_PREFIX)) {\r\n          localStorage.removeItem(key);\r\n        }\r\n      });\r\n    } catch (err) {\r\n      console.warn('[DataCache] Failed to clear:', err);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Fetch with cache fallback\r\n   * @param {string} url - API endpoint\r\n   * @param {object} options - Fetch options\r\n   * @param {string} cacheKey - Cache key (defaults to URL)\r\n   * @param {number} ttl - Cache TTL in milliseconds\r\n   * @returns {Promise<any>} Response data\r\n   */\r\n  async function fetchWithCache(url, options = {}, cacheKey = url, ttl = DEFAULT_TTL) {\r\n    // Try cache first\r\n    const cached = get(cacheKey);\r\n    if (cached) {\r\n      console.log('[DataCache] Hit:', cacheKey);\r\n      return cached;\r\n    }\r\n\r\n    // Fetch from network\r\n    console.log('[DataCache] Miss:', cacheKey);\r\n    const response = await fetch(url, options);\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n    }\r\n\r\n    const data = await response.json();\r\n    set(cacheKey, data, ttl);\r\n    return data;\r\n  }\r\n\r\n  /**\r\n   * Check if cache entry exists and is valid\r\n   * @param {string} key - Cache key\r\n   * @returns {boolean}\r\n   */\r\n  function has(key) {\r\n    return get(key) !== null;\r\n  }\r\n\r\n  /**\r\n   * Get cache statistics\r\n   * @returns {object} Stats object\r\n   */\r\n  function getStats() {\r\n    try {\r\n      const keys = Object.keys(localStorage);\r\n      const cacheKeys = keys.filter((k) => k.startsWith(CACHE_PREFIX));\r\n      let totalSize = 0;\r\n      cacheKeys.forEach((key) => {\r\n        const value = localStorage.getItem(key);\r\n        if (value) {\r\n          totalSize += value.length;\r\n        }\r\n      });\r\n      return {\r\n        entries: cacheKeys.length,\r\n        sizeBytes: totalSize,\r\n        sizeKB: (totalSize / 1024).toFixed(2),\r\n      };\r\n    } catch (err) {\r\n      return { entries: 0, sizeBytes: 0, sizeKB: '0' };\r\n    }\r\n  }\r\n\r\n  return {\r\n    set,\r\n    get,\r\n    remove,\r\n    clear,\r\n    fetchWithCache,\r\n    has,\r\n    getStats,\r\n  };\r\n})();\r\n\r\n// Expose globally\r\nwindow.DataCacheManager = DataCacheManager;\r\n\n\n/* === assets/js/utils/lazy-script-loader.js === */\n/**\r\n * Lazy Script Loader\r\n * Loads non-critical scripts after initial page interactive\r\n * Improves Time to Interactive (TTI) and perceived performance\r\n */\r\n\r\nconst LazyScriptLoader = (() => {\r\n  const loadedScripts = new Set();\r\n  const pendingScripts = new Map();\r\n\r\n  /**\r\n   * Load a script dynamically\r\n   * @param {string} src - Script URL\r\n   * @param {object} options - Script options (async, defer, module, etc.)\r\n   * @returns {Promise<void>}\r\n   */\r\n  function loadScript(src, options = {}) {\r\n    // Return existing promise if already loading\r\n    if (pendingScripts.has(src)) {\r\n      return pendingScripts.get(src);\r\n    }\r\n\r\n    // Already loaded\r\n    if (loadedScripts.has(src)) {\r\n      return Promise.resolve();\r\n    }\r\n\r\n    const promise = new Promise((resolve, reject) => {\r\n      const script = document.createElement('script');\r\n      script.src = src;\r\n      script.async = options.async !== false; // async by default\r\n\r\n      if (options.defer) script.defer = true;\r\n      if (options.type) script.type = options.type;\r\n      if (options.crossOrigin) script.crossOrigin = options.crossOrigin;\r\n\r\n      script.onload = () => {\r\n        loadedScripts.add(src);\r\n        pendingScripts.delete(src);\r\n        resolve();\r\n      };\r\n\r\n      script.onerror = () => {\r\n        pendingScripts.delete(src);\r\n        reject(new Error(`Failed to load script: ${src}`));\r\n      };\r\n\r\n      document.head.appendChild(script);\r\n    });\r\n\r\n    pendingScripts.set(src, promise);\r\n    return promise;\r\n  }\r\n\r\n  /**\r\n   * Load multiple scripts in parallel\r\n   * @param {string[]} scripts - Array of script URLs\r\n   * @param {object} options - Script options\r\n   * @returns {Promise<void>}\r\n   */\r\n  function loadScripts(scripts, options = {}) {\r\n    return Promise.all(scripts.map((src) => loadScript(src, options)));\r\n  }\r\n\r\n  /**\r\n   * Load scripts after page is interactive\r\n   * @param {string|string[]} scripts - Script URL(s)\r\n   * @param {object} options - Script options\r\n   * @returns {Promise<void>}\r\n   */\r\n  function loadAfterInteractive(scripts, options = {}) {\r\n    return new Promise((resolve) => {\r\n      const loadScriptsNow = () => {\r\n        const scriptArray = Array.isArray(scripts) ? scripts : [scripts];\r\n        loadScripts(scriptArray, options).then(resolve).catch(resolve);\r\n      };\r\n\r\n      if (document.readyState === 'complete') {\r\n        // Already loaded\r\n        loadScriptsNow();\r\n      } else {\r\n        window.addEventListener('load', loadScriptsNow);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Load scripts when idle\r\n   * @param {string|string[]} scripts - Script URL(s)\r\n   * @param {object} options - Script options\r\n   * @returns {Promise<void>}\r\n   */\r\n  function loadWhenIdle(scripts, options = {}) {\r\n    return new Promise((resolve) => {\r\n      const loadScriptsNow = () => {\r\n        const scriptArray = Array.isArray(scripts) ? scripts : [scripts];\r\n        loadScripts(scriptArray, options).then(resolve).catch(resolve);\r\n      };\r\n\r\n      if ('requestIdleCallback' in window) {\r\n        requestIdleCallback(loadScriptsNow, { timeout: 2000 });\r\n      } else {\r\n        setTimeout(loadScriptsNow, 1000);\r\n      }\r\n    });\r\n  }\r\n\r\n  return {\r\n    loadScript,\r\n    loadScripts,\r\n    loadAfterInteractive,\r\n    loadWhenIdle,\r\n  };\r\n})();\r\n\r\n// Expose globally\r\nwindow.LazyScriptLoader = LazyScriptLoader;\r\n\n\n/* === assets/js/utils/logo-loader.js === */\n/**\r\n * Logo Loader - Loads team logos from Azure Blob Storage\r\n * Fallback to ESPN CDN if Azure is unavailable\r\n */\r\n\r\nwindow.LogoLoader = (() => {\r\n  // Prefer custom Front Door / CDN host, then blob storage as fallback\r\n  const CONFIG_BASE = (window.APP_CONFIG && window.APP_CONFIG.LOGO_BASE_URL) || null;\r\n  const CONFIG_FALLBACK = (window.APP_CONFIG && window.APP_CONFIG.LOGO_FALLBACK_URL) || null;\r\n  const AZURE_BLOB_URL = 'https://gbsvorchestratorstorage.blob.core.windows.net/team-logos';\r\n  const CANDIDATE_BASES = [CONFIG_BASE, CONFIG_FALLBACK, AZURE_BLOB_URL].filter(Boolean);\r\n\r\n  // ESPN CDN URL (last-resort fallback only)\r\n  const ESPN_CDN_URL = 'https://a.espncdn.com/i/teamlogos';\r\n\r\n  // Cache for loaded logos\r\n  const logoCache = new Map();\r\n  let resolvedBase = null;\r\n\r\n  // Resolve the first reachable base URL using an <img> probe to avoid connect-src CSP\r\n  async function resolveBaseUrl() {\r\n    if (resolvedBase) return resolvedBase;\r\n    for (const base of CANDIDATE_BASES) {\r\n      try {\r\n        await new Promise((resolve, reject) => {\r\n          const img = new Image();\r\n          img.onload = () => resolve();\r\n          img.onerror = () => reject(new Error('probe failed'));\r\n          // Cache-bust to ensure we actually test reachability\r\n          const ts = Date.now();\r\n          img.src = `${base}/leagues-500-nba.png?probe=${ts}`;\r\n        });\r\n        resolvedBase = base;\r\n        return resolvedBase;\r\n      } catch (_) {\r\n        // try next\r\n      }\r\n    }\r\n    resolvedBase = CANDIDATE_BASES[0] || AZURE_BLOB_URL;\r\n    return resolvedBase;\r\n  }\r\n\r\n  // Kick off resolution asynchronously\r\n  resolveBaseUrl();\r\n\r\n  // Resolve the current best base (may still be resolving)\r\n  function getBaseUrl() {\r\n    return resolvedBase || CANDIDATE_BASES[0] || AZURE_BLOB_URL;\r\n  }\r\n\r\n  /**\r\n   * Get logo URL for a team\r\n   * @param {string} league - 'nba', 'nfl', 'ncaam', 'ncaaf', etc.\r\n   * @param {string} teamId - Team ID (e.g., 'ny', 'buf', 'gs')\r\n   * @returns {string} Logo URL\r\n   */\r\n  function getLogoUrl(league, teamId) {\r\n    const cacheKey = `${league}-${teamId}`;\r\n\r\n    if (logoCache.has(cacheKey)) {\r\n      return logoCache.get(cacheKey);\r\n    }\r\n\r\n    // Map league names to folder structure\r\n    const leagueMap = {\r\n      'nba': 'nba',\r\n      'nfl': 'nfl',\r\n      'ncaam': 'ncaa',\r\n      'ncaab': 'ncaa',\r\n      'ncaaf': 'ncaa',\r\n      'ncaf': 'ncaa'\r\n    };\r\n\r\n    const folder = leagueMap[league] || league;\r\n\r\n    // Try Front Door/CDN first, then blob fallback\r\n    const baseUrl = getBaseUrl();\r\n    let url = `${baseUrl}/${folder}-500-${teamId}.png`;\r\n\r\n    // Store in cache\r\n    logoCache.set(cacheKey, url);\r\n    return url;\r\n  }\r\n\r\n  /**\r\n   * Get league logo URL (served as static asset)\r\n   * @param {string} league - 'nba', 'nfl', 'ncaam', 'ncaaf'\r\n   * @returns {string} Logo URL\r\n   */\r\n  function getLeagueLogoUrl(league) {\r\n    if (!league) return '';\r\n    const normalizedLeague = league.toString().toLowerCase();\r\n\r\n    // NCAA league icons are not guaranteed to exist in blob storage.\r\n    // Use local, non-copyright SVG icons instead.\r\n    if (normalizedLeague === 'ncaab' || normalizedLeague === 'ncaam' || normalizedLeague === 'ncaa-basketball') {\r\n      return '/assets/icons/league-ncaam.svg';\r\n    }\r\n    if (normalizedLeague === 'ncaaf' || normalizedLeague === 'ncaa-football') {\r\n      return '/assets/icons/league-ncaaf.svg';\r\n    }\r\n\r\n    const leagueFileMap = {\r\n      nba: 'leagues-500-nba.png',\r\n      nfl: 'leagues-500-nfl.png'\r\n    };\r\n    const fileName = leagueFileMap[normalizedLeague] || `leagues-500-${normalizedLeague}.png`;\r\n    const baseUrl = getBaseUrl();\r\n    if (baseUrl) {\r\n      return `${baseUrl}/${fileName}`;\r\n    }\r\n\r\n    // Fallback to static assets for older clients\r\n    return `/assets/${normalizedLeague}-logo.png`;\r\n  }\r\n\r\n  /**\r\n   * Preload multiple logos\r\n   * @param {Array} logoSpecs - Array of {league, teamId} objects\r\n   */\r\n  function preloadLogos(logoSpecs) {\r\n    logoSpecs.forEach(spec => {\r\n      const url = getLogoUrl(spec.league, spec.teamId);\r\n      const img = new Image();\r\n      img.src = url;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get all cached logos statistics\r\n   */\r\n  function getStats() {\r\n    return {\r\n      cached: logoCache.size,\r\n      storageUrl: getBaseUrl(),\r\n      fallbackUrl: ESPN_CDN_URL\r\n    };\r\n  }\r\n\r\n  return {\r\n    getLogoUrl,\r\n    getLeagueLogoUrl,\r\n    preloadLogos,\r\n    getStats,\r\n    AZURE_BLOB_URL,\r\n    ESPN_CDN_URL\r\n  };\r\n})();\r\n\r\n// Expose globally\r\nwindow.LogoLoader = window.LogoLoader;\r\n\n\n/* === assets/js/utils/logo-url-rewriter.js === */\n/**\r\n * Logo URL Rewriter\r\n * Converts any ESPN CDN logo URLs to our Front Door / Azure CDN paths at runtime.\r\n * Works for existing DOM nodes and any future assignments to <img>.src.\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    const configBase = (window.APP_CONFIG && window.APP_CONFIG.LOGO_BASE_URL) || null;\r\n    const fallbackBase = (window.APP_CONFIG && window.APP_CONFIG.LOGO_FALLBACK_URL) || null;\r\n    const defaultBase = 'https://gbsvorchestratorstorage.blob.core.windows.net/team-logos';\r\n    const LOGO_BASE = configBase || fallbackBase || defaultBase;\r\n\r\n    /**\r\n     * Transform an ESPN CDN URL into our CDN layout.\r\n     * Example:\r\n     *   https://a.espncdn.com/i/teamlogos/nba/500/ny.png\r\n     *   -> https://<LOGO_BASE>/nba-500-ny.png\r\n     */\r\n    function convertEspnUrl(rawUrl) {\r\n        if (!rawUrl) return null;\r\n        try {\r\n            const url = new URL(rawUrl, window.location.origin);\r\n            if (!/espncdn\\.com$/.test(url.hostname) && !/\\.espncdn\\.com$/.test(url.hostname)) {\r\n                return null;\r\n            }\r\n\r\n            const segments = url.pathname.split('/').filter(Boolean);\r\n            const idx = segments.indexOf('teamlogos');\r\n            if (idx === -1 || segments.length < idx + 3) return null;\r\n\r\n            const next = segments[idx + 1];\r\n            const sizeOrLeague = segments[idx + 2];\r\n            const maybeFile = segments[idx + 3] || '';\r\n\r\n            // League logos: /teamlogos/leagues/500/nba.png\r\n            if (next === 'leagues') {\r\n                const league = maybeFile.replace('.png', '');\r\n                if (!league) return null;\r\n                return `${LOGO_BASE}/leagues-500-${league}.png`;\r\n            }\r\n\r\n            // Team logos: /teamlogos/nba/500/ny.png\r\n            const league = next;\r\n            const file = sizeOrLeague === '500' ? maybeFile : sizeOrLeague;\r\n            const teamId = file.replace('.png', '');\r\n            if (!league || !teamId) return null;\r\n\r\n            return `${LOGO_BASE}/${league}-500-${teamId}.png`;\r\n        } catch (_) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    function rewriteImage(img) {\r\n        if (!img || !img.src) return;\r\n        const mapped = convertEspnUrl(img.src);\r\n        if (mapped && mapped !== img.src) {\r\n            img.src = mapped;\r\n        }\r\n    }\r\n\r\n    function rewriteExistingImages() {\r\n        document.querySelectorAll('img[src*=\"espncdn.com/i/teamlogos/\"]').forEach(rewriteImage);\r\n    }\r\n\r\n    // Patch future assignments to <img>.src so minified code paths also get rewritten\r\n    const descriptor = Object.getOwnPropertyDescriptor(HTMLImageElement.prototype, 'src');\r\n    if (descriptor && descriptor.set) {\r\n        const originalSet = descriptor.set;\r\n        Object.defineProperty(HTMLImageElement.prototype, 'src', {\r\n            configurable: true,\r\n            enumerable: descriptor.enumerable,\r\n            get: descriptor.get,\r\n            set(value) {\r\n                const mapped = convertEspnUrl(value) || value;\r\n                return originalSet.call(this, mapped);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Rewrite on DOM ready\r\n    if (document.readyState === 'loading') {\r\n        document.addEventListener('DOMContentLoaded', rewriteExistingImages, { once: true });\r\n    } else {\r\n        rewriteExistingImages();\r\n    }\r\n\r\n    // Observe future DOM mutations for dynamically added <img> tags\r\n    const observer = new MutationObserver((mutations) => {\r\n        mutations.forEach((mutation) => {\r\n            mutation.addedNodes.forEach((node) => {\r\n                if (node.tagName === 'IMG') {\r\n                    rewriteImage(node);\r\n                } else if (node.querySelectorAll) {\r\n                    node.querySelectorAll('img').forEach(rewriteImage);\r\n                }\r\n            });\r\n        });\r\n    });\r\n\r\n    observer.observe(document.documentElement || document.body, {\r\n        childList: true,\r\n        subtree: true\r\n    });\r\n\r\n    // Expose helper for manual use/debug\r\n    window.LogoUrlRewriter = {\r\n        convertEspnUrl,\r\n        rewriteExistingImages\r\n    };\r\n})();\r\n\n\n/* === assets/js/utils/error-handler.js === */\n/**\r\n * Error Handler Utility\r\n * Provides user-facing error notifications and centralized error handling\r\n */\r\n\r\n(function() {\r\n    'use strict';\r\n\r\n    /**\r\n     * Show error notification to user\r\n     * @param {string} message - Error message to display\r\n     * @param {string} type - Error type: 'error', 'warning', 'info'\r\n     * @param {number} duration - Duration in milliseconds (0 = persistent)\r\n     */\r\n    function showError(message, type = 'error', duration = 5000) {\r\n        // Use notifications.js if available\r\n        if (window.Notifications && typeof window.Notifications.show === 'function') {\r\n            window.Notifications.show(message, type, duration);\r\n            return;\r\n        }\r\n\r\n        // Fallback: Create simple notification element\r\n        const notification = document.createElement('div');\r\n        notification.className = `error-notification error-notification-${type}`;\r\n        notification.setAttribute('role', 'alert');\r\n        notification.setAttribute('aria-live', 'polite');\r\n        \r\n        const icon = type === 'error' ? '\u26A0\uFE0F' : type === 'warning' ? '\u26A0\uFE0F' : '\u2139\uFE0F';\r\n        notification.innerHTML = `\r\n            <span class=\"error-icon\">${icon}</span>\r\n            <span class=\"error-message\">${escapeHtml(message)}</span>\r\n            <button class=\"error-close\" aria-label=\"Close notification\">\u00D7</button>\r\n        `;\r\n\r\n        // Add styles if not already present\r\n        if (!document.getElementById('error-notification-styles')) {\r\n            const style = document.createElement('style');\r\n            style.id = 'error-notification-styles';\r\n            style.textContent = `\r\n                .error-notification {\r\n                    position: fixed;\r\n                    top: 20px;\r\n                    right: 20px;\r\n                    background: rgba(220, 53, 69, 0.95);\r\n                    color: white;\r\n                    padding: 12px 16px;\r\n                    border-radius: 8px;\r\n                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\r\n                    z-index: 10000;\r\n                    display: flex;\r\n                    align-items: center;\r\n                    gap: 10px;\r\n                    max-width: 400px;\r\n                    animation: slideIn 0.3s ease-out;\r\n                }\r\n                .error-notification-warning {\r\n                    background: rgba(255, 193, 7, 0.95);\r\n                    color: #000;\r\n                }\r\n                .error-notification-info {\r\n                    background: rgba(0, 123, 255, 0.95);\r\n                    color: white;\r\n                }\r\n                .error-notification .error-close {\r\n                    background: none;\r\n                    border: none;\r\n                    color: inherit;\r\n                    font-size: 20px;\r\n                    cursor: pointer;\r\n                    padding: 0;\r\n                    margin-left: auto;\r\n                    opacity: 0.8;\r\n                }\r\n                .error-notification .error-close:hover {\r\n                    opacity: 1;\r\n                }\r\n                @keyframes slideIn {\r\n                    from {\r\n                        transform: translateX(100%);\r\n                        opacity: 0;\r\n                    }\r\n                    to {\r\n                        transform: translateX(0);\r\n                        opacity: 1;\r\n                    }\r\n                }\r\n            `;\r\n            document.head.appendChild(style);\r\n        }\r\n\r\n        document.body.appendChild(notification);\r\n\r\n        // Close button handler\r\n        const closeBtn = notification.querySelector('.error-close');\r\n        closeBtn.addEventListener('click', () => {\r\n            notification.remove();\r\n        });\r\n\r\n        // Auto-remove after duration\r\n        if (duration > 0) {\r\n            setTimeout(() => {\r\n                notification.style.animation = 'slideIn 0.3s ease-out reverse';\r\n                setTimeout(() => notification.remove(), 300);\r\n            }, duration);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Handle API errors\r\n     * @param {Error|Response} error - Error object or Response object\r\n     * @param {string} context - Context where error occurred\r\n     */\r\n    function handleApiError(error, context = 'API request') {\r\n        let message = 'An error occurred';\r\n        \r\n        if (error instanceof Response) {\r\n            if (error.status === 404) {\r\n                message = `${context}: Service not found`;\r\n            } else if (error.status === 500) {\r\n                message = `${context}: Server error`;\r\n            } else if (error.status === 403) {\r\n                message = `${context}: Access denied`;\r\n            } else {\r\n                message = `${context}: HTTP ${error.status}`;\r\n            }\r\n        } else if (error instanceof Error) {\r\n            message = `${context}: ${error.message}`;\r\n        } else if (typeof error === 'string') {\r\n            message = `${context}: ${error}`;\r\n        }\r\n\r\n        console.error(`[ErrorHandler] ${context}:`, error);\r\n        showError(message, 'error');\r\n    }\r\n\r\n    /**\r\n     * Handle localStorage errors\r\n     * @param {Error} error - Error object\r\n     * @param {string} operation - Operation that failed ('read', 'write', 'delete')\r\n     */\r\n    function handleStorageError(error, operation = 'access') {\r\n        const message = `Failed to ${operation} local storage. Your data may not be saved.`;\r\n        console.error(`[ErrorHandler] Storage ${operation} error:`, error);\r\n        showError(message, 'warning', 7000);\r\n    }\r\n\r\n    /**\r\n     * Handle parsing errors\r\n     * @param {Error} error - Error object\r\n     * @param {string} dataType - Type of data being parsed\r\n     */\r\n    function handleParseError(error, dataType = 'data') {\r\n        const message = `Failed to parse ${dataType}. Please check the format.`;\r\n        console.error(`[ErrorHandler] Parse error (${dataType}):`, error);\r\n        showError(message, 'error');\r\n    }\r\n\r\n    /**\r\n     * Escape HTML to prevent XSS\r\n     * @param {string} text - Text to escape\r\n     * @returns {string} Escaped text\r\n     */\r\n    function escapeHtml(text) {\r\n        const div = document.createElement('div');\r\n        div.textContent = text;\r\n        return div.innerHTML;\r\n    }\r\n\r\n    /**\r\n     * Global error handler for uncaught errors\r\n     */\r\n    function setupGlobalErrorHandler() {\r\n        window.addEventListener('error', (event) => {\r\n            console.error('[ErrorHandler] Uncaught error:', event.error);\r\n            // Only show user-facing error for non-script errors\r\n            if (event.error && event.error.message && !event.error.message.includes('Script error')) {\r\n                showError('An unexpected error occurred. Please refresh the page.', 'error', 10000);\r\n            }\r\n        });\r\n\r\n        window.addEventListener('unhandledrejection', (event) => {\r\n            console.error('[ErrorHandler] Unhandled promise rejection:', event.reason);\r\n            handleApiError(event.reason, 'Async operation');\r\n        });\r\n    }\r\n\r\n    // Export to global scope\r\n    window.ErrorHandler = {\r\n        show: showError,\r\n        handleApi: handleApiError,\r\n        handleStorage: handleStorageError,\r\n        handleParse: handleParseError,\r\n        escapeHtml: escapeHtml\r\n    };\r\n\r\n    // Setup global error handler\r\n    setupGlobalErrorHandler();\r\n\r\n})();\r\n\n\n/* === assets/js/utils/logo-cache.js === */\n/**\r\n * Logo Cache Utility\r\n * Client-side caching for team logos to reduce API calls and improve performance\r\n */\r\n\r\n(function() {\r\n    'use strict';\r\n\r\n    class LogoCache {\r\n        constructor() {\r\n            this.memoryCache = new Map();\r\n            this.preloadQueue = [];\r\n            this.batchSize = 10;\r\n            this.isPreloading = false;\r\n            this.localStorageKey = 'gbsv_logo_cache_v1';\r\n            this.cacheVersion = '1.0';\r\n            this.maxCacheAge = 24 * 60 * 60 * 1000; // 24 hours\r\n            this.maxCacheSize = 100; // Maximum number of logos to cache\r\n\r\n            // Initialize cache from localStorage\r\n            this.loadFromLocalStorage();\r\n\r\n            // Bind methods\r\n            this.getTeamLogo = this.getTeamLogo.bind(this);\r\n            this.preloadLogos = this.preloadLogos.bind(this);\r\n        }\r\n\r\n        /**\r\n         * Load cached logos from localStorage\r\n         */\r\n        loadFromLocalStorage() {\r\n            try {\r\n                const stored = localStorage.getItem(this.localStorageKey);\r\n                if (stored) {\r\n                    const parsed = JSON.parse(stored);\r\n                    if (parsed.version === this.cacheVersion) {\r\n                        // Load valid cached items into memory\r\n                        const now = Date.now();\r\n                        for (const [key, value] of Object.entries(parsed.logos || {})) {\r\n                            if (now - value.timestamp < this.maxCacheAge) {\r\n                                this.memoryCache.set(key, value.url);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                console.warn('Failed to load logo cache from localStorage:', error);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Save current cache to localStorage\r\n         */\r\n        saveToLocalStorage() {\r\n            try {\r\n                const cacheData = {\r\n                    version: this.cacheVersion,\r\n                    logos: {}\r\n                };\r\n\r\n                // Convert Map to object for localStorage\r\n                const entries = Array.from(this.memoryCache.entries());\r\n\r\n                // Limit cache size\r\n                if (entries.length > this.maxCacheSize) {\r\n                    entries.splice(this.maxCacheSize);\r\n                }\r\n\r\n                for (const [key, url] of entries) {\r\n                    cacheData.logos[key] = {\r\n                        url: url,\r\n                        timestamp: Date.now()\r\n                    };\r\n                }\r\n\r\n                localStorage.setItem(this.localStorageKey, JSON.stringify(cacheData));\r\n            } catch (error) {\r\n                console.warn('Failed to save logo cache to localStorage:', error);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Get team logo URL with caching\r\n         * @param {string} teamName - Team name or abbreviation\r\n         * @param {string} league - League (nfl, nba, ncaaf, etc.)\r\n         * @returns {Promise<string>} Logo URL\r\n         */\r\n        async getTeamLogo(teamName, league = 'nfl') {\r\n            if (!teamName) {\r\n                return '';\r\n            }\r\n\r\n            const cacheKey = `${league}:${teamName.toLowerCase()}`;\r\n\r\n            // Check memory cache first\r\n            if (this.memoryCache.has(cacheKey)) {\r\n                return this.memoryCache.get(cacheKey);\r\n            }\r\n\r\n            // Check if API endpoint is available\r\n            const apiAvailable = window.APP_CONFIG && window.APP_CONFIG.API_BASE_URL;\r\n\r\n            if (apiAvailable) {\r\n                try {\r\n                    // Fetch from API (which includes Azure cache)\r\n                    const response = await fetch(`${window.APP_CONFIG.API_BASE_URL}/get-logo?team=${encodeURIComponent(teamName)}&league=${encodeURIComponent(league)}`);\r\n\r\n                    if (response.ok) {\r\n                        const data = await response.json();\r\n                        const logoUrl = data.logoUrl;\r\n\r\n                        // Cache in memory and localStorage\r\n                        this.memoryCache.set(cacheKey, logoUrl);\r\n                        this.saveToLocalStorage();\r\n\r\n                        return logoUrl;\r\n                    }\r\n                } catch (error) {\r\n                    console.warn(`Failed to fetch logo from API for ${teamName}:`, error);\r\n                }\r\n            }\r\n\r\n            // Fallback: Generate CDN URL directly (uses LogoLoader to stay on our assets)\r\n            const logoUrl = this.generateLogoUrl(teamName, league);\r\n\r\n            // Cache the generated URL\r\n            this.memoryCache.set(cacheKey, logoUrl);\r\n            this.saveToLocalStorage();\r\n\r\n            return logoUrl;\r\n        }\r\n\r\n        /**\r\n         * Generate logo URL based on team and league\r\n         * @param {string} teamName - Team name or abbreviation\r\n         * @param {string} league - League\r\n         * @returns {string} Generated logo URL\r\n         */\r\n        generateLogoUrl(teamName, league) {\r\n            // Normalize team name\r\n            const teamKey = this.normalizeTeamName(teamName, league);\r\n\r\n            // Prefer centralized LogoLoader (Front Door/CDN aware)\r\n            if (window.LogoLoader && typeof window.LogoLoader.getLogoUrl === 'function') {\r\n                return window.LogoLoader.getLogoUrl(league, teamKey);\r\n            }\r\n\r\n            // Fallback directly to blob/CDN using the same naming convention\r\n            const base = (window.APP_CONFIG && (window.APP_CONFIG.LOGO_BASE_URL || window.APP_CONFIG.LOGO_FALLBACK_URL)) ||\r\n                         'https://gbsvorchestratorstorage.blob.core.windows.net/team-logos';\r\n\r\n            if (league === 'ncaaf' || league === 'college') {\r\n                const ncaaId = this.getNCAATeamId(teamName) || 'default';\r\n                return `${base}/ncaa-500-${ncaaId}.png`;\r\n            }\r\n\r\n            return `${base}/${league}-500-${teamKey}.png`;\r\n        }\r\n\r\n        /**\r\n         * Normalize team name to logo ID\r\n         */\r\n        normalizeTeamName(teamName, league) {\r\n            const name = teamName.toLowerCase().replace(/[^a-z0-9]/g, '');\r\n\r\n            // Team mappings (extend as needed)\r\n            const mappings = {\r\n                'raiders': 'lv',\r\n                'lasvegas': 'lv',\r\n                'lasvegasraiders': 'lv',\r\n                '49ers': 'sf',\r\n                'sanfrancisco': 'sf',\r\n                'rams': 'lar',\r\n                'larams': 'lar',\r\n                'chargers': 'lac',\r\n                'lachargers': 'lac',\r\n                'cardinals': 'ari',\r\n                'arizona': 'ari',\r\n                'packers': 'gb',\r\n                'greenbay': 'gb',\r\n                'patriots': 'ne',\r\n                'newengland': 'ne',\r\n                'saints': 'no',\r\n                'neworleans': 'no',\r\n                'buccaneers': 'tb',\r\n                'tampabay': 'tb',\r\n                'commanders': 'wsh',\r\n                'washington': 'wsh'\r\n            };\r\n\r\n            return mappings[name] || teamName.toLowerCase().substring(0, 3);\r\n        }\r\n\r\n        /**\r\n         * Get NCAA team ID (limited sample)\r\n         */\r\n        getNCAATeamId(teamName) {\r\n            const ncaaIds = {\r\n                'alabama': '333',\r\n                'georgia': '61',\r\n                'ohiostate': '194',\r\n                'michigan': '130',\r\n                'texas': '251',\r\n                'oklahoma': '201'\r\n            };\r\n\r\n            const normalized = teamName.toLowerCase().replace(/[^a-z]/g, '');\r\n            return ncaaIds[normalized] || null;\r\n        }\r\n\r\n        /**\r\n         * Preload logos for multiple picks\r\n         * @param {Array} picks - Array of pick objects\r\n         */\r\n        async preloadLogos(picks) {\r\n            if (this.isPreloading || !picks || picks.length === 0) {\r\n                return;\r\n            }\r\n\r\n            this.isPreloading = true;\r\n            const teams = new Set();\r\n\r\n            // Collect unique team/league combinations\r\n            for (const pick of picks) {\r\n                const league = pick.league || pick.sport || 'nfl';\r\n\r\n                if (pick.awayTeam) {\r\n                    teams.add(`${league}:${pick.awayTeam}`);\r\n                }\r\n                if (pick.homeTeam) {\r\n                    teams.add(`${league}:${pick.homeTeam}`);\r\n                }\r\n            }\r\n\r\n            // Load in batches\r\n            const teamArray = Array.from(teams);\r\n            for (let i = 0; i < teamArray.length; i += this.batchSize) {\r\n                const batch = teamArray.slice(i, i + this.batchSize);\r\n\r\n                await Promise.all(\r\n                    batch.map(key => {\r\n                        const [league, team] = key.split(':');\r\n                        return this.getTeamLogo(team, league).catch(err => {\r\n                            console.warn(`Failed to preload logo for ${team}:`, err);\r\n                            return '';\r\n                        });\r\n                    })\r\n                );\r\n\r\n                // Small delay between batches to avoid overwhelming the server\r\n                if (i + this.batchSize < teamArray.length) {\r\n                    await new Promise(resolve => setTimeout(resolve, 100));\r\n                }\r\n            }\r\n\r\n            this.isPreloading = false;\r\n        }\r\n\r\n        /**\r\n         * Clear cache\r\n         */\r\n        clearCache() {\r\n            this.memoryCache.clear();\r\n            try {\r\n                localStorage.removeItem(this.localStorageKey);\r\n            } catch (error) {\r\n                console.warn('Failed to clear localStorage cache:', error);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Get cache statistics\r\n         */\r\n        getCacheStats() {\r\n            return {\r\n                memorySize: this.memoryCache.size,\r\n                localStorageKey: this.localStorageKey,\r\n                maxAge: this.maxCacheAge,\r\n                maxSize: this.maxCacheSize,\r\n                isPreloading: this.isPreloading\r\n            };\r\n        }\r\n    }\r\n\r\n    // Create singleton instance\r\n    const logoCache = new LogoCache();\r\n\r\n    // Export to global scope\r\n    window.LogoCache = logoCache;\r\n\r\n    // Also export individual methods for compatibility\r\n    window.getCachedTeamLogo = logoCache.getTeamLogo;\r\n    window.preloadTeamLogos = logoCache.preloadLogos;\r\n\r\n    // Override existing getTeamLogo function if it exists\r\n    if (typeof window.getTeamLogo === 'function') {\r\n        const originalGetTeamLogo = window.getTeamLogo;\r\n\r\n        window.getTeamLogo = function(teamName, league) {\r\n            // Try cache first, fall back to original\r\n            return logoCache.getTeamLogo(teamName, league).catch(() => {\r\n                return originalGetTeamLogo(teamName, league);\r\n            });\r\n        };\r\n    } else {\r\n        window.getTeamLogo = logoCache.getTeamLogo;\r\n    }\r\n\r\n    console.log('Logo cache initialized');\r\n})();\r\n\n\n/* === assets/js/utils/page-transition-handler.js === */\n/**\r\n * Page Transition Handler\r\n * Improves navigation UX by showing loading state and smooth transitions\r\n * v1.0.0\r\n */\r\n\r\n(function() {\r\n    'use strict';\r\n\r\n    const PageTransitionHandler = {\r\n        isLoading: false,\r\n        loadingOverlay: null,\r\n\r\n        init() {\r\n            this.createLoadingOverlay();\r\n            this.setupNavLinkHandlers();\r\n            this.setupLinkPrefetch();\r\n            this.setupHistoryHandler();\r\n\r\n            // Clean up loading state on page load complete\r\n            window.addEventListener('load', () => this.hideLoading());\r\n            document.addEventListener('DOMContentLoaded', () => this.hideLoading());\r\n\r\n            // Safety: ensure overlay never lingers on slow loads\r\n            setTimeout(() => this.hideLoading(), 1500);\r\n        },\r\n\r\n        createLoadingOverlay() {\r\n            // Create loading overlay if it doesn't exist\r\n            if (!document.getElementById('page-transition-overlay')) {\r\n                const overlay = document.createElement('div');\r\n                overlay.id = 'page-transition-overlay';\r\n                overlay.className = 'page-transition-overlay';\r\n                overlay.innerHTML = `\r\n                    <div class=\"page-transition-content\">\r\n                        <div class=\"page-transition-spinner\"></div>\r\n                        <p class=\"page-transition-text\">Loading...</p>\r\n                    </div>\r\n                `;\r\n                document.body.appendChild(overlay);\r\n\r\n                // Add styles if not already present\r\n                if (!document.getElementById('page-transition-styles')) {\r\n                    const style = document.createElement('style');\r\n                    style.id = 'page-transition-styles';\r\n                    style.textContent = `\r\n                        .page-transition-overlay {\r\n                            position: fixed;\r\n                            top: 0;\r\n                            left: 0;\r\n                            right: 0;\r\n                            bottom: 0;\r\n                            background: rgba(3, 11, 22, 0.95);\r\n                            backdrop-filter: blur(2px);\r\n                            z-index: 99998;\r\n                            display: flex;\r\n                            align-items: center;\r\n                            justify-content: center;\r\n                            opacity: 0;\r\n                            visibility: hidden;\r\n                            transition: opacity 0.3s ease, visibility 0.3s ease;\r\n                            pointer-events: none;\r\n                        }\r\n\r\n                        .page-transition-overlay.visible {\r\n                            opacity: 1;\r\n                            visibility: visible;\r\n                            pointer-events: auto;\r\n                        }\r\n\r\n                        .page-transition-content {\r\n                            text-align: center;\r\n                            display: flex;\r\n                            flex-direction: column;\r\n                            align-items: center;\r\n                            gap: 16px;\r\n                        }\r\n\r\n                        .page-transition-spinner {\r\n                            width: 40px;\r\n                            height: 40px;\r\n                            border: 3px solid rgba(0, 214, 137, 0.2);\r\n                            border-top-color: #00d689;\r\n                            border-radius: 50%;\r\n                            animation: pageTransitionSpin 1s linear infinite;\r\n                        }\r\n\r\n                        @keyframes pageTransitionSpin {\r\n                            to { transform: rotate(360deg); }\r\n                        }\r\n\r\n                        .page-transition-text {\r\n                            color: rgba(214, 232, 236, 0.8);\r\n                            font-family: 'Cormorant Garamond', Georgia, serif;\r\n                            font-size: 0.95rem;\r\n                            letter-spacing: 0.05em;\r\n                            margin: 0;\r\n                        }\r\n\r\n                        /* Fade in body content when new page loads */\r\n                        body {\r\n                            animation: pageContentFadeIn 0.4s ease forwards;\r\n                        }\r\n\r\n                        @keyframes pageContentFadeIn {\r\n                            from {\r\n                                opacity: 0.95;\r\n                            }\r\n                            to {\r\n                                opacity: 1;\r\n                            }\r\n                        }\r\n\r\n                        /* Smooth fade out on page exit */\r\n                        body.page-exiting {\r\n                            animation: pageContentFadeOut 0.3s ease forwards;\r\n                        }\r\n\r\n                        @keyframes pageContentFadeOut {\r\n                            from {\r\n                                opacity: 1;\r\n                            }\r\n                            to {\r\n                                opacity: 0.95;\r\n                            }\r\n                        }\r\n                    `;\r\n                    document.head.appendChild(style);\r\n                }\r\n            }\r\n            this.loadingOverlay = document.getElementById('page-transition-overlay');\r\n        },\r\n\r\n        setupNavLinkHandlers() {\r\n            document.addEventListener('click', (e) => {\r\n                // Find nav link in the clicked element or its parents\r\n                const navLink = e.target.closest('a.nav-link');\r\n\r\n                if (navLink && !navLink.hasAttribute('aria-disabled')) {\r\n                    const href = navLink.getAttribute('href');\r\n\r\n                    // Only intercept internal navigation\r\n                    if (href && !href.startsWith('http') && !href.startsWith('#')) {\r\n                        // Check if it's a different page\r\n                        const currentPage = (location.pathname.split('/').pop() || 'index.html').toLowerCase();\r\n                        const targetPage = (href.split('/').pop() || 'index.html').toLowerCase();\r\n\r\n                        if (currentPage !== targetPage) {\r\n                            e.preventDefault();\r\n                            this.transitionToPage(href);\r\n                        }\r\n                    }\r\n                }\r\n            }, true);\r\n        },\r\n\r\n        transitionToPage(url) {\r\n            if (this.isLoading) return;\r\n\r\n            this.isLoading = true;\r\n            this.showLoading();\r\n\r\n            // Add a small delay to ensure loading state is visible\r\n            // then navigate\r\n            setTimeout(() => {\r\n                window.location.href = url;\r\n            }, 100);\r\n        },\r\n\r\n        showLoading() {\r\n            if (this.loadingOverlay) {\r\n                this.loadingOverlay.classList.add('visible');\r\n            }\r\n        },\r\n\r\n        hideLoading() {\r\n            if (this.loadingOverlay) {\r\n                this.loadingOverlay.classList.remove('visible');\r\n            }\r\n            this.isLoading = false;\r\n        },\r\n\r\n        setupLinkPrefetch() {\r\n            // Prefetch nav links on hover\r\n            const navLinks = document.querySelectorAll('a.nav-link');\r\n\r\n            navLinks.forEach(link => {\r\n                link.addEventListener('mouseenter', () => {\r\n                    const href = link.getAttribute('href');\r\n                    if (href && !document.querySelector(`link[rel=\"prefetch\"][href=\"${href}\"]`)) {\r\n                        const prefetchLink = document.createElement('link');\r\n                        prefetchLink.rel = 'prefetch';\r\n                        prefetchLink.href = href;\r\n                        document.head.appendChild(prefetchLink);\r\n                    }\r\n                });\r\n            });\r\n        },\r\n\r\n        setupHistoryHandler() {\r\n            // Handle back/forward buttons\r\n            window.addEventListener('pageshow', () => {\r\n                this.hideLoading();\r\n            });\r\n\r\n            window.addEventListener('pagehide', () => {\r\n                this.showLoading();\r\n            });\r\n        }\r\n    };\r\n\r\n    // Initialize when DOM is ready\r\n    if (document.readyState === 'loading') {\r\n        document.addEventListener('DOMContentLoaded', () => PageTransitionHandler.init());\r\n    } else {\r\n        PageTransitionHandler.init();\r\n    }\r\n\r\n    // Export for debugging\r\n    window.PageTransitionHandler = PageTransitionHandler;\r\n\r\n})();\r\n\n\n/* === assets/js/utils/model-endpoint-resolver.js === */\n/**\r\n * Model Endpoint Resolver v34.00.0\r\n *\r\n * PURPOSE:\r\n * - Centralizes how front-end fetchers resolve model endpoints (API + Function)\r\n * - Reads dynamic registry values hydrated by model-endpoints-bootstrap.js\r\n * - Falls back to sane defaults so missing config never breaks fetching\r\n *\r\n * RELATIONSHIP WITH model-endpoints-bootstrap.js:\r\n * - Bootstrap runs FIRST at page load to fetch /api/registry\r\n * - Bootstrap updates APP_CONFIG with fresh Container App URLs\r\n * - Resolver provides HELPER FUNCTIONS for fetchers to access those URLs\r\n * - Resolver has DEFAULT fallbacks if bootstrap fails or times out\r\n *\r\n * USAGE:\r\n *   window.ModelEndpointResolver.getApiEndpoint('nba')\r\n *   // Returns: APP_CONFIG.NBA_API_URL || DEFAULTS.nba.api\r\n */\r\n(function() {\r\n    'use strict';\r\n\r\n    const DEFAULTS = {};\r\n\r\n    const normKey = (league) => String(league || '').toLowerCase();\r\n\r\n    const getApiEndpoint = (league) => {\r\n        const key = normKey(league);\r\n        const configKey = `${key.toUpperCase()}_API_URL`;\r\n        const fromConfig = window.APP_CONFIG?.[configKey];\r\n        if (fromConfig && typeof fromConfig === 'string') return fromConfig;\r\n        const base = window.APP_CONFIG?.API_BASE_FALLBACK || window.APP_CONFIG?.API_BASE_URL || `${window.location.origin}/api`;\r\n        if (base) return `${base}/${key}`;\r\n        return DEFAULTS[key]?.api || '';\r\n    };\r\n\r\n    const getFunctionEndpoint = (league) => {\r\n        const key = normKey(league);\r\n        const configKey = `${key.toUpperCase()}_FUNCTION_URL`;\r\n        const fromConfig = window.APP_CONFIG?.[configKey];\r\n        if (fromConfig && typeof fromConfig === 'string') return fromConfig;\r\n        return DEFAULTS[key]?.func || '';\r\n    };\r\n\r\n    const ensureRegistryHydrated = async () => {\r\n        if (window.ModelEndpointBootstrap?.hydrate) {\r\n            try {\r\n                await window.ModelEndpointBootstrap.hydrate();\r\n            } catch (err) {\r\n                // Safe to ignore; defaults will be used.\r\n                console.warn('[MODEL-ENDPOINT-RESOLVER] Registry hydrate failed:', err.message);\r\n            }\r\n        }\r\n    };\r\n\r\n    window.ModelEndpointResolver = {\r\n        getApiEndpoint,\r\n        getFunctionEndpoint,\r\n        ensureRegistryHydrated\r\n    };\r\n})();\r\n\n\n/* === assets/js/features/model-endpoints-bootstrap.js === */\n/**\r\n * Model Endpoints Bootstrap v34.00.0\r\n * \r\n * PURPOSE:\r\n * Fetch model endpoints from the orchestrator registry so front-end stays in sync\r\n * with updated Azure Container App URLs without redeploying static assets.\r\n *\r\n * EXECUTION ORDER:\r\n * 1. Runs IMMEDIATELY at page load (not deferred)\r\n * 2. Fetches /api/registry with 6-second timeout\r\n * 3. Updates APP_CONFIG.{NBA|NCAAM|NFL|NCAAF}_API_URL dynamically\r\n * 4. Falls back to config.js defaults if registry unavailable\r\n * \r\n * RELATIONSHIP WITH model-endpoint-resolver.js:\r\n * - Bootstrap UPDATES APP_CONFIG at page load\r\n * - Resolver READS FROM APP_CONFIG when fetchers need endpoints\r\n * - Together they enable zero-downtime Container App updates\r\n *\r\n * Supports dynamic discovery of new leagues - any key in the registry with an\r\n * 'endpoint' property will be added to APP_CONFIG as {KEY}_API_URL.\r\n */\r\n(function() {\r\n    'use strict';\r\n\r\n    const REGISTRY_TIMEOUT_MS = 6000;\r\n\r\n    // Known leagues to look for (can be extended by registry response)\r\n    const KNOWN_LEAGUES = ['nba', 'ncaam', 'nfl', 'ncaaf', 'nhl', 'mlb'];\r\n\r\n    const fetchWithTimeout = async (url, timeoutMs = REGISTRY_TIMEOUT_MS) => {\r\n        const controller = new AbortController();\r\n        const timer = setTimeout(() => controller.abort(), timeoutMs);\r\n        try {\r\n            const response = await fetch(url, { signal: controller.signal, headers: { 'Accept': 'application/json' } });\r\n            clearTimeout(timer);\r\n            return response;\r\n        } catch (err) {\r\n            clearTimeout(timer);\r\n            throw err;\r\n        }\r\n    };\r\n\r\n    const hydrateEndpoints = async () => {\r\n        // Check if dynamic registry is enabled - if not, skip network calls entirely\r\n        if (!window.APP_CONFIG?.DYNAMIC_REGISTRY_ENABLED) {\r\n            console.log('[MODEL-ENDPOINTS] Dynamic registry disabled - using static config.js endpoints');\r\n            console.log('[MODEL-ENDPOINTS] \u2022 To enable dynamic registry, set DYNAMIC_REGISTRY_ENABLED: true in config.js');\r\n            console.log('[MODEL-ENDPOINTS] \u2022 Requires Azure Functions deployment with ModelRegistry function');\r\n            window.APP_CONFIG.MODEL_ENDPOINTS_SOURCE = 'static';\r\n            window.APP_CONFIG.MODEL_ENDPOINTS_LAST_UPDATED = new Date().toISOString();\r\n            return;\r\n        }\r\n\r\n        const primaryBase = window.APP_CONFIG?.API_BASE_URL;\r\n        const fallbackBase = window.APP_CONFIG?.API_BASE_FALLBACK;\r\n        const functionsBase = window.APP_CONFIG?.FUNCTIONS_BASE_URL;\r\n\r\n        const resolveRegistry = async (base) => {\r\n            if (!base) return null;\r\n            const url = `${base}/registry`;\r\n            console.log('[MODEL-ENDPOINTS] Fetching model endpoints from registry:', url);\r\n            const res = await fetchWithTimeout(url);\r\n            if (!res.ok) throw new Error(`Registry request failed: ${res.status}`);\r\n            const ct = (res.headers.get('content-type') || '').toLowerCase();\r\n            if (!ct.includes('application/json')) {\r\n                // Likely a SPA HTML fallback; treat as failure so we try the fallback base\r\n                throw new Error(`Unexpected content-type: ${ct}`);\r\n            }\r\n            return await res.json();\r\n        };\r\n\r\n        let registry = null;\r\n        const sources = [\r\n            { name: 'primary', base: primaryBase },\r\n            { name: 'fallback', base: fallbackBase },\r\n            { name: 'functions', base: functionsBase ? `${functionsBase}/api` : null }\r\n        ].filter(s => s.base);\r\n\r\n        for (const source of sources) {\r\n            try {\r\n                registry = await resolveRegistry(source.base);\r\n                if (registry) {\r\n                    console.log(`[MODEL-ENDPOINTS] \u2022 Registry loaded from ${source.name}`);\r\n                    break;\r\n                }\r\n            } catch (err) {\r\n                console.warn(`[MODEL-ENDPOINTS] ${source.name} registry fetch failed:`, err.message);\r\n            }\r\n        }\r\n\r\n        if (!registry) {\r\n            console.warn('[MODEL-ENDPOINTS] Unable to refresh endpoints from registry (all sources failed)');\r\n            console.log('[MODEL-ENDPOINTS] \u2022 Using fallback endpoints from config.js');\r\n            console.log('[MODEL-ENDPOINTS] \u2022 Consider setting DYNAMIC_REGISTRY_ENABLED: false if registry not deployed');\r\n            window.APP_CONFIG.MODEL_ENDPOINTS_SOURCE = 'static-fallback';\r\n            return;\r\n        }\r\n\r\n        // Dynamically iterate over ALL keys in registry response\r\n        // This allows new leagues/models to be added without code changes\r\n        const registryKeys = Object.keys(registry || {});\r\n        const allLeagues = [...new Set([...KNOWN_LEAGUES, ...registryKeys])];\r\n\r\n        let updatedCount = 0;\r\n        allLeagues.forEach((key) => {\r\n            const entry = registry?.[key];\r\n            if (entry?.endpoint) {\r\n                const configKey = `${key.toUpperCase()}_API_URL`;\r\n                const oldEndpoint = window.APP_CONFIG[configKey];\r\n                window.APP_CONFIG[configKey] = entry.endpoint;\r\n                updatedCount++;\r\n                if (oldEndpoint !== entry.endpoint) {\r\n                    console.log(`[MODEL-ENDPOINTS] Updated ${key.toUpperCase()} endpoint: ${entry.endpoint}`);\r\n                }\r\n            }\r\n        });\r\n\r\n        window.APP_CONFIG.MODEL_ENDPOINTS_LAST_UPDATED = new Date().toISOString();\r\n        window.APP_CONFIG.MODEL_ENDPOINTS_COUNT = updatedCount;\r\n        window.APP_CONFIG.MODEL_ENDPOINTS_SOURCE = 'registry';\r\n\r\n        if (updatedCount > 0) {\r\n            console.log(`[MODEL-ENDPOINTS] Hydrated ${updatedCount} endpoints from registry`);\r\n        }\r\n        console.log(`[MODEL-ENDPOINTS] \u2022 Registry hydration complete - ${updatedCount} endpoints updated`);\r\n    };\r\n\r\n    // Kick off hydration early so downstream fetchers use fresh endpoints\r\n    hydrateEndpoints();\r\n\r\n    // Expose for optional manual refresh/debug\r\n    window.ModelEndpointBootstrap = {\r\n        hydrate: hydrateEndpoints,\r\n        getKnownLeagues: () => KNOWN_LEAGUES\r\n    };\r\n})();\r\n\n\n/* === assets/js/features/base-sport-fetcher.js === */\n/**\r\n * BaseSportFetcher v1.0\r\n * Shared fetch infrastructure for all sport model fetchers.\r\n * Eliminates duplicated fetchWithTimeout, cache, endpoint resolution,\r\n * health check, and fire-rating parsing across NBA/NCAAM/NFL/NCAAF/NHL.\r\n *\r\n * Each sport fetcher creates an instance with sport-specific config\r\n * and a formatPickForTable function.\r\n */\r\n\r\n(function () {\r\n  \"use strict\";\r\n\r\n  const DEFAULT_CACHE_DURATION = 60000; // 1 minute\r\n  const DEFAULT_TIMEOUT = 15000; // 15 seconds\r\n\r\n  // ===== SHARED: fetchWithTimeout =====\r\n  async function fetchWithTimeout(url, timeoutMs = DEFAULT_TIMEOUT) {\r\n    const controller = new AbortController();\r\n    const timeoutId = setTimeout(() => controller.abort(), timeoutMs);\r\n    try {\r\n      const response = await fetch(url, { signal: controller.signal });\r\n      clearTimeout(timeoutId);\r\n      return response;\r\n    } catch (error) {\r\n      clearTimeout(timeoutId);\r\n      if (error.name === \"AbortError\") {\r\n        throw new Error(`Request timed out after ${timeoutMs}ms`);\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // ===== SHARED: Fire rating normalization =====\r\n  function normalizeFireRating(raw, edgeFallback = 0) {\r\n    const str = (raw ?? \"\").toString().trim();\r\n    const upper = str.toUpperCase();\r\n    const map = { MAX: 5, ELITE: 5, STRONG: 4, GOOD: 3, STANDARD: 2, LOW: 1 };\r\n\r\n    if (upper in map) return map[upper];\r\n\r\n    if (str.includes(\"%\")) {\r\n      const pct = parseFloat(str.replace(\"%\", \"\"));\r\n      if (!Number.isNaN(pct)) {\r\n        if (pct >= 80) return 5;\r\n        if (pct >= 65) return 4;\r\n        if (pct >= 50) return 3;\r\n        if (pct >= 35) return 2;\r\n        return 1;\r\n      }\r\n    }\r\n\r\n    const asNum = parseInt(str, 10);\r\n    if (!Number.isNaN(asNum) && str !== \"\") return Math.max(0, Math.min(5, asNum));\r\n\r\n    // Fallback: derive from edge value\r\n    if (typeof edgeFallback === \"number\" && edgeFallback > 0) {\r\n      return Math.max(0, Math.min(5, Math.ceil(edgeFallback / 1.5)));\r\n    }\r\n\r\n    return 3; // default\r\n  }\r\n\r\n  // ===== SHARED: Endpoint resolution =====\r\n  function getBaseApiUrl() {\r\n    return (\r\n      window.APP_CONFIG?.API_BASE_URL ||\r\n      window.APP_CONFIG?.API_BASE_FALLBACK ||\r\n      `${window.location.origin}/api`\r\n    );\r\n  }\r\n\r\n  function getFunctionsBase() {\r\n    return window.APP_CONFIG?.FUNCTIONS_BASE_URL || window.location.origin;\r\n  }\r\n\r\n  function getContainerEndpoint(sport) {\r\n    const resolved = window.ModelEndpointResolver?.getApiEndpoint(sport);\r\n    if (resolved) return resolved;\r\n    const configKey = `${sport.toUpperCase()}_API_URL`;\r\n    const fromConfig = window.APP_CONFIG?.[configKey];\r\n    if (fromConfig) return fromConfig;\r\n    const fallback = window.APP_CONFIG?.API_BASE_FALLBACK;\r\n    return fallback ? `${fallback}/${sport.toLowerCase()}` : \"\";\r\n  }\r\n\r\n  // ===== BaseSportFetcher class =====\r\n\r\n  /**\r\n   * @param {Object} config\r\n   * @param {string} config.sport - e.g. 'NBA', 'NCAAM', 'NFL'\r\n   * @param {string} config.tag - Log prefix, e.g. '[NBA-FETCHER]'\r\n   * @param {Function} config.buildPrimaryUrl - (date) => url string\r\n   * @param {Function} config.buildFallbackUrl - (date) => url string\r\n   * @param {Function} config.formatPickForTable - (rawPick) => formatted pick\r\n   * @param {number} [config.timeoutMs] - Request timeout\r\n   * @param {number} [config.cacheDurationMs] - Cache TTL\r\n   * @param {Function} [config.onFetchFail] - Optional hook for sport-specific retry logic\r\n   */\r\n  function BaseSportFetcher(config) {\r\n    this.sport = config.sport;\r\n    this.tag = config.tag || `[${config.sport}-FETCHER]`;\r\n    this.buildPrimaryUrl = config.buildPrimaryUrl;\r\n    this.buildFallbackUrl = config.buildFallbackUrl;\r\n    this.formatPickForTable = config.formatPickForTable;\r\n    this.timeoutMs = config.timeoutMs || DEFAULT_TIMEOUT;\r\n    this.cacheDurationMs = config.cacheDurationMs || DEFAULT_CACHE_DURATION;\r\n    this.onFetchFail = config.onFetchFail || null;\r\n\r\n    // Per-date cache\r\n    this._cache = {};\r\n    this._lastSource = null;\r\n  }\r\n\r\n  BaseSportFetcher.prototype.fetchPicks = async function (date) {\r\n    date = date || \"today\";\r\n\r\n    if (window.ModelEndpointResolver?.ensureRegistryHydrated) {\r\n      window.ModelEndpointResolver.ensureRegistryHydrated();\r\n    }\r\n\r\n    // Cache check\r\n    const cached = this._cache[date];\r\n    if (cached && Date.now() - cached.timestamp < this.cacheDurationMs) {\r\n      return cached.data;\r\n    }\r\n\r\n    const primaryUrl = this.buildPrimaryUrl(date);\r\n\r\n    try {\r\n      let response = await fetchWithTimeout(primaryUrl, this.timeoutMs);\r\n\r\n      if (!response.ok) {\r\n        const fallbackUrl = this.buildFallbackUrl(date);\r\n        if (fallbackUrl) {\r\n          response = await fetchWithTimeout(fallbackUrl, this.timeoutMs);\r\n        }\r\n\r\n        // Sport-specific retry hook (e.g. NCAAM trigger-picks)\r\n        if (!response.ok && this.onFetchFail) {\r\n          const retryResponse = await this.onFetchFail(date, response);\r\n          if (retryResponse) response = retryResponse;\r\n        }\r\n\r\n        if (!response.ok) {\r\n          throw new Error(`${this.tag} All routes failed (${response.status})`);\r\n        }\r\n        this._lastSource = \"fallback\";\r\n      } else {\r\n        this._lastSource = \"primary\";\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      // Cache with date key\r\n      this._cache[date] = { data, timestamp: Date.now() };\r\n\r\n      return data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  BaseSportFetcher.prototype.checkHealth = async function () {\r\n    const endpoint = getContainerEndpoint(this.sport.toLowerCase());\r\n    try {\r\n      const response = await fetchWithTimeout(`${endpoint}/health`, 5000);\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        return { status: \"healthy\", ...data, containerApp: endpoint };\r\n      }\r\n      return { status: \"error\", code: response.status, containerApp: endpoint };\r\n    } catch (error) {\r\n      return { status: \"error\", message: error.message, containerApp: endpoint };\r\n    }\r\n  };\r\n\r\n  BaseSportFetcher.prototype.clearCache = function (date) {\r\n    if (date) {\r\n      delete this._cache[date];\r\n    } else {\r\n      this._cache = {};\r\n    }\r\n  };\r\n\r\n  BaseSportFetcher.prototype.getCache = function (date) {\r\n    return this._cache[date || \"today\"]?.data || null;\r\n  };\r\n\r\n  BaseSportFetcher.prototype.getLastSource = function () {\r\n    return this._lastSource;\r\n  };\r\n\r\n  // Export shared utilities and base class\r\n  window.BaseSportFetcher = BaseSportFetcher;\r\n  window.BaseSportFetcher.utils = {\r\n    fetchWithTimeout,\r\n    normalizeFireRating,\r\n    getBaseApiUrl,\r\n    getFunctionsBase,\r\n    getContainerEndpoint,\r\n  };\r\n})();\r\n\n\n/* === assets/js/core/navigation.js === */\n/**\r\n * Navigation JavaScript for Green Bier Sport Ventures Dashboard\r\n * Handles dropdown functionality, accessibility, and responsive behavior\r\n */\r\n\r\nclass NavigationManager {\r\n    constructor() {\r\n        this.dropdowns = [];\r\n        this.navLinks = null;\r\n        this.isInitialized = false;\r\n        this.mobileMenuOpen = false;\r\n        this.mobileMenuToggle = null;\r\n        this.mobileMenuOverlay = null;\r\n        \r\n        this.init();\r\n    }\r\n    \r\n    init() {\r\n        if (this.isInitialized) return;\r\n        \r\n        // Setup mobile menu first\r\n        this.setupMobileMenu();\r\n        \r\n        // Handle multiple dropdowns\r\n        const dropdownElements = document.querySelectorAll('.nav-dropdown');\r\n        dropdownElements.forEach(dropdown => {\r\n            const trigger = dropdown.querySelector('.nav-dropdown-trigger');\r\n            const menu = dropdown.querySelector('.nav-dropdown-menu');\r\n            \r\n            if (trigger && menu) {\r\n                this.dropdowns.push({ dropdown, trigger, menu });\r\n                this.setupDropdown(dropdown, trigger, menu);\r\n            }\r\n        });\r\n        \r\n        this.navLinks = document.querySelectorAll('.nav-link');\r\n        \r\n        this.setupKeyboardNavigation();\r\n        this.setupResponsiveBehavior();\r\n        this.setupAccessibility();\r\n        this.setupNavState();\r\n        this.setupTableScrollIndicators();\r\n\r\n        this.isInitialized = true;\r\n    }\r\n    \r\n    setupMobileMenu() {\r\n        const brandNav = document.querySelector('.brand-nav');\r\n        const navLinks = document.querySelector('.nav-links');\r\n        \r\n        if (!brandNav || !navLinks) return;\r\n        \r\n        // Create hamburger toggle button if it doesn't exist\r\n        if (!document.querySelector('.mobile-menu-toggle')) {\r\n            this.mobileMenuToggle = document.createElement('button');\r\n            this.mobileMenuToggle.className = 'mobile-menu-toggle';\r\n            this.mobileMenuToggle.setAttribute('aria-label', 'Toggle navigation menu');\r\n            this.mobileMenuToggle.setAttribute('aria-expanded', 'false');\r\n            this.mobileMenuToggle.innerHTML = '<span></span>';\r\n            \r\n            // Insert at the beginning of nav\r\n            brandNav.insertBefore(this.mobileMenuToggle, brandNav.firstChild);\r\n        } else {\r\n            this.mobileMenuToggle = document.querySelector('.mobile-menu-toggle');\r\n        }\r\n        \r\n        // Create overlay if it doesn't exist\r\n        if (!document.querySelector('.mobile-menu-overlay')) {\r\n            this.mobileMenuOverlay = document.createElement('div');\r\n            this.mobileMenuOverlay.className = 'mobile-menu-overlay';\r\n            document.body.appendChild(this.mobileMenuOverlay);\r\n        } else {\r\n            this.mobileMenuOverlay = document.querySelector('.mobile-menu-overlay');\r\n        }\r\n        \r\n        // Toggle menu on hamburger click\r\n        this.mobileMenuToggle.addEventListener('click', (e) => {\r\n            e.stopPropagation();\r\n            this.toggleMobileMenu();\r\n        });\r\n        \r\n        // Close menu on overlay click\r\n        this.mobileMenuOverlay.addEventListener('click', () => {\r\n            this.closeMobileMenu();\r\n        });\r\n        \r\n        // Close menu on nav link click (for navigation)\r\n        navLinks.querySelectorAll('.nav-link:not(.nav-dropdown-trigger)').forEach(link => {\r\n            link.addEventListener('click', () => {\r\n                this.closeMobileMenu();\r\n            });\r\n        });\r\n        \r\n        // Close menu on escape key\r\n        document.addEventListener('keydown', (e) => {\r\n            if (e.key === 'Escape' && this.mobileMenuOpen) {\r\n                this.closeMobileMenu();\r\n            }\r\n        });\r\n    }\r\n    \r\n    toggleMobileMenu() {\r\n        this.mobileMenuOpen = !this.mobileMenuOpen;\r\n        \r\n        const navLinks = document.querySelector('.nav-links');\r\n        \r\n        if (this.mobileMenuOpen) {\r\n            navLinks?.classList.add('mobile-open');\r\n            this.mobileMenuToggle?.classList.add('active');\r\n            this.mobileMenuOverlay?.classList.add('active');\r\n            this.mobileMenuToggle?.setAttribute('aria-expanded', 'true');\r\n            document.body.style.overflow = 'hidden'; // Prevent background scroll\r\n        } else {\r\n            navLinks?.classList.remove('mobile-open');\r\n            this.mobileMenuToggle?.classList.remove('active');\r\n            this.mobileMenuOverlay?.classList.remove('active');\r\n            this.mobileMenuToggle?.setAttribute('aria-expanded', 'false');\r\n            document.body.style.overflow = '';\r\n        }\r\n    }\r\n    \r\n    closeMobileMenu() {\r\n        if (this.mobileMenuOpen) {\r\n            this.mobileMenuOpen = false;\r\n            const navLinks = document.querySelector('.nav-links');\r\n            navLinks?.classList.remove('mobile-open');\r\n            this.mobileMenuToggle?.classList.remove('active');\r\n            this.mobileMenuOverlay?.classList.remove('active');\r\n            this.mobileMenuToggle?.setAttribute('aria-expanded', 'false');\r\n            document.body.style.overflow = '';\r\n        }\r\n    }\r\n    \r\n    setupTableScrollIndicators() {\r\n        // Add scroll indicators to table containers\r\n        const tableContainers = document.querySelectorAll('.table-container');\r\n        \r\n        tableContainers.forEach(container => {\r\n            const updateScrollIndicators = () => {\r\n                const scrollLeft = container.scrollLeft;\r\n                const scrollWidth = container.scrollWidth;\r\n                const clientWidth = container.clientWidth;\r\n                \r\n                // Can scroll right\r\n                if (scrollLeft < scrollWidth - clientWidth - 5) {\r\n                    container.classList.add('scroll-right');\r\n                } else {\r\n                    container.classList.remove('scroll-right');\r\n                }\r\n                \r\n                // Can scroll left\r\n                if (scrollLeft > 5) {\r\n                    container.classList.add('scroll-left');\r\n                } else {\r\n                    container.classList.remove('scroll-left');\r\n                }\r\n            };\r\n            \r\n            container.addEventListener('scroll', updateScrollIndicators);\r\n            window.addEventListener('resize', updateScrollIndicators);\r\n            \r\n            // Initial check\r\n            setTimeout(updateScrollIndicators, 100);\r\n        });\r\n    }\r\n    \r\n    setupDropdown(dropdown, trigger, menu) {\r\n        // Click handler for dropdown trigger\r\n        trigger.addEventListener('click', (e) => {\r\n            e.stopPropagation();\r\n            this.toggleDropdown(dropdown, trigger, menu);\r\n        });\r\n        \r\n        // Keyboard handler for dropdown trigger\r\n        trigger.addEventListener('keydown', (e) => {\r\n            if (e.key === 'Enter' || e.key === ' ') {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                this.toggleDropdown(dropdown, trigger, menu);\r\n            }\r\n        });\r\n        \r\n        // Close dropdown when clicking outside\r\n        document.addEventListener('click', (e) => {\r\n            if (!dropdown.contains(e.target)) {\r\n                this.closeDropdown(dropdown, trigger, menu);\r\n            }\r\n        });\r\n        \r\n        // Close dropdown on Escape key\r\n        document.addEventListener('keydown', (e) => {\r\n            if (e.key === 'Escape' && dropdown.classList.contains('open')) {\r\n                this.closeDropdown(dropdown, trigger, menu);\r\n                trigger.focus();\r\n            }\r\n        });\r\n        \r\n        // Handle sync button clicks (only for sportsbooks dropdown)\r\n        if (dropdown.querySelector('.sportsbook-card')) {\r\n            this.setupSyncHandlers(menu);\r\n            \r\n            // Handle \"Add Additional Book\" buttons\r\n            const addBtns = menu.querySelectorAll('.add-book-btn-compact');\r\n            addBtns.forEach(addBtn => {\r\n                addBtn.addEventListener('click', (e) => {\r\n                    e.preventDefault();\r\n                    this.handleAddSportsbook();\r\n                });\r\n            });\r\n        }\r\n    }\r\n    \r\n    setupSyncHandlers(menu) {\r\n        const syncBtns = menu.querySelectorAll(\r\n            '.sportsbook-fetch-btn-compact, .sportsbook-fetch-compact, .sportsbook-fetch-btn-sleek, .sportsbook-fetch-inline'\r\n        );\r\n        \r\n        syncBtns.forEach(btn => {\r\n            btn.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                \r\n                const card = btn.closest('.sportsbook-card');\r\n                const sportsbookName = card.querySelector('.sportsbook-name')?.textContent || 'Sportsbook';\r\n                \r\n                this.handleSync(card, sportsbookName);\r\n            });\r\n        });\r\n    }\r\n    \r\n    handleSync(card, sportsbookName) {\r\n        // Add syncing state\r\n        card.classList.add('syncing');\r\n        \r\n        this.showNotification(`Syncing picks from ${sportsbookName}...`, 'info');\r\n        \r\n        // Simulate sync (in production, this would be an API call)\r\n        setTimeout(() => {\r\n            card.classList.remove('syncing');\r\n            \r\n            // Update last sync time\r\n            const syncTimeEl = card.querySelector('.sync-time');\r\n            if (syncTimeEl) {\r\n                syncTimeEl.textContent = 'Just now';\r\n            }\r\n            \r\n            this.showNotification(`Successfully synced picks from ${sportsbookName}`, 'success');\r\n        }, 2000);\r\n    }\r\n    \r\n    handleAddSportsbook() {\r\n        this.showNotification('Add Sportsbook feature coming soon', 'info');\r\n    }\r\n    \r\n    showNotification(message, type = 'info') {\r\n        // Create notification element\r\n        const notification = document.createElement('div');\r\n        notification.className = `notification notification-${type}`;\r\n        notification.textContent = message;\r\n        \r\n        const accentGradient = 'linear-gradient(135deg, rgba(0, 214, 137, 0.95), rgba(60, 255, 181, 0.92))';\r\n        const infoGradient = 'linear-gradient(135deg, rgba(6, 28, 20, 0.95), rgba(16, 58, 40, 0.92))';\r\n        const errorGradient = 'linear-gradient(135deg, rgba(20, 20, 30, 0.95), rgba(40, 40, 50, 0.92))';\r\n        const background = type === 'error' ? errorGradient : type === 'success' ? accentGradient : infoGradient;\r\n        const borderColor = type === 'error' ? 'rgba(214, 40, 40, 0.5)' : 'rgba(60, 255, 181, 0.7)';\r\n        const textColor = type === 'error' ? '#FF6B6B' : type === 'success' ? '#03150e' : '#e8f0f2';\r\n        const glow = type === 'error'\r\n            ? '0 18px 32px rgba(0, 0, 0, 0.5)'\r\n            : '0 18px 32px rgba(60, 255, 181, 0.35)';\r\n        \r\n        notification.style.cssText = `\r\n            position: fixed;\r\n            top: 24px;\r\n            right: 24px;\r\n            background: ${background};\r\n            color: ${textColor};\r\n            padding: 14px 22px;\r\n            border-radius: 14px;\r\n            border: 1px solid ${borderColor};\r\n            z-index: 999999;\r\n            font-family: 'Cormorant Garamond', Georgia, serif;\r\n            font-size: 14px;\r\n            font-weight: 600;\r\n            letter-spacing: 0.4px;\r\n            box-shadow: ${glow};\r\n            backdrop-filter: blur(14px);\r\n            text-shadow: ${type === 'error' ? 'none' : '0 1px 1px rgba(0, 0, 0, 0.15)'};\r\n            animation: slideIn 0.3s ease-out;\r\n        `;\r\n        \r\n        document.body.appendChild(notification);\r\n        \r\n        // Remove notification after 3 seconds\r\n        setTimeout(() => {\r\n            notification.style.animation = 'slideOut 0.3s ease-in forwards';\r\n            setTimeout(() => {\r\n                if (notification.parentNode) {\r\n                    notification.parentNode.removeChild(notification);\r\n                }\r\n            }, 300);\r\n        }, 3000);\r\n    }\r\n    \r\n    toggleDropdown(dropdown, trigger, menu) {\r\n        const willOpen = !dropdown.classList.contains('open');\r\n        \r\n        // Close all other dropdowns first\r\n        this.dropdowns.forEach(({ dropdown: otherDropdown, trigger: otherTrigger, menu: otherMenu }) => {\r\n            if (otherDropdown !== dropdown && otherDropdown.classList.contains('open')) {\r\n                this.closeDropdown(otherDropdown, otherTrigger, otherMenu);\r\n            }\r\n        });\r\n        \r\n        dropdown.classList.toggle('open', willOpen);\r\n        trigger.setAttribute('aria-expanded', willOpen);\r\n        \r\n        if (menu) {\r\n            if (willOpen) {\r\n                menu.removeAttribute('hidden');\r\n                menu.offsetHeight; // Force reflow\r\n            } else {\r\n                setTimeout(() => {\r\n                    if (!dropdown.classList.contains('open')) {\r\n                        menu.setAttribute('hidden', '');\r\n                    }\r\n                }, 200);\r\n            }\r\n        }\r\n    }\r\n    \r\n    closeDropdown(dropdown, trigger, menu) {\r\n        dropdown.classList.remove('open');\r\n        trigger.setAttribute('aria-expanded', 'false');\r\n        if (menu) {\r\n            setTimeout(() => {\r\n                if (!dropdown.classList.contains('open')) {\r\n                    menu.setAttribute('hidden', '');\r\n                }\r\n            }, 200);\r\n        }\r\n    }\r\n    \r\n    closeAllDropdowns() {\r\n        this.dropdowns.forEach(({ dropdown, trigger, menu }) => {\r\n            this.closeDropdown(dropdown, trigger, menu);\r\n        });\r\n    }\r\n    \r\n    setupKeyboardNavigation() {\r\n        this.navLinks.forEach(link => {\r\n            link.addEventListener('keydown', (e) => {\r\n                if (e.key === 'Enter' || e.key === ' ') {\r\n                    e.preventDefault();\r\n                    link.click();\r\n                }\r\n            });\r\n        });\r\n    }\r\n    \r\n    setupResponsiveBehavior() {\r\n        let resizeTimeout;\r\n        window.addEventListener('resize', () => {\r\n            clearTimeout(resizeTimeout);\r\n            resizeTimeout = setTimeout(() => {\r\n                this.handleResize();\r\n            }, 100);\r\n        });\r\n    }\r\n    \r\n    handleResize() {\r\n        if (window.innerWidth <= 768) {\r\n            this.closeAllDropdowns();\r\n        }\r\n        \r\n        // Close mobile menu when resizing to desktop\r\n        if (window.innerWidth > 767 && this.mobileMenuOpen) {\r\n            this.closeMobileMenu();\r\n        }\r\n    }\r\n    \r\n    setupAccessibility() {\r\n        this.dropdowns.forEach(({ dropdown, trigger, menu }) => {\r\n            if (trigger) {\r\n                trigger.setAttribute('aria-expanded', 'false');\r\n                trigger.setAttribute('aria-haspopup', 'true');\r\n                const menuId = menu?.getAttribute('id');\r\n                if (menuId) {\r\n                    trigger.setAttribute('aria-controls', menuId);\r\n                }\r\n            }\r\n            \r\n            if (menu) {\r\n                menu.setAttribute('role', 'menu');\r\n                const triggerId = trigger?.getAttribute('id');\r\n                if (triggerId) {\r\n                    menu.setAttribute('aria-labelledby', triggerId);\r\n                }\r\n            }\r\n        });\r\n        \r\n        this.setupScreenReaderSupport();\r\n    }\r\n    \r\n    setupScreenReaderSupport() {\r\n        let liveRegion = document.getElementById('navigation-live-region');\r\n        if (!liveRegion) {\r\n            liveRegion = document.createElement('div');\r\n            liveRegion.id = 'navigation-live-region';\r\n            liveRegion.setAttribute('aria-live', 'polite');\r\n            liveRegion.setAttribute('aria-atomic', 'true');\r\n            liveRegion.className = 'sr-only';\r\n            document.body.appendChild(liveRegion);\r\n        }\r\n        \r\n        // Store reference for notifications\r\n        this.liveRegion = liveRegion;\r\n    }\r\n    \r\n    openDropdown(dropdown, trigger, menu) {\r\n        if (!dropdown.classList.contains('open')) {\r\n            this.toggleDropdown(dropdown, trigger, menu);\r\n        }\r\n    }\r\n    \r\n    setupNavState() {\r\n        // Handle active nav link states based on current page\r\n        try {\r\n            const links = document.querySelectorAll('.nav-link');\r\n            const path = (location.pathname.split('/').pop() || '').toLowerCase();\r\n\r\n            links.forEach(link => {\r\n                const href = (link.getAttribute('href') || '').toLowerCase();\r\n                const isDisabled = link.getAttribute('aria-disabled') === 'true';\r\n\r\n                // Never mark disabled links as active / current\r\n                if (isDisabled) {\r\n                    link.classList.remove('active');\r\n                    link.removeAttribute('aria-current');\r\n                    return;\r\n                }\r\n\r\n                const isActive =\r\n                    !!href &&\r\n                    (\r\n                        href === path ||                      // Exact file match\r\n                        (path === '' && href === 'index.html') // Root route matches index.html only\r\n                    );\r\n\r\n                link.classList.toggle('active', isActive);\r\n                if (isActive) {\r\n                    link.setAttribute('aria-current', 'page');\r\n                } else {\r\n                    link.removeAttribute('aria-current');\r\n                }\r\n            });\r\n        } catch (e) {\r\n            // no-op\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        this.isInitialized = false;\r\n    }\r\n}\r\n\r\n// Add notification animation styles\r\nconst styleSheet = document.createElement('style');\r\nstyleSheet.textContent = `\r\n    @keyframes slideIn {\r\n        from {\r\n            opacity: 0;\r\n            transform: translateX(20px);\r\n        }\r\n        to {\r\n            opacity: 1;\r\n            transform: translateX(0);\r\n        }\r\n    }\r\n    @keyframes slideOut {\r\n        from {\r\n            opacity: 1;\r\n            transform: translateX(0);\r\n        }\r\n        to {\r\n            opacity: 0;\r\n            transform: translateX(20px);\r\n        }\r\n    }\r\n    .sr-only {\r\n        position: absolute;\r\n        width: 1px;\r\n        height: 1px;\r\n        padding: 0;\r\n        margin: -1px;\r\n        overflow: hidden;\r\n        clip: rect(0, 0, 0, 0);\r\n        white-space: nowrap;\r\n        border: 0;\r\n    }\r\n`;\r\ndocument.head.appendChild(styleSheet);\r\n\r\n// Back to Top Button functionality\r\nclass BackToTopButton {\r\n    constructor() {\r\n        this.button = document.getElementById('back-to-top');\r\n        this.scrollThreshold = 200; // Show button after scrolling this many pixels\r\n        \r\n        if (this.button) {\r\n            this.init();\r\n        }\r\n    }\r\n    \r\n    init() {\r\n        // Handle scroll events\r\n        let ticking = false;\r\n        window.addEventListener('scroll', () => {\r\n            if (!ticking) {\r\n                window.requestAnimationFrame(() => {\r\n                    this.handleScroll();\r\n                    ticking = false;\r\n                });\r\n                ticking = true;\r\n            }\r\n        });\r\n        \r\n        // Handle click\r\n        this.button.addEventListener('click', () => {\r\n            this.scrollToTop();\r\n        });\r\n        \r\n        // Initial check\r\n        this.handleScroll();\r\n    }\r\n    \r\n    handleScroll() {\r\n        if (window.scrollY > this.scrollThreshold) {\r\n            this.button.classList.add('visible');\r\n        } else {\r\n            this.button.classList.remove('visible');\r\n        }\r\n    }\r\n    \r\n    scrollToTop() {\r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: 'smooth'\r\n        });\r\n    }\r\n}\r\n\r\n// Initialize navigation when DOM is ready\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    window.navigationManager = new NavigationManager();\r\n    window.backToTopButton = new BackToTopButton();\r\n});\r\n\r\n// Export for module systems if needed\r\nif (typeof module !== 'undefined' && module.exports) {\r\n    module.exports = NavigationManager;\r\n}\r\n\n\n/* === assets/js/init/disable-form-submit.js === */\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  document\n    .querySelectorAll(\"form.sportsbook-actions-row, form.sportsbook-credentials-group\")\n    .forEach((f) => {\n      f.addEventListener(\"submit\", (e) => e.preventDefault());\n    });\n});\n\n\n/* === assets/js/mobile/mobile-unified.js === */\n/**\n * Unified Mobile Experience System v1.0\n * Consolidates mobile-ui-simplify, weekly-lineup-mobile, and mobile-enhancements\n * Single entry point for all mobile interactions\n *\n * Features:\n * - Mobile detection and layout adaptation\n * - Touch-optimized controls\n * - FAB (floating action button) for mobile actions\n * - Bottom navigation bar\n * - Safe area inset handling (iOS notch support)\n * - Reduced motion preferences\n */\n\n(function() {\n    'use strict';\n\n    const TOUCH_BREAKPOINT = 767; // px - switches from desktop to mobile\n    const FAB_LONG_PRESS_DURATION = 500; // ms\n\n    const MobileUnified = {\n        // State tracking\n        isMobile: false,\n        isActive: false,\n        currentPage: 'dashboard', // dashboard, weekly-lineup, picks-tracker, odds-market\n        fab: null,\n        fabMenu: null,\n        bottomNav: null,\n        mobileUI: null,\n\n        /**\n         * Initialize mobile experience\n         * Call on DOMContentLoaded or after DOM is ready\n         */\n        init() {\n            this.detectMobile();\n            if (!this.isMobile) {\n                console.log('[Mobile] Desktop detected, skipping mobile UI');\n                return;\n            }\n\n            console.log('[Mobile] Initializing unified mobile experience');\n            this.isActive = true;\n\n            // Detect which page we're on\n            this.currentPage = this.detectPage();\n\n            // Set up safe area support for iOS\n            this.setupSafeAreas();\n\n            // Reduce motion for accessibility\n            this.respectReducedMotion();\n\n            // Create mobile UI\n            this.createFAB();\n            this.createBottomNav();\n            this.createSimplifiedControls();\n\n            // Attach event listeners\n            this.attachEventListeners();\n\n            // Mark document for CSS targeting\n            document.body.classList.add('is-mobile');\n\n            // Apply mobile-specific styling\n            this.applyMobileLayout();\n        },\n\n        /**\n         * Detect if we're on a mobile device\n         */\n        detectMobile() {\n            this.isMobile = window.innerWidth <= TOUCH_BREAKPOINT;\n        },\n\n        /**\n         * Detect which page the user is on based on URL or body class\n         */\n        detectPage() {\n            if (document.body.classList.contains('page-picks-tracker')) {\n                return 'picks-tracker';\n            }\n            if (document.body.classList.contains('page-weekly-lineup')) {\n                return 'weekly-lineup';\n            }\n            if (document.body.classList.contains('page-odds-market')) {\n                return 'odds-market';\n            }\n            if (document.body.classList.contains('page-active-picks')) {\n                return 'dashboard';\n            }\n            return 'dashboard'; // default\n        },\n\n        /**\n         * Set up safe area insets for iOS notch phones\n         */\n        setupSafeAreas() {\n            const style = document.createElement('style');\n            style.textContent = `\n                @supports (padding: max(0px)) {\n                    body {\n                        padding-top: max(8px, env(safe-area-inset-top));\n                        padding-left: max(8px, env(safe-area-inset-left));\n                        padding-right: max(8px, env(safe-area-inset-right));\n                        padding-bottom: max(8px, env(safe-area-inset-bottom));\n                    }\n                    .brand-nav {\n                        padding-top: max(8px, env(safe-area-inset-top)) !important;\n                        padding-left: max(8px, env(safe-area-inset-left)) !important;\n                        padding-right: max(8px, env(safe-area-inset-right)) !important;\n                    }\n                    .mobile-bottom-nav {\n                        padding-bottom: max(8px, env(safe-area-inset-bottom)) !important;\n                    }\n                    body.page-picks-tracker .main-container {\n                        padding-bottom: calc(60px + max(8px, env(safe-area-inset-bottom))) !important;\n                    }\n                }\n            `;\n            document.head.appendChild(style);\n        },\n\n        /**\n         * Respect prefers-reduced-motion accessibility setting\n         */\n        respectReducedMotion() {\n            const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n            if (prefersReduced) {\n                const style = document.createElement('style');\n                style.textContent = `\n                    * {\n                        animation: none !important;\n                        transition: none !important;\n                    }\n                `;\n                document.head.appendChild(style);\n                console.log('[Mobile] Respecting reduced motion preference');\n            }\n        },\n\n        /**\n         * Create floating action button (FAB) for mobile\n         */\n        createFAB() {\n            // Determine which action should be in FAB based on page\n            let fabLabel = '\u2713'; // default\n            let fabClass = 'mobile-fab-fetch';\n\n            if (this.currentPage === 'picks-tracker') {\n                fabLabel = '\u27F3'; // refresh\n                fabClass = 'mobile-fab-refresh';\n            } else if (this.currentPage === 'weekly-lineup') {\n                fabLabel = '\u2B07'; // fetch/pull\n                fabClass = 'mobile-fab-fetch';\n            }\n\n            this.fab = document.createElement('button');\n            this.fab.className = `mobile-fab ${fabClass}`;\n            this.fab.setAttribute('aria-label', `Mobile ${faLabel=== '\u2713' ? 'confirm' : fabLabel} action`);\n            this.fab.innerHTML = fabLabel;\n            this.fab.style.cssText = `\n                position: fixed;\n                bottom: 20px;\n                right: 20px;\n                width: 56px;\n                height: 56px;\n                border-radius: 50%;\n                background: linear-gradient(135deg, rgba(0, 214, 137, 0.9), rgba(0, 180, 120, 0.9));\n                border: 2px solid rgba(0, 255, 170, 0.3);\n                color: white;\n                font-size: 28px;\n                font-weight: bold;\n                cursor: pointer;\n                z-index: 9999;\n                box-shadow: 0 4px 12px rgba(0, 214, 137, 0.3);\n                transition: all 0.2s ease;\n                min-height: 56px;\n                min-width: 56px;\n                padding: 0;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n            `;\n\n            // Hover effect\n            this.fab.addEventListener('mouseenter', () => {\n                this.fab.style.transform = 'scale(1.1)';\n                this.fab.style.boxShadow = '0 6px 16px rgba(0, 214, 137, 0.4)';\n            });\n            this.fab.addEventListener('mouseleave', () => {\n                this.fab.style.transform = 'scale(1)';\n                this.fab.style.boxShadow = '0 4px 12px rgba(0, 214, 137, 0.3)';\n            });\n\n            document.body.appendChild(this.fab);\n        },\n\n        /**\n         * Create bottom navigation bar\n         */\n        createBottomNav() {\n            this.bottomNav = document.createElement('nav');\n            this.bottomNav.className = 'mobile-bottom-nav';\n            this.bottomNav.setAttribute('aria-label', 'Mobile navigation');\n            this.bottomNav.style.cssText = `\n                position: fixed;\n                bottom: 0;\n                left: 0;\n                right: 0;\n                height: 56px;\n                background: rgba(3, 11, 22, 0.95);\n                backdrop-filter: blur(12px);\n                border-top: 1px solid rgba(0, 214, 137, 0.1);\n                display: flex;\n                justify-content: space-around;\n                z-index: 9998;\n                padding-bottom: max(8px, env(safe-area-inset-bottom));\n            `;\n\n            const navItems = [\n                { href: 'index.html', icon: '\uD83C\uDFE0', label: 'Dashboard', isActive: this.currentPage === 'dashboard' },\n                { href: 'weekly-lineup.html', icon: '\uD83D\uDCCB', label: 'Weekly', isActive: this.currentPage === 'weekly-lineup' },\n                { href: 'picks-tracker.html', icon: '\uD83D\uDCCA', label: 'Tracker', isActive: this.currentPage === 'picks-tracker' },\n                { href: 'odds-market.html', icon: '\uD83D\uDCB0', label: 'Odds', isActive: this.currentPage === 'odds-market' },\n            ];\n\n            navItems.forEach(item => {\n                const link = document.createElement('a');\n                link.href = item.href;\n                link.className = `mobile-nav-item ${item.isActive ? 'active' : ''}`;\n                link.setAttribute('aria-current', item.isActive ? 'page' : 'false');\n                link.style.cssText = `\n                    display: flex;\n                    flex-direction: column;\n                    align-items: center;\n                    justify-content: center;\n                    gap: 4px;\n                    flex: 1;\n                    font-size: 22px;\n                    color: ${item.isActive ? 'rgba(0, 214, 137, 1)' : 'rgba(200, 210, 220, 0.7)'};\n                    text-decoration: none;\n                    transition: color 0.2s ease;\n                    font-size: 10px;\n                    min-width: 44px;\n                    min-height: 44px;\n                    padding: 6px;\n                    ${item.isActive ? 'border-top: 3px solid rgba(0, 214, 137, 0.8)' : 'border-top: 3px solid transparent'}\n                `;\n                link.innerHTML = `<span style=\"font-size: 24px;\">${item.icon}</span><span>${item.label}</span>`;\n                this.bottomNav.appendChild(link);\n            });\n\n            document.body.appendChild(this.bottomNav);\n        },\n\n        /**\n         * Create simplified controls for mobile\n         */\n        createSimplifiedControls() {\n            this.mobileUI = document.createElement('div');\n            this.mobileUI.className = 'mobile-simplified-ui';\n            this.mobileUI.style.cssText = `\n                display: flex;\n                flex-direction: column;\n                gap: 8px;\n                padding: 12px;\n                margin-bottom: 12px;\n            `;\n\n            // Refresh button for dashboard\n            if (this.currentPage === 'dashboard') {\n                const refreshBtn = document.createElement('button');\n                refreshBtn.className = 'mobile-refresh-btn';\n                refreshBtn.style.cssText = `\n                    min-height: 44px;\n                    min-width: 44px;\n                    padding: 12px 16px;\n                    background: rgba(0, 214, 137, 0.12);\n                    border: 1px solid rgba(0, 214, 137, 0.3);\n                    color: rgba(0, 214, 137, 1);\n                    border-radius: 6px;\n                    cursor: pointer;\n                    font-size: 12px;\n                    font-weight: 700;\n                    transition: all 0.2s ease;\n                `;\n                refreshBtn.textContent = '\u27F3 Refresh Picks';\n                refreshBtn.addEventListener('click', () => {\n                    if (window.loadLivePicks) {\n                        window.loadLivePicks();\n                        refreshBtn.textContent = '\u27F3 Loading...';\n                        setTimeout(() => {\n                            refreshBtn.textContent = '\u27F3 Refresh Picks';\n                        }, 2000);\n                    }\n                });\n                this.mobileUI.appendChild(refreshBtn);\n            }\n\n            // Insert after main header, before table\n            const headerEl = document.querySelector('.dashboard-topline') || document.querySelector('header');\n            if (headerEl) {\n                headerEl.parentNode.insertBefore(this.mobileUI, headerEl.nextSibling);\n            }\n        },\n\n        /**\n         * Attach mobile-specific event listeners\n         */\n        attachEventListeners() {\n            // Handle window resize to detect mobile/desktop transition\n            window.addEventListener('resize', () => {\n                const wasMobile = this.isMobile;\n                this.detectMobile();\n\n                if (wasMobile && !this.isMobile) {\n                    console.log('[Mobile] Switched to desktop, cleaning up mobile UI');\n                    this.cleanup();\n                } else if (!wasMobile && this.isMobile) {\n                    console.log('[Mobile] Switched to mobile, initializing UI');\n                    this.init();\n                }\n            });\n\n            // Prevent accidental double-tap zoom\n            document.addEventListener('touchstart', (e) => {\n                if (e.touches.length > 1) {\n                    e.preventDefault();\n                }\n            }, { passive: false });\n        },\n\n        /**\n         * Apply mobile-specific layout adjustments\n         */\n        applyMobileLayout() {\n            // Add viewport adjustment styles\n            const style = document.createElement('style');\n            style.textContent = `\n                /* Mobile-specific adjustments */\n                html, body {\n                    -webkit-text-size-adjust: 100%;\n                    text-size-adjust: 100%;\n                    overflow-x: hidden;\n                }\n\n                /* Ensure table doesn't overflow on mobile */\n                .table-container {\n                    overflow-x: auto;\n                    -webkit-overflow-scrolling: touch;\n                }\n\n                /* Bottom nav spacing */\n                body.is-mobile {\n                    padding-bottom: 64px;\n                }\n\n                /* Touch-friendly form controls */\n                input, select, button, textarea {\n                    font-size: 16px; /* Prevents zoom on iOS */\n                    min-height: 44px;\n                    min-width: 44px;\n                }\n\n                /* Fixed navigation adjustment */\n                .brand-nav {\n                    position: fixed;\n                    top: 0 !important;\n                    z-index: 9999;\n                    width: 100%;\n                    margin-top: 0 !important;\n                }\n\n                /* Content adjustment for fixed nav */\n                body.is-mobile > *:not(.brand-nav):not(.mobile-fab):not(.mobile-bottom-nav) {\n                    margin-top: 48px;\n                }\n            `;\n            document.head.appendChild(style);\n        },\n\n        /**\n         * Clean up mobile UI when switching back to desktop\n         */\n        cleanup() {\n            if (this.fab) this.fab.remove();\n            if (this.bottomNav) this.bottomNav.remove();\n            if (this.mobileUI) this.mobileUI.remove();\n            document.body.classList.remove('is-mobile');\n            this.isActive = false;\n        }\n    };\n\n    // Auto-initialize on DOM ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', () => MobileUnified.init());\n    } else {\n        MobileUnified.init();\n    }\n\n    // Export for access by other scripts\n    window.MobileUnified = MobileUnified;\n})();\n\n\n/* === assets/js/core/signalr-client.js === */\n/**\r\n * SignalR Real-time Client v1.0.0\r\n * Provides true push-based real-time updates for:\r\n * - Model execution status updates\r\n * - Live score changes\r\n * - Pick status changes\r\n * \r\n * Falls back to polling if SignalR connection fails\r\n */\r\n\r\n(function() {\r\n    'use strict';\r\n\r\n    class SignalRClient {\r\n        constructor() {\r\n            this.connection = null;\r\n            this.hubName = 'modelHub';\r\n            this.isConnected = false;\r\n            this.reconnectAttempts = 0;\r\n            this.maxReconnectAttempts = 5;\r\n            this.reconnectDelay = 5000;\r\n            this.listeners = new Map();\r\n            \r\n            // Get negotiate endpoint from config\r\n            this.negotiateUrl = window.APP_CONFIG?.FUNCTIONS_BASE_URL \r\n                ? `${window.APP_CONFIG.FUNCTIONS_BASE_URL}/api/signalr/negotiate`\r\n                : '/api/signalr/negotiate';\r\n            \r\n            // Event callbacks\r\n            this.onConnected = null;\r\n            this.onDisconnected = null;\r\n            this.onReconnecting = null;\r\n            this.onError = null;\r\n        }\r\n\r\n        /**\r\n         * Initialize SignalR connection\r\n         */\r\n        async connect() {\r\n            // Check if SignalR is enabled in config\r\n            if (!window.APP_CONFIG?.SIGNALR_ENABLED) {\r\n                console.log('[SignalR] Disabled in config - using polling fallback');\r\n                console.log('[SignalR] \u2022 To enable, set SIGNALR_ENABLED: true in config.js');\r\n                console.log('[SignalR] \u2022 Requires Azure SignalR Service + Azure Functions deployment');\r\n                this._startPollingFallback();\r\n                return false;\r\n            }\r\n\r\n            // Check if SignalR library is loaded\r\n            if (typeof signalR === 'undefined') {\r\n                console.warn('[SignalR] Library not loaded, using polling fallback');\r\n                this._startPollingFallback();\r\n                return false;\r\n            }\r\n\r\n            // Check if negotiate URL is configured\r\n            if (!this.negotiateUrl || this.negotiateUrl === '/api/signalr/negotiate') {\r\n                // Relative URL won't work without proper backend - check if FUNCTIONS_BASE_URL is set\r\n                if (!window.APP_CONFIG?.FUNCTIONS_BASE_URL) {\r\n                    console.log('[SignalR] No FUNCTIONS_BASE_URL configured - using polling fallback');\r\n                    this._startPollingFallback();\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            try {\r\n                console.log('[SignalR] Attempting to negotiate connection...');\r\n                // Get connection info from Azure Functions\r\n                const response = await fetch(this.negotiateUrl, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    }\r\n                });\r\n\r\n                if (!response.ok) {\r\n                    throw new Error(`Negotiate failed: ${response.status}`);\r\n                }\r\n\r\n                const connectionInfo = await response.json();\r\n\r\n                // Build connection\r\n                this.connection = new signalR.HubConnectionBuilder()\r\n                    .withUrl(connectionInfo.url, {\r\n                        accessTokenFactory: () => connectionInfo.accessToken\r\n                    })\r\n                    .withAutomaticReconnect({\r\n                        nextRetryDelayInMilliseconds: (retryContext) => {\r\n                            if (retryContext.previousRetryCount >= this.maxReconnectAttempts) {\r\n                                return null; // Stop reconnecting\r\n                            }\r\n                            return Math.min(1000 * Math.pow(2, retryContext.previousRetryCount), 30000);\r\n                        }\r\n                    })\r\n                    .configureLogging(signalR.LogLevel.Information)\r\n                    .build();\r\n\r\n                // Set up event handlers\r\n                this._setupEventHandlers();\r\n\r\n                // Start connection\r\n                await this.connection.start();\r\n                this.isConnected = true;\r\n                this.reconnectAttempts = 0;\r\n\r\n                console.log('\u2705 SignalR connected to', this.hubName);\r\n                \r\n                if (this.onConnected) {\r\n                    this.onConnected();\r\n                }\r\n\r\n                // Emit custom event for other scripts\r\n                window.dispatchEvent(new CustomEvent('signalr:connected', {\r\n                    detail: { hubName: this.hubName }\r\n                }));\r\n\r\n                return true;\r\n\r\n            } catch (error) {\r\n                console.error('SignalR connection failed:', error);\r\n                \r\n                if (this.onError) {\r\n                    this.onError(error);\r\n                }\r\n\r\n                // Fall back to polling\r\n                this._startPollingFallback();\r\n                return false;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Set up SignalR event handlers\r\n         */\r\n        _setupEventHandlers() {\r\n            if (!this.connection) return;\r\n\r\n            // Connection state handlers\r\n            this.connection.onclose((error) => {\r\n                this.isConnected = false;\r\n                console.log('SignalR disconnected:', error?.message || 'Connection closed');\r\n                \r\n                if (this.onDisconnected) {\r\n                    this.onDisconnected(error);\r\n                }\r\n\r\n                window.dispatchEvent(new CustomEvent('signalr:disconnected'));\r\n            });\r\n\r\n            this.connection.onreconnecting((error) => {\r\n                this.isConnected = false;\r\n                console.log('SignalR reconnecting...', error?.message);\r\n                \r\n                if (this.onReconnecting) {\r\n                    this.onReconnecting(error);\r\n                }\r\n\r\n                window.dispatchEvent(new CustomEvent('signalr:reconnecting'));\r\n            });\r\n\r\n            this.connection.onreconnected((connectionId) => {\r\n                this.isConnected = true;\r\n                console.log('\u2705 SignalR reconnected:', connectionId);\r\n                \r\n                if (this.onConnected) {\r\n                    this.onConnected();\r\n                }\r\n\r\n                window.dispatchEvent(new CustomEvent('signalr:reconnected'));\r\n            });\r\n\r\n            // Message handlers\r\n            this.connection.on('modelStatusUpdate', (data) => {\r\n                this._handleMessage('modelStatusUpdate', data);\r\n            });\r\n\r\n            this.connection.on('scoreUpdate', (data) => {\r\n                this._handleMessage('scoreUpdate', data);\r\n            });\r\n\r\n            this.connection.on('pickStatusChange', (data) => {\r\n                this._handleMessage('pickStatusChange', data);\r\n            });\r\n\r\n            this.connection.on('jobComplete', (data) => {\r\n                this._handleMessage('jobComplete', data);\r\n            });\r\n\r\n            this.connection.on('notification', (data) => {\r\n                this._handleMessage('notification', data);\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Handle incoming SignalR message\r\n         */\r\n        _handleMessage(eventType, data) {\r\n            console.log(`SignalR [${eventType}]:`, data);\r\n\r\n            // Notify registered listeners\r\n            const listeners = this.listeners.get(eventType) || [];\r\n            listeners.forEach(callback => {\r\n                try {\r\n                    callback(data);\r\n                } catch (error) {\r\n                    console.error(`Error in SignalR listener for ${eventType}:`, error);\r\n                }\r\n            });\r\n\r\n            // Emit DOM event for loose coupling\r\n            window.dispatchEvent(new CustomEvent(`signalr:${eventType}`, {\r\n                detail: data\r\n            }));\r\n        }\r\n\r\n        /**\r\n         * Subscribe to a message type\r\n         */\r\n        on(eventType, callback) {\r\n            if (!this.listeners.has(eventType)) {\r\n                this.listeners.set(eventType, []);\r\n            }\r\n            this.listeners.get(eventType).push(callback);\r\n        }\r\n\r\n        /**\r\n         * Unsubscribe from a message type\r\n         */\r\n        off(eventType, callback) {\r\n            const listeners = this.listeners.get(eventType);\r\n            if (listeners) {\r\n                const index = listeners.indexOf(callback);\r\n                if (index > -1) {\r\n                    listeners.splice(index, 1);\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Send a message to the hub (if supported by backend)\r\n         */\r\n        async send(method, ...args) {\r\n            if (!this.isConnected || !this.connection) {\r\n                console.warn('Cannot send: SignalR not connected');\r\n                return false;\r\n            }\r\n\r\n            try {\r\n                await this.connection.invoke(method, ...args);\r\n                return true;\r\n            } catch (error) {\r\n                console.error(`SignalR send failed [${method}]:`, error);\r\n                return false;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Disconnect from SignalR\r\n         */\r\n        async disconnect() {\r\n            if (this.connection) {\r\n                await this.connection.stop();\r\n                this.isConnected = false;\r\n                this.connection = null;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Start polling fallback when SignalR is unavailable\r\n         */\r\n        _startPollingFallback() {\r\n            console.log('Using polling fallback for updates');\r\n            \r\n            // Emit event so other scripts know to use polling\r\n            window.dispatchEvent(new CustomEvent('signalr:fallback', {\r\n                detail: { reason: 'SignalR unavailable, using polling' }\r\n            }));\r\n\r\n            // The existing LiveScoreUpdater will handle polling\r\n            // This just ensures graceful degradation\r\n        }\r\n\r\n        /**\r\n         * Get connection status\r\n         */\r\n        getStatus() {\r\n            return {\r\n                isConnected: this.isConnected,\r\n                hubName: this.hubName,\r\n                state: this.connection?.state || 'Disconnected'\r\n            };\r\n        }\r\n    }\r\n\r\n    // Create singleton instance\r\n    const signalRClient = new SignalRClient();\r\n\r\n    // Auto-connect when DOM is ready\r\n    if (document.readyState === 'loading') {\r\n        document.addEventListener('DOMContentLoaded', () => {\r\n            // Delay connection slightly to allow config to load\r\n            setTimeout(() => signalRClient.connect(), 500);\r\n        });\r\n    } else {\r\n        setTimeout(() => signalRClient.connect(), 500);\r\n    }\r\n\r\n    // Export to window\r\n    window.SignalRClient = signalRClient;\r\n\r\n})();\r\n\n\n/* === assets/js/core/auth-client.js === */\n/**\n * User Authentication Client v1.0.0\n * Azure AD B2C / Easy Auth integration\n * Provides login/logout, profile management, and session handling\n */\n\n(function () {\n  \"use strict\";\n\n  class AuthClient {\n    constructor() {\n      this.user = null;\n      this.isAuthenticated = false;\n      this.loginEndpoint = \"/.auth/login/aad\";\n      this.logoutEndpoint = \"/.auth/logout\";\n      this.meEndpoint = \"/.auth/me\";\n      this.initialized = false;\n    }\n\n    /**\n     * Initialize auth client\n     */\n    async init() {\n      if (this.initialized) return;\n\n      // Check if user is already logged in\n      await this.checkAuthStatus();\n\n      // Render auth UI if element exists\n      this._renderAuthUI();\n\n      // Listen for auth events\n      window.addEventListener(\"auth:login\", () => this.login());\n      window.addEventListener(\"auth:logout\", () => this.logout());\n\n      this.initialized = true;\n      console.log(\n        \"\uD83D\uDD10 Auth Client initialized\",\n        this.isAuthenticated ? \"(logged in)\" : \"(anonymous)\",\n      );\n    }\n\n    /**\n     * Check current authentication status\n     */\n    async checkAuthStatus() {\n      try {\n        const response = await fetch(this.meEndpoint);\n\n        if (response.ok) {\n          const data = await response.json();\n\n          if (data && data.length > 0) {\n            this.user = this._parseUserFromClaims(data[0]);\n            this.isAuthenticated = true;\n\n            window.dispatchEvent(\n              new CustomEvent(\"auth:authenticated\", {\n                detail: this.user,\n              }),\n            );\n          }\n        }\n      } catch (error) {\n        // Not authenticated or auth not configured\n        console.log(\"Auth check:\", error.message);\n      }\n    }\n\n    /**\n     * Parse user info from Azure AD claims\n     */\n    _parseUserFromClaims(authData) {\n      const claims = authData.user_claims || [];\n      const findClaim = (type) => claims.find((c) => c.typ === type)?.val;\n\n      return {\n        id: authData.user_id,\n        provider: authData.provider_name,\n        name:\n          findClaim(\"name\") ||\n          findClaim(\n            \"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name\",\n          ),\n        email:\n          findClaim(\n            \"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress\",\n          ) ||\n          findClaim(\"emails\") ||\n          authData.user_id,\n        picture: findClaim(\"picture\"),\n        roles: authData.user_roles || [],\n        claims: claims,\n      };\n    }\n\n    /**\n     * Redirect to login\n     */\n    login(returnUrl = window.location.href) {\n      const encodedReturn = encodeURIComponent(returnUrl);\n      window.location.href = `${this.loginEndpoint}?post_login_redirect_uri=${encodedReturn}`;\n    }\n\n    /**\n     * Logout user\n     */\n    logout(returnUrl = \"/\") {\n      const encodedReturn = encodeURIComponent(returnUrl);\n      window.location.href = `${this.logoutEndpoint}?post_logout_redirect_uri=${encodedReturn}`;\n    }\n\n    /**\n     * Get current user\n     */\n    getUser() {\n      return this.user;\n    }\n\n    /**\n     * Check if user has specific role\n     */\n    hasRole(role) {\n      return this.user?.roles?.includes(role) || false;\n    }\n\n    /**\n     * Check if user is admin\n     */\n    isAdmin() {\n      return this.hasRole(\"admin\") || this.hasRole(\"Admin\");\n    }\n\n    /**\n     * Render auth UI elements\n     */\n    _renderAuthUI() {\n      const authContainer =\n        document.getElementById(\"auth-container\") ||\n        document.querySelector(\".auth-container\");\n\n      if (!authContainer) return;\n\n      if (this.isAuthenticated && this.user) {\n        const esc = window.SharedUtils?.escapeHtml || ((s) => String(s ?? ''));\n        const picUrl = this.user.picture ? esc(this.user.picture) : '';\n        const displayName = esc(this.user.name || this.user.email);\n        authContainer.innerHTML = `\n                    <div class=\"user-profile\">\n                        ${picUrl ? `<img src=\"${picUrl}\" alt=\"\" class=\"user-avatar\">` : \"\"}\n                        <span class=\"user-name\">${displayName}</span>\n                        <button class=\"btn-logout\" id=\"btn-logout\">Sign Out</button>\n                    </div>\n                `;\n\n        document\n          .getElementById(\"btn-logout\")\n          ?.addEventListener(\"click\", () => this.logout());\n      } else {\n        authContainer.innerHTML = `\n                    <button class=\"btn-login\" id=\"btn-login\">Sign In</button>\n                `;\n\n        document\n          .getElementById(\"btn-login\")\n          ?.addEventListener(\"click\", () => this.login());\n      }\n    }\n\n    /**\n     * Show login modal (for in-page login prompt)\n     */\n    showLoginPrompt(message = \"Please sign in to continue\") {\n      const existing = document.getElementById(\"auth-modal\");\n      if (existing) existing.remove();\n\n      const modal = document.createElement(\"div\");\n      modal.id = \"auth-modal\";\n      modal.className = \"auth-modal-overlay\";\n      const esc = window.SharedUtils?.escapeHtml || ((s) => String(s ?? ''));\n      modal.innerHTML = `\n                <div class=\"auth-modal\">\n                    <div class=\"auth-modal-header\">\n                        <img src=\"/assets/Logo%208.5.png\" alt=\"GBSV\" class=\"auth-logo\">\n                        <h2>Welcome to GBSV</h2>\n                    </div>\n                    <div class=\"auth-modal-body\">\n                        <p>${esc(message)}</p>\n                    </div>\n                    <div class=\"auth-modal-footer\">\n                        <button class=\"btn btn-secondary\" id=\"auth-cancel\">Cancel</button>\n                        <button class=\"btn btn-primary\" id=\"auth-login\">Sign In</button>\n                    </div>\n                </div>\n            `;\n\n      document.body.appendChild(modal);\n\n      modal\n        .querySelector(\"#auth-cancel\")\n        .addEventListener(\"click\", () => modal.remove());\n      modal.querySelector(\"#auth-login\").addEventListener(\"click\", () => {\n        modal.remove();\n        this.login();\n      });\n\n      // Inject styles if needed\n      this._injectAuthStyles();\n    }\n\n    /**\n     * Inject auth-related styles\n     */\n    _injectAuthStyles() {\n      if (document.getElementById(\"auth-styles\")) return;\n\n      const style = document.createElement(\"style\");\n      style.id = \"auth-styles\";\n      style.textContent = `\n                .auth-modal-overlay {\n                    position: fixed;\n                    top: 0;\n                    left: 0;\n                    width: 100%;\n                    height: 100%;\n                    background: rgba(0,0,0,0.7);\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    z-index: 20000;\n                }\n\n                .auth-modal {\n                    background: linear-gradient(180deg, #0a1628 0%, #030b16 100%);\n                    border: 1px solid rgba(255,255,255,0.1);\n                    border-radius: 12px;\n                    padding: 30px;\n                    max-width: 400px;\n                    text-align: center;\n                    color: #fff;\n                }\n\n                .auth-modal-header {\n                    margin-bottom: 20px;\n                }\n\n                .auth-logo {\n                    height: 60px;\n                    margin-bottom: 15px;\n                }\n\n                .auth-modal h2 {\n                    margin: 0;\n                    font-size: 24px;\n                }\n\n                .auth-modal-body {\n                    margin-bottom: 25px;\n                    color: rgba(255,255,255,0.7);\n                }\n\n                .auth-modal-footer {\n                    display: flex;\n                    gap: 15px;\n                    justify-content: center;\n                }\n\n                .auth-modal .btn {\n                    padding: 10px 25px;\n                    border-radius: 6px;\n                    font-size: 14px;\n                    cursor: pointer;\n                    border: none;\n                }\n\n                .auth-modal .btn-primary {\n                    background: #3b82f6;\n                    color: #fff;\n                }\n\n                .auth-modal .btn-secondary {\n                    background: rgba(255,255,255,0.1);\n                    color: #fff;\n                }\n\n                .user-profile {\n                    display: flex;\n                    align-items: center;\n                    gap: 10px;\n                }\n\n                .user-avatar {\n                    width: 32px;\n                    height: 32px;\n                    border-radius: 50%;\n                }\n\n                .user-name {\n                    color: #fff;\n                    font-size: 14px;\n                }\n\n                .btn-logout, .btn-login {\n                    padding: 6px 12px;\n                    border-radius: 4px;\n                    border: 1px solid rgba(255,255,255,0.2);\n                    background: transparent;\n                    color: #fff;\n                    cursor: pointer;\n                    font-size: 12px;\n                }\n\n                .btn-logout:hover, .btn-login:hover {\n                    background: rgba(255,255,255,0.1);\n                }\n            `;\n      document.head.appendChild(style);\n    }\n  }\n\n  // Create singleton\n  window.AuthClient = new AuthClient();\n\n  // Init on DOM ready\n  const authEnabled = window.APP_CONFIG?.AUTH_ENABLED === true;\n  if (authEnabled) {\n    if (document.readyState === \"loading\") {\n      document.addEventListener(\"DOMContentLoaded\", () =>\n        window.AuthClient.init(),\n      );\n    } else {\n      window.AuthClient.init();\n    }\n  }\n})();\n\n\n/* === assets/js/features/nba-picks-fetcher.js === */\n/**\r\n * NBA Picks Fetcher v4.0\r\n * Fetches NBA model picks from nba_gbsv_v5_az Container App\r\n *\r\n * Primary Route: /api/model/nba/predictions/latest  (same-origin proxy)\r\n * Fallback Route: {NBA_API_URL}/predictions/latest  (direct ACA)\r\n *\r\n * ACA: nbagbsvv5-aca (nba_gbsv_v5_az resource group)\r\n * Built on BaseSportFetcher shared infrastructure.\r\n */\r\n\r\n(function () {\r\n  \"use strict\";\r\n\r\n  const { normalizeFireRating, getFunctionsBase, getContainerEndpoint } =\r\n    window.BaseSportFetcher?.utils || {};\r\n\r\n  const fetcher = new window.BaseSportFetcher({\r\n    sport: \"NBA\",\r\n    tag: \"[NBA-FETCHER]\",\r\n    timeoutMs: 15000,\r\n\r\n    buildPrimaryUrl(date) {\r\n      const base = getFunctionsBase();\r\n      const dateParam = date && date !== \"today\" ? `?date=${date}` : \"\";\r\n      return `${base}/api/model/nba/predictions/latest${dateParam}`;\r\n    },\r\n\r\n    buildFallbackUrl(date) {\r\n      const endpoint = getContainerEndpoint(\"nba\");\r\n      if (!endpoint) return \"\";\r\n      const dateParam = date && date !== \"today\" ? `?date=${date}` : \"\";\r\n      return `${endpoint}/predictions/latest${dateParam}`;\r\n    },\r\n\r\n    formatPickForTable(play) {\r\n      if (!play) return null;\r\n\r\n      const home = play.home_team || play.home || \"Unknown\";\r\n      const away = play.away_team || play.away || \"Unknown\";\r\n      const matchup = play.matchup || `${away} @ ${home}`;\r\n\r\n      // Determine pick display text\r\n      let pickText =\r\n        play.pick ||\r\n        play.selection ||\r\n        play.feature_name ||\r\n        play.model_feature ||\r\n        \"N/A\";\r\n      if (pickText && typeof pickText === \"string\") {\r\n        pickText = pickText.replace(/_/g, \" \");\r\n      }\r\n\r\n      // Extract pick team and type\r\n      let pickTeam = \"\";\r\n      let pickType = \"spread\";\r\n\r\n      if (pickText && typeof pickText === \"string\") {\r\n        const upper = pickText.toUpperCase();\r\n        if (upper.includes(\"OVER\") || upper.includes(\"O \")) {\r\n          pickTeam = \"Over\";\r\n          pickType = \"total\";\r\n        } else if (upper.includes(\"UNDER\") || upper.includes(\"U \")) {\r\n          pickTeam = \"Under\";\r\n          pickType = \"total\";\r\n        } else if (upper.includes(\"HOME\") || upper.includes(\"FAVORITE\")) {\r\n          pickTeam = home;\r\n          pickType = \"spread\";\r\n        } else if (upper.includes(\"AWAY\") || upper.includes(\"UNDERDOG\")) {\r\n          pickTeam = away;\r\n          pickType = \"spread\";\r\n        } else {\r\n          pickTeam = pickText;\r\n          if (upper.includes(\"ML\")) {\r\n            pickType = \"ml\";\r\n          }\r\n        }\r\n      }\r\n\r\n      // Extract line from pick\r\n      let line = \"\";\r\n      const lineMatch = pickText?.match(/([+-]?\\d+\\.?\\d*)/);\r\n      if (lineMatch) {\r\n        line = lineMatch[1];\r\n      }\r\n\r\n      // Parse edge/confidence - maps to fire rating\r\n      const edge = parseFloat(play.edge) || parseFloat(play.ev) || 0;\r\n      const fireNum = normalizeFireRating\r\n        ? normalizeFireRating(play.fire_rating ?? play.confidence, edge)\r\n        : Math.max(0, Math.min(5, Math.ceil(edge / 1.5)));\r\n\r\n      return {\r\n        sport: \"NBA\",\r\n        date:\r\n          play.date ||\r\n          play.game_date ||\r\n          new Date().toLocaleDateString(\"en-US\", {\r\n            weekday: \"short\",\r\n            month: \"short\",\r\n            day: \"numeric\",\r\n          }),\r\n        time: play.time || \"TBD\",\r\n        awayTeam: away,\r\n        homeTeam: home,\r\n        segment: play.segment || \"FG\",\r\n        pickTeam: pickTeam,\r\n        pickType: pickType,\r\n        pickDirection:\r\n          play.pick_direction ||\r\n          (pickTeam.toUpperCase() === \"OVER\"\r\n            ? \"OVER\"\r\n            : pickTeam.toUpperCase() === \"UNDER\"\r\n              ? \"UNDER\"\r\n              : \"\"),\r\n        line: line,\r\n        odds: play.odds || play.odds_available || play.price || -110,\r\n        edge: edge,\r\n        fire: fireNum,\r\n        fireLabel: fireNum === 5 ? \"MAX\" : \"\",\r\n        rationale: play.rationale || play.explanation || \"\",\r\n        modelStamp: play.model_version || play.modelVersion || \"\",\r\n        raw: play,\r\n      };\r\n    },\r\n  });\r\n\r\n  // Export with same interface (preserve backward compat)\r\n  window.NBAPicksFetcher = {\r\n    fetchNBAPicks: (date) => fetcher.fetchPicks(date),\r\n    fetchPicks: (date) => fetcher.fetchPicks(date),\r\n    formatPickForTable: fetcher.formatPickForTable,\r\n    checkHealth: () => fetcher.checkHealth(),\r\n    getCache: (date) => fetcher.getCache(date),\r\n    getLastSource: () => fetcher.getLastSource(),\r\n    clearCache: (date) => fetcher.clearCache(date),\r\n  };\r\n})();\r\n\n\n/* === assets/js/features/ncaam-picks-fetcher.js === */\n/**\n * NCAAM Picks Fetcher v4.0\n * Fetches NCAAM model picks from ncaam_gbsv_v2.0 Container App\n *\n * Primary Route: /api/model/ncaam/api/picks/{date}  (same-origin proxy)\n * Fallback Route: {NCAAM_API_URL}/api/picks/{date}  (direct ACA)\n *\n * ACA: ca-ncaamgbsvv20 (ncaam_gbsv_v2.0 resource group)\n * Built on BaseSportFetcher shared infrastructure.\n *\n * NCAAM-specific: triggerPicksIfNeeded (trigger-picks endpoint for cold start)\n */\n\n(function () {\n  \"use strict\";\n\n  const { normalizeFireRating, getFunctionsBase, getContainerEndpoint } =\n    window.BaseSportFetcher?.utils || {};\n\n  // NCAAM-specific: trigger picks generation via proxy\n  const triggerInFlight = {};\n\n  async function triggerPicksIfNeeded(cacheKey) {\n    const proxyBase = `${getFunctionsBase()}/api/model/ncaam`;\n    const triggerKey = `${proxyBase}|${cacheKey || \"today\"}`;\n    if (triggerInFlight[triggerKey]) return false;\n    triggerInFlight[triggerKey] = true;\n    try {\n      const triggerUrl = `${proxyBase}/trigger-picks`;\n      const response = await fetch(triggerUrl, {\n        signal: AbortSignal.timeout(60000),\n      });\n      if (response.ok) {\n        return true;\n      }\n      return false;\n    } catch {\n      return false;\n    } finally {\n      triggerInFlight[triggerKey] = false;\n    }\n  }\n\n  const fetcher = new window.BaseSportFetcher({\n    sport: \"NCAAM\",\n    tag: \"[NCAAM-FETCHER]\",\n    timeoutMs: 60000, // 60s to handle cold starts\n\n    buildPrimaryUrl(date) {\n      const base = getFunctionsBase();\n      // The NCAAM v2 backend uses /api/slate for the daily picks\n      return `${base}/api/model/ncaam/api/slate${date ? `?date=${date}` : \"\"}`;\n    },\n\n    buildFallbackUrl(date) {\n      const endpoint = getContainerEndpoint(\"ncaam\");\n      if (!endpoint) return \"\";\n      // The NCAAM v2 backend uses /api/slate for the daily picks\n      return `${endpoint}/api/slate${date ? `?date=${date}` : \"\"}`;\n    },\n\n    // NCAAM-specific retry: trigger picks generation on 503\n    async onFetchFail(date, response) {\n      if (response.status === 503) {\n        const triggered = await triggerPicksIfNeeded(date);\n        if (triggered) {\n          await new Promise((resolve) => setTimeout(resolve, 2000));\n          const proxyBase = `${getFunctionsBase()}/api/model/ncaam`;\n          const retryResponse = await fetch(\n            `${proxyBase}/api/slate${date ? `?date=${date}` : \"\"}`,\n            { signal: AbortSignal.timeout(60000) },\n          );\n          return retryResponse;\n        }\n      }\n      return null;\n    },\n\n    formatPickForTable(pick) {\n      const fireNum = normalizeFireRating\n        ? normalizeFireRating(\n            pick.fire_rating ?? pick.confidence,\n            parseFloat(pick.edge) || 0,\n          )\n        : 3;\n\n      const marketType = (pick.market || \"spread\").toLowerCase();\n\n      // Parse time from \"12/25 11:10 AM\" format\n      let timeStr = pick.time_cst || \"\";\n      let dateStr = \"\";\n      if (timeStr.includes(\" \")) {\n        const timeParts = timeStr.split(\" \");\n        dateStr = timeParts[0];\n        timeStr = timeParts.slice(1).join(\" \");\n      }\n\n      const awayTeam =\n        pick.awayTeam ||\n        pick.away_team ||\n        (pick.matchup ? pick.matchup.split(\" @ \")[0] : \"\") ||\n        \"\";\n      const homeTeam =\n        pick.homeTeam ||\n        pick.home_team ||\n        (pick.matchup ? pick.matchup.split(\" @ \")[1] : \"\") ||\n        \"\";\n\n      const pickTeam = pick.predictedWinner || pick.pick || \"\";\n      let pickDirection = \"\";\n      const upperPick = pickTeam.toUpperCase();\n      if (upperPick === \"OVER\" || upperPick === \"UNDER\") {\n        pickDirection = upperPick;\n      }\n\n      let edgeValue = 0;\n      if (typeof pick.edge === \"string\") {\n        edgeValue = parseFloat(pick.edge.replace(\"+\", \"\")) || 0;\n      } else if (typeof pick.edge === \"number\") {\n        edgeValue = pick.edge;\n      }\n\n      return {\n        sport: \"NCAAM\",\n        date:\n          dateStr ||\n          new Date().toLocaleDateString(\"en-US\", {\n            month: \"short\",\n            day: \"numeric\",\n          }),\n        time: timeStr,\n        awayTeam,\n        homeTeam,\n        game: pick.matchup || `${awayTeam} @ ${homeTeam}`,\n        pick: pickTeam,\n        pickTeam,\n        pickDirection,\n        pickType: marketType,\n        odds: pick.pick_odds || \"-110\",\n        edge: edgeValue,\n        confidence: fireNum,\n        fire: fireNum,\n        fireLabel: fireNum === 5 ? \"MAX\" : \"\",\n        market: marketType,\n        segment: pick.period || \"FG\",\n        line: pick.marketSpread || pick.market_line || \"\",\n        modelPrice: pick.predictedMargin || pick.model_line || \"\",\n        modelSpread: pick.predictedMargin || pick.model_line || \"\",\n        fire_rating: pick.fire_rating || \"\",\n        rationale:\n          pick.rationale ||\n          pick.reason ||\n          pick.analysis ||\n          pick.notes ||\n          pick.executive_summary ||\n          \"\",\n        modelVersion:\n          pick.model_version ||\n          pick.modelVersion ||\n          pick.model_tag ||\n          pick.modelTag ||\n          \"\",\n        modelStamp:\n          pick.model_version ||\n          pick.modelVersion ||\n          pick.model_tag ||\n          pick.modelTag ||\n          \"\",\n      };\n    },\n  });\n\n  // Export with same interface (preserve backward compat)\n  window.NCAAMPicksFetcher = {\n    fetchPicks: (date) => fetcher.fetchPicks(date),\n    checkHealth: () => fetcher.checkHealth(),\n    formatPickForTable: fetcher.formatPickForTable,\n    triggerPicks: triggerPicksIfNeeded,\n    getCache: (date) => fetcher.getCache(date),\n    getLastSource: () => fetcher.getLastSource(),\n    getEndpoint: () => getContainerEndpoint(\"ncaam\"),\n    clearCache: (date) => fetcher.clearCache(date),\n  };\n})();\n\n\n/* === assets/js/features/nfl-picks-fetcher.js === */\n/**\r\n * NFL Picks Fetcher v2.0\r\n * Fetches NFL model picks via Azure Front Door weekly-lineup route\r\n *\r\n * Primary Route: {API_BASE_URL}/weekly-lineup/nfl\r\n * Fallback Route: Container App /api/v1/predictions/week/{season}/{week}\r\n *\r\n * Built on BaseSportFetcher shared infrastructure.\r\n * NFL-specific: dateToNFLSeasonWeek for fallback route construction.\r\n */\r\n\r\n(function () {\r\n  \"use strict\";\r\n\r\n  const { normalizeFireRating, getContainerEndpoint } =\r\n    window.BaseSportFetcher?.utils || {};\r\n\r\n  /**\r\n   * Convert date to NFL season and week\r\n   * @param {string} date - Date string ('today', 'YYYY-MM-DD', etc.)\r\n   * @returns {Object} {season, week}\r\n   */\r\n  function dateToNFLSeasonWeek(date = \"today\") {\r\n    let targetDate;\r\n    if (date === \"today\") {\r\n      targetDate = new Date();\r\n    } else if (date === \"tomorrow\") {\r\n      targetDate = new Date();\r\n      targetDate.setDate(targetDate.getDate() + 1);\r\n    } else {\r\n      targetDate = new Date(date);\r\n    }\r\n\r\n    const year = targetDate.getFullYear();\r\n    const month = targetDate.getMonth() + 1;\r\n\r\n    // NFL season spans calendar years, starts in September\r\n    const season = month >= 9 ? year : year - 1;\r\n\r\n    // Calculate week of season (approximate)\r\n    const startOfYear = new Date(season, 8, 1); // September 1\r\n    const daysSinceStart = Math.floor(\r\n      (targetDate - startOfYear) / (24 * 60 * 60 * 1000),\r\n    );\r\n    const week = Math.max(1, Math.min(18, Math.floor(daysSinceStart / 7) + 1));\r\n\r\n    return { season, week };\r\n  }\r\n\r\n  const fetcher = new window.BaseSportFetcher({\r\n    sport: \"NFL\",\r\n    tag: \"[NFL-FETCHER]\",\r\n    timeoutMs: 15000,\r\n\r\n    buildPrimaryUrl() {\r\n      const base =\r\n        window.APP_CONFIG?.API_BASE_URL ||\r\n        window.APP_CONFIG?.API_BASE_FALLBACK ||\r\n        `${window.location.origin}/api`;\r\n      return `${base}/weekly-lineup/nfl`;\r\n    },\r\n\r\n    buildFallbackUrl(date) {\r\n      const endpoint = getContainerEndpoint(\"nfl\");\r\n      if (!endpoint) return \"\";\r\n      const { season, week } = dateToNFLSeasonWeek(date);\r\n      return `${endpoint}/api/v1/predictions/week/${season}/${week}`;\r\n    },\r\n\r\n    formatPickForTable(pick) {\r\n      const fireNum = normalizeFireRating\r\n        ? normalizeFireRating(pick.fire_rating ?? pick.confidence, parseFloat(pick.edge) || 0)\r\n        : 3;\r\n\r\n      const awayTeam = pick.away_team || pick.awayTeam || \"\";\r\n      const homeTeam = pick.home_team || pick.homeTeam || \"\";\r\n\r\n      const pickDisplay =\r\n        pick.pick_display || pick.pick || pick.recommendation || \"\";\r\n      const marketType = (\r\n        pick.market_type ||\r\n        pick.market ||\r\n        \"\"\r\n      ).toLowerCase();\r\n\r\n      // Determine pick type and extract components\r\n      let pickType = \"spread\";\r\n      let pickTeam = \"\";\r\n      let pickDirection = \"\";\r\n      let line = \"\";\r\n\r\n      if (marketType === \"moneyline\" || marketType === \"ml\") {\r\n        pickType = \"ml\";\r\n        pickTeam = pickDisplay.replace(/\\s*ML\\s*/i, \"\").trim() || awayTeam;\r\n        line = \"ML\";\r\n      } else if (\r\n        marketType === \"total\" ||\r\n        marketType === \"totals\" ||\r\n        marketType === \"over/under\"\r\n      ) {\r\n        pickType = \"total\";\r\n        const totalMatch = pickDisplay.match(\r\n          /^(OVER|UNDER|Over|Under)\\s+([\\d.]+)/i,\r\n        );\r\n        if (totalMatch) {\r\n          pickDirection = totalMatch[1].toUpperCase();\r\n          pickTeam = pickDirection;\r\n          line = totalMatch[2];\r\n        } else {\r\n          pickDirection = \"OVER\";\r\n          pickTeam = \"OVER\";\r\n          line = pickDisplay.replace(/[^\\d.]/g, \"\");\r\n        }\r\n      } else if (\r\n        marketType === \"team total\" ||\r\n        marketType === \"team_total\" ||\r\n        marketType === \"tt\"\r\n      ) {\r\n        pickType = \"tt\";\r\n        const ttMatch = pickDisplay.match(\r\n          /^(.+?)\\s+(OVER|UNDER|Over|Under)\\s+([\\d.]+)/i,\r\n        );\r\n        if (ttMatch) {\r\n          pickTeam = ttMatch[1].trim();\r\n          pickDirection = ttMatch[2].toUpperCase();\r\n          line = ttMatch[3];\r\n        }\r\n      } else {\r\n        pickType = \"spread\";\r\n        const spreadMatch = pickDisplay.match(/^(.+?)\\s+([+-][\\d.]+)/);\r\n        if (spreadMatch) {\r\n          pickTeam = spreadMatch[1].trim();\r\n          line = spreadMatch[2];\r\n        } else {\r\n          pickTeam = pickDisplay.trim();\r\n        }\r\n      }\r\n\r\n      // Calculate edge\r\n      let edgeValue = 0;\r\n      if (typeof pick.edge === \"number\") {\r\n        edgeValue = pick.edge;\r\n      } else if (typeof pick.edge === \"string\") {\r\n        edgeValue = parseFloat(pick.edge.replace(\"%\", \"\")) / 100;\r\n      }\r\n\r\n      return {\r\n        sport: \"NFL\",\r\n        league: \"NFL\",\r\n        awayTeam,\r\n        homeTeam,\r\n        awayRecord: pick.away_record || \"\",\r\n        homeRecord: pick.home_record || \"\",\r\n        pickTeam,\r\n        pickType,\r\n        pickDirection,\r\n        line,\r\n        odds: pick.odds || pick.market_odds || \"-110\",\r\n        edge: edgeValue,\r\n        fire: fireNum,\r\n        confidence: fireNum,\r\n        fireLabel: fireNum === 5 ? \"MAX\" : \"\",\r\n        time: pick.game_time || pick.time || \"\",\r\n        date: pick.game_date || pick.date || \"\",\r\n        segment: pick.period || pick.segment || \"FG\",\r\n        market: marketType || \"spread\",\r\n        rationale:\r\n          pick.rationale ||\r\n          pick.reason ||\r\n          pick.analysis ||\r\n          pick.notes ||\r\n          pick.executive_summary ||\r\n          \"\",\r\n        modelStamp:\r\n          pick.model_version ||\r\n          pick.modelVersion ||\r\n          pick.model_tag ||\r\n          pick.modelTag ||\r\n          \"\",\r\n        modelVersion:\r\n          pick.model_version ||\r\n          pick.modelVersion ||\r\n          pick.model_tag ||\r\n          pick.modelTag ||\r\n          \"\",\r\n      };\r\n    },\r\n  });\r\n\r\n  // Export with same interface (preserve backward compat)\r\n  window.NFLPicksFetcher = {\r\n    fetchPicks: (date) => fetcher.fetchPicks(date),\r\n    checkHealth: () => fetcher.checkHealth(),\r\n    formatPickForTable: fetcher.formatPickForTable,\r\n    getCache: (date) => fetcher.getCache(date),\r\n    getLastSource: () => fetcher.getLastSource(),\r\n    clearCache: (date) => fetcher.clearCache(date),\r\n  };\r\n})();\r\n\n\n/* === assets/js/features/ncaaf-picks-fetcher.js === */\n/**\r\n * NCAAF Picks Fetcher v2.0\r\n * Fetches NCAAF model picks via Azure Front Door weekly-lineup route\r\n *\r\n * Primary Route: {API_BASE_URL}/weekly-lineup/ncaaf\r\n * Fallback Route: Container App /api/v1/predictions/week/{season}/{week}\r\n *\r\n * Built on BaseSportFetcher shared infrastructure.\r\n * NCAAF-specific: getCurrentSeasonWeek for fallback route construction.\r\n */\r\n\r\n(function () {\r\n  \"use strict\";\r\n\r\n  const { normalizeFireRating, getContainerEndpoint } =\r\n    window.BaseSportFetcher?.utils || {};\r\n\r\n  /**\r\n   * Get current NCAAF season and week\r\n   * @returns {Object} { season, week }\r\n   */\r\n  function getCurrentSeasonWeek() {\r\n    const now = new Date();\r\n    const year = now.getFullYear();\r\n    const month = now.getMonth() + 1;\r\n\r\n    // NCAAF season runs Aug-Jan\r\n    const season = month >= 8 ? year : year - 1;\r\n\r\n    // Approximate week calculation (season starts late August)\r\n    const seasonStart = new Date(season, 7, 24); // Aug 24\r\n    const weekNum = Math.max(\r\n      1,\r\n      Math.ceil((now - seasonStart) / (7 * 24 * 60 * 60 * 1000)),\r\n    );\r\n\r\n    return { season, week: Math.min(weekNum, 15) }; // Cap at week 15 (bowl season)\r\n  }\r\n\r\n  const fetcher = new window.BaseSportFetcher({\r\n    sport: \"NCAAF\",\r\n    tag: \"[NCAAF-FETCHER]\",\r\n    timeoutMs: 15000,\r\n\r\n    buildPrimaryUrl() {\r\n      const base =\r\n        window.APP_CONFIG?.API_BASE_URL ||\r\n        window.APP_CONFIG?.API_BASE_FALLBACK ||\r\n        `${window.location.origin}/api`;\r\n      return `${base}/weekly-lineup/ncaaf`;\r\n    },\r\n\r\n    buildFallbackUrl() {\r\n      const endpoint = getContainerEndpoint(\"ncaaf\");\r\n      if (!endpoint) return \"\";\r\n      const { season, week } = getCurrentSeasonWeek();\r\n      return `${endpoint}/api/v1/predictions/week/${season}/${week}`;\r\n    },\r\n\r\n    formatPickForTable(pick) {\r\n      const fireNum = normalizeFireRating\r\n        ? normalizeFireRating(pick.fire_rating ?? pick.confidence, parseFloat(pick.edge) || 0)\r\n        : 3;\r\n\r\n      return {\r\n        sport: \"NCAAF\",\r\n        game: `${pick.away_team || pick.awayTeam || \"\"} @ ${pick.home_team || pick.homeTeam || \"\"}`,\r\n        pick:\r\n          pick.pick_display ||\r\n          pick.pick ||\r\n          pick.recommendation ||\r\n          pick.bet_recommendation,\r\n        odds: pick.odds || pick.market_odds || \"\",\r\n        edge: pick.edge\r\n          ? `${(pick.edge * 100).toFixed(1)}%`\r\n          : pick.expected_edge\r\n            ? `${(pick.expected_edge * 100).toFixed(1)}%`\r\n            : \"\",\r\n        confidence: fireNum,\r\n        time: pick.game_time || pick.time || pick.kickoff || \"\",\r\n        market: pick.market_type || pick.market || pick.bet_type || \"\",\r\n        period: pick.period || \"FG\",\r\n        fire_rating: pick.fire_rating || \"\",\r\n        fireLabel: fireNum === 5 ? \"MAX\" : \"\",\r\n        rationale:\r\n          pick.rationale ||\r\n          pick.reason ||\r\n          pick.analysis ||\r\n          pick.notes ||\r\n          pick.executive_summary ||\r\n          \"\",\r\n        modelVersion:\r\n          pick.model_version ||\r\n          pick.modelVersion ||\r\n          pick.model_tag ||\r\n          pick.modelTag ||\r\n          \"\",\r\n      };\r\n    },\r\n  });\r\n\r\n  // Export with same interface (preserve backward compat)\r\n  window.NCAAFPicksFetcher = {\r\n    fetchPicks: (date) => fetcher.fetchPicks(date),\r\n    checkHealth: () => fetcher.checkHealth(),\r\n    formatPickForTable: fetcher.formatPickForTable,\r\n    getCurrentSeasonWeek,\r\n    getCache: (date) => fetcher.getCache(date),\r\n    getLastSource: () => fetcher.getLastSource(),\r\n    clearCache: (date) => fetcher.clearCache(date),\r\n  };\r\n})();\r\n\n\n/* === assets/js/features/nhl-picks-fetcher.js === */\n/**\r\n * NHL Picks Fetcher v1.0\r\n * Fetches NHL model picks from nhl-gbsv-v1-az Container App\r\n *\r\n * Primary Route: /api/model/nhl/api/slate  (same-origin proxy)\r\n * Fallback Route: {NHL_API_URL}/api/slate  (direct ACA)\r\n *\r\n * ACA: nhl-gbsv-v1-az-aca (nhl-gbsv-model-rg)\r\n * Built on BaseSportFetcher shared infrastructure.\r\n */\r\n\r\n(function () {\r\n  \"use strict\";\r\n\r\n  const { normalizeFireRating, getFunctionsBase, getContainerEndpoint } =\r\n    window.BaseSportFetcher?.utils || {};\r\n\r\n  const fetcher = new window.BaseSportFetcher({\r\n    sport: \"NHL\",\r\n    tag: \"[NHL-FETCHER]\",\r\n    timeoutMs: 15000,\r\n\r\n    buildPrimaryUrl(date) {\r\n      const base = getFunctionsBase();\r\n      const dateParam = date && date !== \"today\" ? `?date=${date}` : \"\";\r\n      return `${base}/api/model/nhl/api/slate${dateParam}`;\r\n    },\r\n\r\n    buildFallbackUrl(date) {\r\n      const endpoint = getContainerEndpoint(\"nhl\");\r\n      if (!endpoint) return \"\";\r\n      const dateParam = date && date !== \"today\" ? `?date=${date}` : \"\";\r\n      return `${endpoint}/api/slate${dateParam}`;\r\n    },\r\n\r\n    formatPickForTable(pick) {\r\n      const fireNum = normalizeFireRating\r\n        ? normalizeFireRating(pick.fire_rating ?? pick.confidence, parseFloat(pick.edge) || 0)\r\n        : 3;\r\n\r\n      const awayTeam = pick.away_team || pick.awayTeam || pick.away || \"\";\r\n      const homeTeam = pick.home_team || pick.homeTeam || pick.home || \"\";\r\n      const marketType = (pick.market || pick.market_type || \"puckline\").toLowerCase();\r\n\r\n      let pickTeam = pick.pick || \"\";\r\n      let pickDirection = \"\";\r\n      const upperPick = pickTeam.toUpperCase();\r\n      if (upperPick === \"OVER\" || upperPick === \"UNDER\") {\r\n        pickDirection = upperPick;\r\n      }\r\n\r\n      let edgeValue = 0;\r\n      if (typeof pick.edge === \"string\") {\r\n        edgeValue = parseFloat(pick.edge.replace(\"+\", \"\")) || 0;\r\n      } else if (typeof pick.edge === \"number\") {\r\n        edgeValue = pick.edge;\r\n      }\r\n\r\n      return {\r\n        sport: \"NHL\",\r\n        date: pick.date || pick.game_date || \"\",\r\n        time: pick.time || pick.game_time || pick.time_cst || \"\",\r\n        awayTeam,\r\n        homeTeam,\r\n        game: pick.matchup || `${awayTeam} @ ${homeTeam}`,\r\n        pick: pickTeam,\r\n        pickTeam,\r\n        pickDirection,\r\n        pickType: marketType,\r\n        odds: pick.pick_odds || pick.odds || \"-110\",\r\n        edge: edgeValue,\r\n        confidence: fireNum,\r\n        fire: fireNum,\r\n        fireLabel: fireNum === 5 ? \"MAX\" : \"\",\r\n        market: marketType,\r\n        segment: pick.period || \"FG\",\r\n        line: pick.market_line || pick.line || \"\",\r\n        modelPrice: pick.model_line || \"\",\r\n        modelSpread: pick.model_line || \"\",\r\n        rationale: pick.rationale || pick.reason || pick.analysis || \"\",\r\n        modelStamp: pick.model_version || pick.modelVersion || pick.model_tag || \"\",\r\n        modelVersion: pick.model_version || pick.modelVersion || pick.model_tag || \"\",\r\n      };\r\n    },\r\n  });\r\n\r\n  // Export with same interface as other fetchers\r\n  window.NHLPicksFetcher = {\r\n    fetchPicks: (date) => fetcher.fetchPicks(date),\r\n    checkHealth: () => fetcher.checkHealth(),\r\n    formatPickForTable: fetcher.formatPickForTable,\r\n    getCache: (date) => fetcher.getCache(date),\r\n    getLastSource: () => fetcher.getLastSource(),\r\n    clearCache: (date) => fetcher.clearCache(date),\r\n  };\r\n})();\r\n\n\n/* === assets/js/features/unified-picks-fetcher.js === */\n/**\r\n * Unified Picks Fetcher v1.3\r\n * Orchestrates fetching picks from all model APIs in PARALLEL\r\n * Supports date-specific fetching with cache-first strategy\r\n *\r\n * v1.3 Performance improvements:\r\n * - Parallel fetching of all leagues (was sequential)\r\n * - Reduced timeout from 60s to 15s\r\n * - Cache-first strategy\r\n * - Progressive rendering support\r\n */\r\n\r\n(function() {\r\n    'use strict';\r\n\r\n    // Helper to check if debug mode is enabled\r\n    const isDebugMode = () => window.APP_CONFIG?.DEBUG_MODE === true;\r\n\r\n    // Debug-gated logging\r\n    const debugLog = (...args) => {\r\n        if (isDebugMode()) console.log(...args);\r\n    };\r\n    const debugWarn = (...args) => {\r\n        if (isDebugMode()) console.warn(...args);\r\n    };\r\n    const debugError = (...args) => {\r\n        // Always log errors, but with less verbosity in production\r\n        if (isDebugMode()) {\r\n            console.error(...args);\r\n        } else {\r\n            console.error(args[0]); // Only first arg in production\r\n        }\r\n    };\r\n\r\n    // Request timeout in milliseconds (reduced from 60s for better UX)\r\n    const REQUEST_TIMEOUT_MS = 15000;\r\n\r\n    // Cache for picks results\r\n    const picksCache = {\r\n        data: null,\r\n        timestamp: 0,\r\n        date: null,\r\n        league: null\r\n    };\r\n    const CACHE_DURATION_MS = 60000; // 1 minute cache\r\n\r\n    const extractModelStampFromResponse = (data) => {\r\n        if (!data || typeof data !== 'object') return '';\r\n\r\n        const read = (obj, path) => path.split('.').reduce((acc, key) => (acc && acc[key] !== undefined ? acc[key] : undefined), obj);\r\n        const pickFirstString = (...paths) => {\r\n            for (const path of paths) {\r\n                const value = read(data, path);\r\n                if (typeof value === 'string' && value.trim()) return value.trim();\r\n            }\r\n            return '';\r\n        };\r\n\r\n        const tag = pickFirstString(\r\n            'model_tag', 'modelTag',\r\n            'model_version', 'modelVersion',\r\n            'version', 'build', 'build_version',\r\n            'meta.model_tag', 'meta.modelTag',\r\n            'meta.model_version', 'meta.modelVersion',\r\n            'meta.version', 'meta.build',\r\n            'metadata.model_tag', 'metadata.modelTag',\r\n            'metadata.model_version', 'metadata.modelVersion',\r\n            'metadata.version', 'metadata.build'\r\n        );\r\n\r\n        const sha = pickFirstString(\r\n            'git_sha', 'gitSha', 'commit', 'commit_sha', 'commitSha',\r\n            'meta.git_sha', 'meta.gitSha', 'meta.commit', 'meta.commit_sha', 'meta.commitSha',\r\n            'metadata.git_sha', 'metadata.gitSha', 'metadata.commit', 'metadata.commit_sha', 'metadata.commitSha'\r\n        );\r\n\r\n        if (tag && sha) return `${tag} (${sha.slice(0, 8)})`;\r\n        return tag || (sha ? sha.slice(0, 12) : '');\r\n    };\r\n\r\n    const normalizeFireRating = (rawFire, edgeValue = 0) => {\r\n        const clamp = (n) => Math.max(0, Math.min(5, n));\r\n\r\n        if (typeof rawFire === 'number' && Number.isFinite(rawFire)) {\r\n            const fire = clamp(Math.round(rawFire));\r\n            return { fire, fireLabel: fire === 5 ? 'MAX' : '' };\r\n        }\r\n\r\n        const str = (rawFire ?? '').toString().trim();\r\n        if (str) {\r\n            const asNum = parseInt(str, 10);\r\n            if (!Number.isNaN(asNum)) {\r\n                const fire = clamp(asNum);\r\n                return { fire, fireLabel: fire === 5 ? 'MAX' : '' };\r\n            }\r\n\r\n            const upper = str.toUpperCase();\r\n            const map = { MAX: 5, ELITE: 5, STRONG: 4, GOOD: 3, STANDARD: 2, LOW: 1 };\r\n            if (upper in map) {\r\n                const fire = map[upper];\r\n                return { fire, fireLabel: fire === 5 ? 'MAX' : '' };\r\n            }\r\n\r\n            if (str.includes('%')) {\r\n                const pct = parseFloat(str.replace('%', ''));\r\n                if (!Number.isNaN(pct)) {\r\n                    if (pct >= 80) return { fire: 5, fireLabel: 'MAX' };\r\n                    if (pct >= 65) return { fire: 4, fireLabel: '' };\r\n                    if (pct >= 50) return { fire: 3, fireLabel: '' };\r\n                    if (pct >= 35) return { fire: 2, fireLabel: '' };\r\n                    return { fire: 1, fireLabel: '' };\r\n                }\r\n            }\r\n        }\r\n\r\n        const computed = clamp(Math.ceil((parseFloat(edgeValue) || 0) / 1.5));\r\n        return { fire: computed, fireLabel: computed === 5 ? 'MAX' : '' };\r\n    };\r\n\r\n    /**\r\n     * Fetch with timeout using AbortController\r\n     * @param {string} url - URL to fetch\r\n     * @param {object} options - Fetch options\r\n     * @param {number} timeoutMs - Timeout in milliseconds\r\n     * @returns {Promise<Response>}\r\n     */\r\n    const fetchWithTimeout = async (url, options = {}, timeoutMs = REQUEST_TIMEOUT_MS) => {\r\n        const controller = new AbortController();\r\n        const timeoutId = setTimeout(() => controller.abort(), timeoutMs);\r\n\r\n        try {\r\n            const response = await fetch(url, {\r\n                ...options,\r\n                signal: controller.signal\r\n            });\r\n            clearTimeout(timeoutId);\r\n            return response;\r\n        } catch (error) {\r\n            clearTimeout(timeoutId);\r\n            if (error.name === 'AbortError') {\r\n                throw new Error(`Request timed out after ${timeoutMs}ms`);\r\n            }\r\n            throw error;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Check if cache is valid for the given parameters\r\n     */\r\n    const isCacheValid = (league, date) => {\r\n        // First check localStorage via DataCacheManager if available\r\n        if (window.DataCacheManager) {\r\n            const cacheKey = `picks_${league}_${date}`;\r\n            const cached = window.DataCacheManager.get(cacheKey);\r\n            if (cached) {\r\n                debugLog('[UNIFIED-FETCHER] Found valid cache in localStorage');\r\n                picksCache.data = cached;\r\n                picksCache.timestamp = Date.now();\r\n                picksCache.date = date;\r\n                picksCache.league = league;\r\n                return true;\r\n            }\r\n        }\r\n\r\n        // Fallback to in-memory cache\r\n        return picksCache.data &&\r\n               picksCache.league === league &&\r\n               picksCache.date === date &&\r\n               (Date.now() - picksCache.timestamp) < CACHE_DURATION_MS;\r\n    };\r\n\r\n    /**\r\n     * Fetch picks for a single league (helper for parallel fetching)\r\n     */\r\n    const fetchLeaguePicks = async (leagueName, date, fetcher) => {\r\n        try {\r\n            const result = await fetcher.fetchPicks(date);\r\n            const apiData = result.success ? result.data : result;\r\n            const modelStamp = extractModelStampFromResponse(apiData);\r\n            const picks = apiData?.picks || apiData?.plays || apiData?.predictions || apiData?.recommendations || [];\r\n\r\n            return {\r\n                league: leagueName,\r\n                picks: picks.map(pick => {\r\n                    const formatted = fetcher.formatPickForTable(pick);\r\n                    if (modelStamp && !formatted.modelStamp) formatted.modelStamp = modelStamp;\r\n                    return formatted;\r\n                }),\r\n                error: null\r\n            };\r\n        } catch (e) {\r\n            debugError(`[UNIFIED-FETCHER] ${leagueName} fetch error:`, e.message);\r\n            return {\r\n                league: leagueName,\r\n                picks: [],\r\n                error: e.message\r\n            };\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Fetch picks from all or specific league APIs IN PARALLEL\r\n     * @param {string} league - 'all', 'nba', 'ncaam', 'nfl', 'ncaaf', 'nhl', 'mlb'\r\n     * @param {string} date - 'today', 'tomorrow', or 'YYYY-MM-DD' (default: 'today')\r\n     * @param {Object} options - { skipCache: false, onLeagueComplete: null }\r\n     * @returns {Promise<Object>} Object with picks array, errors, and metadata\r\n     */\r\n    const fetchPicks = async function(league = 'all', date = 'today', options = {}) {\r\n        const { skipCache = false, onLeagueComplete = null } = options;\r\n\r\n        // Cache-first strategy: return cached data if valid\r\n        if (!skipCache && isCacheValid(league, date)) {\r\n            debugLog('[UNIFIED-FETCHER] Returning cached picks');\r\n            return picksCache.data;\r\n        }\r\n\r\n        if (window.ModelEndpointResolver?.ensureRegistryHydrated) {\r\n            window.ModelEndpointResolver.ensureRegistryHydrated();\r\n        }\r\n\r\n        const leagueUpper = league.toUpperCase();\r\n        const startTime = Date.now();\r\n        debugLog(`[UNIFIED-FETCHER] Fetching picks for: ${league}, date: ${date} (PARALLEL mode)`);\r\n\r\n        // Build list of fetchers to run in parallel\r\n        const fetchPromises = [];\r\n        const DISABLED_LEAGUES = new Set(window.WEEKLY_LINEUP_DISABLED_LEAGUES || ['NFL', 'NCAAF']);\r\n        const leagueFetchers = [\r\n            { name: 'NBA', fetcher: window.NBAPicksFetcher, match: leagueUpper === 'NBA' || league === 'all' },\r\n            { name: 'NCAAM', fetcher: window.NCAAMPicksFetcher, match: leagueUpper === 'NCAAM' || leagueUpper === 'NCAAB' || league === 'all' },\r\n            { name: 'NFL', fetcher: window.NFLPicksFetcher, match: !(DISABLED_LEAGUES.has('NFL')) && (leagueUpper === 'NFL' || league === 'all') },\r\n            { name: 'NCAAF', fetcher: window.NCAAFPicksFetcher, match: !(DISABLED_LEAGUES.has('NCAAF')) && (leagueUpper === 'NCAAF' || league === 'all') },\r\n            { name: 'NHL', fetcher: window.NHLPicksFetcher, match: leagueUpper === 'NHL' || league === 'all' },\r\n            { name: 'MLB', fetcher: window.MLBPicksFetcher, match: leagueUpper === 'MLB' || league === 'all' }\r\n        ];\r\n\r\n        for (const { name, fetcher, match } of leagueFetchers) {\r\n            if (match && fetcher) {\r\n                const promise = fetchLeaguePicks(name, date, fetcher).then(result => {\r\n                    // Progressive callback: notify when each league completes\r\n                    if (onLeagueComplete && result.picks.length > 0) {\r\n                        onLeagueComplete(result.league, result.picks);\r\n                    }\r\n                    return result;\r\n                });\r\n                fetchPromises.push(promise);\r\n            }\r\n        }\r\n\r\n        // Wait for all fetches to complete in parallel\r\n        const results = await Promise.allSettled(fetchPromises);\r\n\r\n        // Aggregate results\r\n        let allPicks = [];\r\n        const errors = [];\r\n\r\n        for (const result of results) {\r\n            if (result.status === 'fulfilled') {\r\n                const { league: leagueName, picks, error } = result.value;\r\n                if (picks.length > 0) {\r\n                    allPicks.push(...picks);\r\n                    debugLog(`[UNIFIED-FETCHER] ${leagueName}: ${picks.length} picks`);\r\n                }\r\n                if (error) {\r\n                    errors.push({ league: leagueName, error });\r\n                }\r\n            } else {\r\n                debugError('[UNIFIED-FETCHER] Fetch rejected:', result.reason);\r\n            }\r\n        }\r\n\r\n        const elapsed = Date.now() - startTime;\r\n        debugLog(`[UNIFIED-FETCHER] Completed in ${elapsed}ms - ${allPicks.length} total picks from ${fetchPromises.length} leagues`);\r\n\r\n        // Cache the results\r\n        const response = {\r\n            picks: allPicks,\r\n            errors,\r\n            meta: {\r\n                fetchedAt: new Date().toISOString(),\r\n                elapsedMs: elapsed,\r\n                leaguesQueried: fetchPromises.length\r\n            }\r\n        };\r\n\r\n        // Store in localStorage via DataCacheManager (5 min TTL)\r\n        if (window.DataCacheManager) {\r\n            const cacheKey = `picks_${league}_${date}`;\r\n            window.DataCacheManager.set(cacheKey, response, 5 * 60 * 1000);\r\n        }\r\n\r\n        // Also store in memory cache\r\n        picksCache.data = response;\r\n        picksCache.timestamp = Date.now();\r\n        picksCache.date = date;\r\n        picksCache.league = league;\r\n\r\n        return response;\r\n    };\r\n\r\n\r\n    /**\r\n     * Fetch picks and add them to the weekly lineup table\r\n     * @param {string} league - 'all', 'nba', 'ncaam', 'nfl', 'ncaaf'\r\n     * @param {string} date - 'today', 'tomorrow', or 'YYYY-MM-DD' (default: 'today')\r\n     * @param {Object} options - { skipCache: false }\r\n     */\r\n    const fetchAndDisplayPicks = async function(league = 'all', date = 'today', options = {}) {\r\n        const result = await fetchPicks(league, date, options);\r\n\r\n        // Handle API failures - notify user\r\n        const allApisFailed = result.picks.length === 0 && result.errors.length > 0;\r\n        if (allApisFailed) {\r\n            const failedLeagues = result.errors.map(e => e.league).join(', ');\r\n            if (window.WeeklyLineup?.showNotification) {\r\n                window.WeeklyLineup.showNotification(\r\n                    `Unable to load picks. API unavailable for: ${failedLeagues}`,\r\n                    'error'\r\n                );\r\n            }\r\n            // Show empty state in table\r\n            if (window.WeeklyLineup?.showEmptyState) {\r\n                window.WeeklyLineup.showEmptyState('No picks available. Please try again later.');\r\n            }\r\n            return result;\r\n        }\r\n\r\n        // Handle partial failures - warn user but continue\r\n        if (result.errors.length > 0 && result.picks.length > 0) {\r\n            const failedLeagues = result.errors.map(e => e.league).join(', ');\r\n            if (window.WeeklyLineup?.showNotification) {\r\n                window.WeeklyLineup.showNotification(\r\n                    `Some leagues unavailable: ${failedLeagues}`,\r\n                    'warning'\r\n                );\r\n            }\r\n        }\r\n\r\n        // Use WeeklyLineup.populateTable if available (weekly lineup page)\r\n        if (window.WeeklyLineup?.populateTable && result.picks.length > 0) {\r\n            // Transform picks to the format expected by populateWeeklyLineupTable\r\n            const formattedPicks = result.picks.map(pick => {\r\n                // Use awayTeam/homeTeam if provided, otherwise parse from game string\r\n                let awayTeam = pick.awayTeam || '';\r\n                let homeTeam = pick.homeTeam || '';\r\n\r\n                // Fallback: Parse game string \"Away @ Home\" to get teams\r\n                if (!awayTeam || !homeTeam) {\r\n                    const gameParts = (pick.game || '').split(' @ ');\r\n                    awayTeam = awayTeam || (gameParts[0] || '').trim();\r\n                    homeTeam = homeTeam || (gameParts[1] || '').trim();\r\n                }\r\n\r\n                // Parse edge percentage string to number\r\n                let edgeNum = 0;\r\n                if (typeof pick.edge === 'string') {\r\n                    edgeNum = parseFloat(pick.edge.replace('%', '')) || 0;\r\n                } else if (typeof pick.edge === 'number') {\r\n                    edgeNum = pick.edge;\r\n                }\r\n\r\n                const fireMeta = normalizeFireRating(\r\n                    pick.fire ?? pick.confidence ?? pick.fire_rating ?? pick.fireRating,\r\n                    edgeNum\r\n                );\r\n\r\n                return {\r\n                    date: pick.date || new Date().toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' }),\r\n                    time: pick.time || '',\r\n                    sport: pick.sport || 'NBA',\r\n                    awayTeam: awayTeam,\r\n                    homeTeam: homeTeam,\r\n                    segment: pick.segment || pick.period || 'FG',\r\n                    pickTeam: pick.pickTeam || pick.pick || '',\r\n                    pickType: (pick.pickType || pick.market || 'spread').toLowerCase(),\r\n                    pickDirection: pick.pickDirection || '',\r\n                    line: pick.line || '',\r\n                    odds: pick.odds || '-110',\r\n                    modelPrice: pick.modelPrice || '',\r\n                    modelSpread: pick.modelSpread || pick.modelPrice || '',\r\n                    edge: edgeNum,\r\n                    fire: fireMeta.fire,\r\n                    fireLabel: pick.fireLabel || fireMeta.fireLabel,\r\n                    rationale: pick.rationale || pick.reason || pick.notes || pick.explanation || '',\r\n                    modelStamp: pick.modelStamp || pick.model_version || pick.modelVersion || pick.modelTag || '',\r\n                    status: 'pending'\r\n                };\r\n            });\r\n\r\n            // Sort by edge (highest first)\r\n            formattedPicks.sort((a, b) => b.edge - a.edge);\r\n\r\n            window.WeeklyLineup.populateTable(formattedPicks);\r\n            debugLog(`[UNIFIED-FETCHER] Populated table with ${formattedPicks.length} picks`);\r\n\r\n            // Show success notification\r\n            if (window.WeeklyLineup.showNotification) {\r\n                window.WeeklyLineup.showNotification(`Loaded ${formattedPicks.length} picks`, 'success');\r\n            }\r\n        } else if (result.picks.length === 0) {\r\n            // No picks available (but no errors either - just no games today)\r\n            if (window.WeeklyLineup?.showEmptyState) {\r\n                window.WeeklyLineup.showEmptyState('No picks available for the selected date.');\r\n            }\r\n        }\r\n\r\n        return result;\r\n    };\r\n\r\n    /**\r\n     * Check health of all APIs\r\n     * @returns {Promise<Object>} Health status for each API\r\n     */\r\n    const checkAllHealth = async function() {\r\n        const health = {};\r\n\r\n        if (window.NBAPicksFetcher) {\r\n            health.nba = await window.NBAPicksFetcher.checkHealth();\r\n        }\r\n        if (window.NCAAMPicksFetcher) {\r\n            health.ncaam = await window.NCAAMPicksFetcher.checkHealth();\r\n        }\r\n        if (window.NFLPicksFetcher) {\r\n            health.nfl = await window.NFLPicksFetcher.checkHealth();\r\n        }\r\n        if (window.NCAAFPicksFetcher) {\r\n            health.ncaaf = await window.NCAAFPicksFetcher.checkHealth();\r\n        }\r\n        if (window.NHLPicksFetcher) {\r\n            health.nhl = await window.NHLPicksFetcher.checkHealth();\r\n        }\r\n        if (window.MLBPicksFetcher) {\r\n            health.mlb = await window.MLBPicksFetcher.checkHealth();\r\n        }\r\n\r\n        return health;\r\n    };\r\n\r\n    /**\r\n     * Clear the picks cache (useful when forcing refresh)\r\n     */\r\n    const clearCache = () => {\r\n        picksCache.data = null;\r\n        picksCache.timestamp = 0;\r\n        picksCache.date = null;\r\n        picksCache.league = null;\r\n    };\r\n\r\n    // Export\r\n    window.UnifiedPicksFetcher = {\r\n        fetchPicks,\r\n        fetchAndDisplayPicks,\r\n        checkAllHealth,\r\n        clearCache,\r\n        isCacheValid: (league, date) => isCacheValid(league, date)\r\n    };\r\n\r\n    console.log('[UNIFIED-FETCHER] v1.3 loaded - PARALLEL mode | Cache-first | 15s timeout');\r\n\r\n})();\r\n"],
  "mappings": "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",
  "names": ["isDebugEnabled", "originalLog", "originalWarn", "msg", "getApiUrl", "formatMoney", "val", "num", "formatMoneyValue", "getStatusLabel", "status", "getSegmentLabel", "segment", "getTeamAbbr", "teamName", "abbrs", "key", "words", "parseTeamsFromGame", "gameString", "separators", "sep", "parts", "escapeHtml", "text", "div", "formatFileSize", "bytes", "debounce", "func", "wait", "immediate", "timeout", "debounced", "args", "context", "later", "callNow", "throttle", "lastCall", "now", "remaining", "formatDate", "date", "d", "month", "day", "year", "formatTime", "container", "initContainer", "showNotification", "message", "type", "duration", "notification", "colors", "style", "dismissNotification", "showLoading", "newMessage", "textSpan", "success", "error", "warning", "info", "CACHE_PREFIX", "set", "data", "ttl", "cacheKey", "entry", "err", "get", "raw", "remove", "clear", "fetchWithCache", "url", "options", "cached", "response", "has", "getStats", "cacheKeys", "k", "totalSize", "value", "loadedScripts", "pendingScripts", "loadScript", "src", "promise", "resolve", "reject", "script", "loadScripts", "scripts", "loadAfterInteractive", "loadScriptsNow", "scriptArray", "loadWhenIdle", "CONFIG_BASE", "CONFIG_FALLBACK", "AZURE_BLOB_URL", "CANDIDATE_BASES", "ESPN_CDN_URL", "logoCache", "resolvedBase", "resolveBaseUrl", "base", "img", "ts", "getBaseUrl", "getLogoUrl", "league", "teamId", "folder", "getLeagueLogoUrl", "normalizedLeague", "fileName", "baseUrl", "preloadLogos", "logoSpecs", "spec", "configBase", "fallbackBase", "LOGO_BASE", "convertEspnUrl", "rawUrl", "segments", "idx", "next", "sizeOrLeague", "maybeFile", "rewriteImage", "mapped", "rewriteExistingImages", "descriptor", "originalSet", "mutations", "mutation", "node", "showError", "icon", "handleApiError", "handleStorageError", "operation", "handleParseError", "dataType", "setupGlobalErrorHandler", "event", "LogoCache", "stored", "parsed", "cacheData", "entries", "logoUrl", "teamKey", "ncaaId", "name", "ncaaIds", "normalized", "picks", "teams", "pick", "teamArray", "i", "batch", "team", "originalGetTeamLogo", "PageTransitionHandler", "overlay", "e", "navLink", "href", "currentPage", "targetPage", "link", "prefetchLink", "DEFAULTS", "normKey", "getApiEndpoint", "configKey", "fromConfig", "getFunctionEndpoint", "ensureRegistryHydrated", "KNOWN_LEAGUES", "fetchWithTimeout", "timeoutMs", "controller", "timer", "hydrateEndpoints", "primaryBase", "functionsBase", "resolveRegistry", "res", "ct", "registry", "sources", "s", "source", "registryKeys", "allLeagues", "updatedCount", "oldEndpoint", "timeoutId", "normalizeFireRating", "edgeFallback", "str", "upper", "map", "pct", "asNum", "getBaseApiUrl", "getFunctionsBase", "getContainerEndpoint", "sport", "resolved", "fallback", "BaseSportFetcher", "config", "primaryUrl", "fallbackUrl", "retryResponse", "endpoint", "dropdown", "trigger", "menu", "brandNav", "navLinks", "updateScrollIndicators", "scrollLeft", "scrollWidth", "clientWidth", "addBtn", "btn", "card", "sportsbookName", "syncTimeEl", "background", "borderColor", "textColor", "glow", "willOpen", "otherDropdown", "otherTrigger", "otherMenu", "resizeTimeout", "menuId", "triggerId", "liveRegion", "links", "path", "isActive", "ticking", "MobileUnified", "fabLabel", "fabClass", "item", "refreshBtn", "headerEl", "wasMobile", "SignalRClient", "connectionInfo", "retryContext", "connectionId", "eventType", "callback", "listeners", "index", "method", "signalRClient", "AuthClient", "authData", "claims", "findClaim", "c", "returnUrl", "encodedReturn", "role", "authContainer", "esc", "picUrl", "displayName", "existing", "modal", "fetcher", "dateParam", "play", "home", "away", "matchup", "pickText", "pickTeam", "pickType", "line", "lineMatch", "edge", "fireNum", "triggerInFlight", "triggerPicksIfNeeded", "proxyBase", "triggerKey", "triggerUrl", "marketType", "timeStr", "dateStr", "timeParts", "awayTeam", "homeTeam", "pickDirection", "upperPick", "edgeValue", "dateToNFLSeasonWeek", "targetDate", "season", "startOfYear", "daysSinceStart", "week", "pickDisplay", "totalMatch", "ttMatch", "spreadMatch", "getCurrentSeasonWeek", "seasonStart", "weekNum", "isDebugMode", "debugLog", "debugWarn", "debugError", "picksCache", "CACHE_DURATION_MS", "extractModelStampFromResponse", "read", "obj", "acc", "pickFirstString", "paths", "tag", "sha", "rawFire", "clamp", "n", "fire", "computed", "isCacheValid", "fetchLeaguePicks", "leagueName", "result", "apiData", "modelStamp", "formatted", "fetchPicks", "skipCache", "onLeagueComplete", "leagueUpper", "startTime", "fetchPromises", "DISABLED_LEAGUES", "leagueFetchers", "match", "results", "allPicks", "errors", "elapsed", "fetchAndDisplayPicks", "failedLeagues", "formattedPicks", "gameParts", "edgeNum", "fireMeta", "a", "b", "checkAllHealth", "health", "clearCache"]
}
