{
  "version": 3,
  "sources": ["_tmp_core.js"],
  "sourcesContent": ["/* === assets/js/core/debug-config.js === */\n/* ==========================================================================\r\n   Debug Configuration\r\n   --------------------------------------------------------------------------\r\n   Silences console output in production unless explicitly enabled.\r\n\r\n   To enable debug logging:\r\n   - Set window.DEBUG = true BEFORE this script loads, OR\r\n   - Add ?debug=true to the URL, OR\r\n   - Set localStorage.setItem('DEBUG', 'true')\r\n   ========================================================================== */\r\n(function () {\r\n    'use strict';\r\n\r\n    try {\r\n        if (typeof window === 'undefined') return;\r\n\r\n        // Check multiple debug sources\r\n        var isDebugEnabled = (\r\n            window.DEBUG === true ||\r\n            localStorage.getItem('DEBUG') === 'true' ||\r\n            window.location.search.indexOf('debug=true') !== -1\r\n        );\r\n\r\n        // Store for runtime access\r\n        window.DEBUG = isDebugEnabled;\r\n\r\n        if (!isDebugEnabled && typeof console !== 'undefined') {\r\n            // Store original methods for potential restoration\r\n            var originalLog = console.log;\r\n            var originalWarn = console.warn;\r\n\r\n            // Silence log and most warnings in production\r\n            console.log = function () {};\r\n\r\n            // Keep console.warn for actionable warnings, but filter emoji-heavy debug messages\r\n            console.warn = function () {\r\n                // Allow through actual warnings (errors, deprecations)\r\n                var msg = arguments[0];\r\n                if (typeof msg === 'string' && /^[^\\w]*[\uD83D\uDE80\uD83D\uDD04\u26A0\uFE0F\uD83D\uDCE6\uD83D\uDCCD\uD83C\uDFAF\uD83D\uDCDA\uD83D\uDCCA\u2705\u274C\uD83D\uDD27\uD83D\uDCD6\uD83C\uDFC8\uD83D\uDD0D\u23F0\uD83D\uDEAA]/.test(msg)) {\r\n                    // Filter emoji-prefixed debug messages\r\n                    return;\r\n                }\r\n                originalWarn.apply(console, arguments);\r\n            };\r\n\r\n            // console.error always logs (these are real errors)\r\n            // console.info is kept for important status updates\r\n\r\n            // Allow restoration for debugging\r\n            window.__restoreConsole = function () {\r\n                console.log = originalLog;\r\n                console.warn = originalWarn;\r\n                window.DEBUG = true;\r\n            };\r\n        }\r\n    } catch (e) {\r\n        /* Silent fail - don't break the app */\r\n    }\r\n})();\r\n\r\n\r\n\n\n/* === assets/js/utils/shared-utils.js === */\n/**\r\n * Shared Utilities Module\r\n * Common utility functions used across the dashboard\r\n */\r\n\r\n(function() {\r\n    'use strict';\r\n\r\n    /**\r\n     * Get API base URL from config\r\n     * @returns {string} API base URL\r\n     */\r\n    function getApiUrl() {\r\n        return window.APP_CONFIG?.API_BASE_URL || '/api';\r\n    }\r\n\r\n    /**\r\n     * Format money value with $ sign and 2 decimal places\r\n     * @param {number|string} val - Value to format\r\n     * @returns {string} Formatted money string\r\n     */\r\n    function formatMoney(val) {\r\n        if (!val) return '$0.00';\r\n        const num = parseFloat(String(val).replace(/[$,]/g, ''));\r\n        return isNaN(num) ? '$0.00' : `$${num.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\r\n    }\r\n\r\n    /**\r\n     * Format money value without $ sign\r\n     * @param {number|string} val - Value to format\r\n     * @returns {string} Formatted number string\r\n     */\r\n    function formatMoneyValue(val) {\r\n        if (!val) return '0.00';\r\n        const num = parseFloat(String(val).replace(/[$,]/g, ''));\r\n        return isNaN(num) ? '0.00' : num.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });\r\n    }\r\n\r\n    /**\r\n     * Get display label for status\r\n     * @param {string} status - Status key\r\n     * @returns {string} Display label\r\n     */\r\n    function getStatusLabel(status) {\r\n        const labels = {\r\n            'pending': 'Pending',\r\n            'on-track': 'On Track',\r\n            'at-risk': 'At Risk',\r\n            'hit': 'Hit',\r\n            'miss': 'Miss',\r\n            'push': 'Push'\r\n        };\r\n        return labels[status] || status;\r\n    }\r\n\r\n    /**\r\n     * Get segment display label\r\n     * @param {string} segment - Segment key\r\n     * @returns {string} Display label\r\n     */\r\n    function getSegmentLabel(segment) {\r\n        const labels = {\r\n            'full-game': 'Full Game',\r\n            'fg': 'Full Game',\r\n            '1h': '1st Half',\r\n            '2h': '2nd Half',\r\n            '1q': '1st Quarter',\r\n            '2q': '2nd Quarter',\r\n            '3q': '3rd Quarter',\r\n            '4q': '4th Quarter'\r\n        };\r\n        return labels[(segment || '').toLowerCase()] || segment || 'Full Game';\r\n    }\r\n\r\n    /**\r\n     * Get team abbreviation from name\r\n     * @param {string} teamName - Full team name\r\n     * @returns {string} Team abbreviation\r\n     */\r\n    function getTeamAbbr(teamName) {\r\n        if (!teamName) return '';\r\n        \r\n        // Common team abbreviations\r\n        const abbrs = {\r\n            // NFL\r\n            'raiders': 'LV', 'las vegas raiders': 'LV',\r\n            'broncos': 'DEN', 'denver broncos': 'DEN',\r\n            'chiefs': 'KC', 'kansas city chiefs': 'KC',\r\n            'chargers': 'LAC', 'los angeles chargers': 'LAC',\r\n            'cowboys': 'DAL', 'dallas cowboys': 'DAL',\r\n            'eagles': 'PHI', 'philadelphia eagles': 'PHI',\r\n            'giants': 'NYG', 'new york giants': 'NYG',\r\n            'commanders': 'WSH', 'washington commanders': 'WSH',\r\n            'packers': 'GB', 'green bay packers': 'GB',\r\n            'bears': 'CHI', 'chicago bears': 'CHI',\r\n            'lions': 'DET', 'detroit lions': 'DET',\r\n            'vikings': 'MIN', 'minnesota vikings': 'MIN',\r\n            'falcons': 'ATL', 'atlanta falcons': 'ATL',\r\n            'saints': 'NO', 'new orleans saints': 'NO',\r\n            'panthers': 'CAR', 'carolina panthers': 'CAR',\r\n            'buccaneers': 'TB', 'tampa bay buccaneers': 'TB',\r\n            'bills': 'BUF', 'buffalo bills': 'BUF',\r\n            'dolphins': 'MIA', 'miami dolphins': 'MIA',\r\n            'jets': 'NYJ', 'new york jets': 'NYJ',\r\n            'patriots': 'NE', 'new england patriots': 'NE',\r\n            'bengals': 'CIN', 'cincinnati bengals': 'CIN',\r\n            'browns': 'CLE', 'cleveland browns': 'CLE',\r\n            'steelers': 'PIT', 'pittsburgh steelers': 'PIT',\r\n            'ravens': 'BAL', 'baltimore ravens': 'BAL',\r\n            'colts': 'IND', 'indianapolis colts': 'IND',\r\n            'jaguars': 'JAX', 'jacksonville jaguars': 'JAX',\r\n            'texans': 'HOU', 'houston texans': 'HOU',\r\n            'titans': 'TEN', 'tennessee titans': 'TEN',\r\n            'seahawks': 'SEA', 'seattle seahawks': 'SEA',\r\n            '49ers': 'SF', 'san francisco 49ers': 'SF',\r\n            'rams': 'LAR', 'los angeles rams': 'LAR',\r\n            'cardinals': 'ARI', 'arizona cardinals': 'ARI',\r\n            \r\n            // NBA\r\n            'lakers': 'LAL', 'los angeles lakers': 'LAL',\r\n            'clippers': 'LAC', 'la clippers': 'LAC',\r\n            'warriors': 'GSW', 'golden state warriors': 'GSW',\r\n            'suns': 'PHX', 'phoenix suns': 'PHX',\r\n            'celtics': 'BOS', 'boston celtics': 'BOS',\r\n            'nets': 'BKN', 'brooklyn nets': 'BKN',\r\n            'knicks': 'NYK', 'new york knicks': 'NYK',\r\n            '76ers': 'PHI', 'philadelphia 76ers': 'PHI',\r\n            'heat': 'MIA', 'miami heat': 'MIA',\r\n            'magic': 'ORL', 'orlando magic': 'ORL',\r\n            'bulls': 'CHI', 'chicago bulls': 'CHI',\r\n            'bucks': 'MIL', 'milwaukee bucks': 'MIL',\r\n            'cavaliers': 'CLE', 'cleveland cavaliers': 'CLE',\r\n            'pistons': 'DET', 'detroit pistons': 'DET',\r\n            'pacers': 'IND', 'indiana pacers': 'IND',\r\n            'hawks': 'ATL', 'atlanta hawks': 'ATL',\r\n            'hornets': 'CHA', 'charlotte hornets': 'CHA',\r\n            'wizards': 'WAS', 'washington wizards': 'WAS',\r\n            'raptors': 'TOR', 'toronto raptors': 'TOR',\r\n            'nuggets': 'DEN', 'denver nuggets': 'DEN',\r\n            'jazz': 'UTA', 'utah jazz': 'UTA',\r\n            'blazers': 'POR', 'portland trail blazers': 'POR',\r\n            'thunder': 'OKC', 'oklahoma city thunder': 'OKC',\r\n            'timberwolves': 'MIN', 'minnesota timberwolves': 'MIN',\r\n            'pelicans': 'NOP', 'new orleans pelicans': 'NOP',\r\n            'grizzlies': 'MEM', 'memphis grizzlies': 'MEM',\r\n            'spurs': 'SAS', 'san antonio spurs': 'SAS',\r\n            'rockets': 'HOU', 'houston rockets': 'HOU',\r\n            'mavericks': 'DAL', 'dallas mavericks': 'DAL',\r\n            'kings': 'SAC', 'sacramento kings': 'SAC'\r\n        };\r\n        \r\n        const key = teamName.toLowerCase().trim();\r\n        if (abbrs[key]) {\r\n            return abbrs[key];\r\n        }\r\n        \r\n        // Fallback: first 3 letters of last word\r\n        const words = teamName.trim().split(/\\s+/);\r\n        return words[words.length - 1].substring(0, 3).toUpperCase();\r\n    }\r\n\r\n    /**\r\n     * Parse teams from game string\r\n     * @param {string} gameString - Game string like \"Team A @ Team B\"\r\n     * @returns {Object} { away, home }\r\n     */\r\n    function parseTeamsFromGame(gameString) {\r\n        if (!gameString) return { away: '', home: '' };\r\n        \r\n        const separators = ['@', ' vs ', ' vs. ', ' / '];\r\n        for (const sep of separators) {\r\n            if (gameString.includes(sep)) {\r\n                const parts = gameString.split(sep);\r\n                return {\r\n                    away: parts[0].trim(),\r\n                    home: parts[1] ? parts[1].trim() : ''\r\n                };\r\n            }\r\n        }\r\n        \r\n        return { away: gameString.trim(), home: '' };\r\n    }\r\n\r\n    /**\r\n     * Escape HTML to prevent XSS\r\n     * @param {string} text - Text to escape\r\n     * @returns {string} Escaped HTML\r\n     */\r\n    function escapeHtml(text) {\r\n        const div = document.createElement('div');\r\n        div.textContent = text;\r\n        return div.innerHTML;\r\n    }\r\n\r\n    /**\r\n     * Format file size for display\r\n     * @param {number} bytes - File size in bytes\r\n     * @returns {string} Formatted file size\r\n     */\r\n    function formatFileSize(bytes) {\r\n        if (bytes < 1024) return bytes + ' B';\r\n        if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';\r\n        return (bytes / (1024 * 1024)).toFixed(1) + ' MB';\r\n    }\r\n\r\n    /**\r\n     * Debounce function - delays execution until after wait ms have elapsed\r\n     * since the last time the debounced function was invoked\r\n     * @param {Function} func - Function to debounce\r\n     * @param {number} wait - Milliseconds to wait (default: 150)\r\n     * @param {boolean} immediate - Execute on leading edge instead of trailing\r\n     * @returns {Function} Debounced function with cancel() method\r\n     */\r\n    function debounce(func, wait = 150, immediate = false) {\r\n        let timeout;\r\n\r\n        function debounced(...args) {\r\n            const context = this;\r\n            const later = function() {\r\n                timeout = null;\r\n                if (!immediate) func.apply(context, args);\r\n            };\r\n            const callNow = immediate && !timeout;\r\n            clearTimeout(timeout);\r\n            timeout = setTimeout(later, wait);\r\n            if (callNow) func.apply(context, args);\r\n        }\r\n\r\n        debounced.cancel = function() {\r\n            clearTimeout(timeout);\r\n            timeout = null;\r\n        };\r\n\r\n        return debounced;\r\n    }\r\n\r\n    /**\r\n     * Throttle function - ensures function is called at most once per wait period\r\n     * @param {Function} func - Function to throttle\r\n     * @param {number} wait - Minimum ms between calls (default: 100)\r\n     * @returns {Function} Throttled function\r\n     */\r\n    function throttle(func, wait = 100) {\r\n        let lastCall = 0;\r\n        let timeout = null;\r\n\r\n        return function throttled(...args) {\r\n            const context = this;\r\n            const now = Date.now();\r\n            const remaining = wait - (now - lastCall);\r\n\r\n            if (remaining <= 0 || remaining > wait) {\r\n                if (timeout) {\r\n                    clearTimeout(timeout);\r\n                    timeout = null;\r\n                }\r\n                lastCall = now;\r\n                func.apply(context, args);\r\n            } else if (!timeout) {\r\n                timeout = setTimeout(function() {\r\n                    lastCall = Date.now();\r\n                    timeout = null;\r\n                    func.apply(context, args);\r\n                }, remaining);\r\n            }\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Format date for display\r\n     * @param {string|Date} date - Date to format\r\n     * @returns {string} Formatted date (MM/DD/YYYY)\r\n     */\r\n    function formatDate(date) {\r\n        if (!date) return 'TBD';\r\n        const d = new Date(date);\r\n        if (isNaN(d.getTime())) return 'TBD';\r\n        const month = (d.getMonth() + 1).toString().padStart(2, '0');\r\n        const day = d.getDate().toString().padStart(2, '0');\r\n        const year = d.getFullYear();\r\n        return `${month}/${day}/${year}`;\r\n    }\r\n\r\n    /**\r\n     * Format time for display\r\n     * @param {string|Date} date - Date/time to format\r\n     * @returns {string} Formatted time (HH:MM AM/PM)\r\n     */\r\n    function formatTime(date) {\r\n        if (!date) return 'TBD';\r\n        const d = new Date(date);\r\n        if (isNaN(d.getTime())) return 'TBD';\r\n        return d.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', hour12: true });\r\n    }\r\n\r\n    // Export utilities\r\n    window.SharedUtils = {\r\n        getApiUrl,\r\n        formatMoney,\r\n        formatMoneyValue,\r\n        getStatusLabel,\r\n        getSegmentLabel,\r\n        getTeamAbbr,\r\n        parseTeamsFromGame,\r\n        escapeHtml,\r\n        formatFileSize,\r\n        formatDate,\r\n        formatTime,\r\n        debounce,\r\n        throttle\r\n    };\r\n\r\n})();\r\n\n\n/* === assets/js/utils/data-cache-manager.js === */\n/**\r\n * Data Cache Manager\r\n * Provides localStorage caching for API responses with TTL and versioning\r\n * Reduces redundant API calls when navigating between pages\r\n */\r\n\r\nconst DataCacheManager = (() => {\r\n  const CACHE_PREFIX = 'gbsv_cache_';\r\n  const DEFAULT_TTL = 5 * 60 * 1000; // 5 minutes\r\n\r\n  /**\r\n   * Store data in cache with TTL\r\n   * @param {string} key - Cache key\r\n   * @param {any} data - Data to cache\r\n   * @param {number} ttl - Time to live in milliseconds (default: 5 min)\r\n   */\r\n  function set(key, data, ttl = DEFAULT_TTL) {\r\n    try {\r\n      const cacheKey = CACHE_PREFIX + key;\r\n      const entry = {\r\n        data,\r\n        timestamp: Date.now(),\r\n        ttl,\r\n        version: window.APP_VERSION || '1.0.0',\r\n      };\r\n      localStorage.setItem(cacheKey, JSON.stringify(entry));\r\n    } catch (err) {\r\n      console.warn('[DataCache] Failed to cache:', key, err);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get data from cache if valid\r\n   * @param {string} key - Cache key\r\n   * @returns {any|null} Cached data or null if expired/missing\r\n   */\r\n  function get(key) {\r\n    try {\r\n      const cacheKey = CACHE_PREFIX + key;\r\n      const raw = localStorage.getItem(cacheKey);\r\n      if (!raw) return null;\r\n\r\n      const entry = JSON.parse(raw);\r\n      const age = Date.now() - entry.timestamp;\r\n\r\n      // Check TTL expiration\r\n      if (age > entry.ttl) {\r\n        localStorage.removeItem(cacheKey);\r\n        return null;\r\n      }\r\n\r\n      // Version mismatch invalidation (optional)\r\n      if (window.APP_VERSION && entry.version !== window.APP_VERSION) {\r\n        localStorage.removeItem(cacheKey);\r\n        return null;\r\n      }\r\n\r\n      return entry.data;\r\n    } catch (err) {\r\n      console.warn('[DataCache] Failed to read cache:', key, err);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Remove specific cache entry\r\n   * @param {string} key - Cache key\r\n   */\r\n  function remove(key) {\r\n    try {\r\n      const cacheKey = CACHE_PREFIX + key;\r\n      localStorage.removeItem(cacheKey);\r\n    } catch (err) {\r\n      console.warn('[DataCache] Failed to remove:', key, err);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Clear all cached data\r\n   */\r\n  function clear() {\r\n    try {\r\n      const keys = Object.keys(localStorage);\r\n      keys.forEach((key) => {\r\n        if (key.startsWith(CACHE_PREFIX)) {\r\n          localStorage.removeItem(key);\r\n        }\r\n      });\r\n    } catch (err) {\r\n      console.warn('[DataCache] Failed to clear:', err);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Fetch with cache fallback\r\n   * @param {string} url - API endpoint\r\n   * @param {object} options - Fetch options\r\n   * @param {string} cacheKey - Cache key (defaults to URL)\r\n   * @param {number} ttl - Cache TTL in milliseconds\r\n   * @returns {Promise<any>} Response data\r\n   */\r\n  async function fetchWithCache(url, options = {}, cacheKey = url, ttl = DEFAULT_TTL) {\r\n    // Try cache first\r\n    const cached = get(cacheKey);\r\n    if (cached) {\r\n      console.log('[DataCache] Hit:', cacheKey);\r\n      return cached;\r\n    }\r\n\r\n    // Fetch from network\r\n    console.log('[DataCache] Miss:', cacheKey);\r\n    const response = await fetch(url, options);\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n    }\r\n\r\n    const data = await response.json();\r\n    set(cacheKey, data, ttl);\r\n    return data;\r\n  }\r\n\r\n  /**\r\n   * Check if cache entry exists and is valid\r\n   * @param {string} key - Cache key\r\n   * @returns {boolean}\r\n   */\r\n  function has(key) {\r\n    return get(key) !== null;\r\n  }\r\n\r\n  /**\r\n   * Get cache statistics\r\n   * @returns {object} Stats object\r\n   */\r\n  function getStats() {\r\n    try {\r\n      const keys = Object.keys(localStorage);\r\n      const cacheKeys = keys.filter((k) => k.startsWith(CACHE_PREFIX));\r\n      let totalSize = 0;\r\n      cacheKeys.forEach((key) => {\r\n        const value = localStorage.getItem(key);\r\n        if (value) {\r\n          totalSize += value.length;\r\n        }\r\n      });\r\n      return {\r\n        entries: cacheKeys.length,\r\n        sizeBytes: totalSize,\r\n        sizeKB: (totalSize / 1024).toFixed(2),\r\n      };\r\n    } catch (err) {\r\n      return { entries: 0, sizeBytes: 0, sizeKB: '0' };\r\n    }\r\n  }\r\n\r\n  return {\r\n    set,\r\n    get,\r\n    remove,\r\n    clear,\r\n    fetchWithCache,\r\n    has,\r\n    getStats,\r\n  };\r\n})();\r\n\r\n// Expose globally\r\nwindow.DataCacheManager = DataCacheManager;\r\n\n\n/* === assets/js/utils/model-endpoint-resolver.js === */\n/**\r\n * Model Endpoint Resolver v34.00.0\r\n *\r\n * PURPOSE:\r\n * - Centralizes how front-end fetchers resolve model endpoints (API + Function)\r\n * - Reads dynamic registry values hydrated by model-endpoints-bootstrap.js\r\n * - Falls back to sane defaults so missing config never breaks fetching\r\n *\r\n * RELATIONSHIP WITH model-endpoints-bootstrap.js:\r\n * - Bootstrap runs FIRST at page load to fetch /api/registry\r\n * - Bootstrap updates APP_CONFIG with fresh Container App URLs\r\n * - Resolver provides HELPER FUNCTIONS for fetchers to access those URLs\r\n * - Resolver has DEFAULT fallbacks if bootstrap fails or times out\r\n *\r\n * USAGE:\r\n *   window.ModelEndpointResolver.getApiEndpoint('nba')\r\n *   // Returns: APP_CONFIG.NBA_API_URL || DEFAULTS.nba.api\r\n */\r\n(function() {\r\n    'use strict';\r\n\r\n    const DEFAULTS = {};\r\n\r\n    const normKey = (league) => String(league || '').toLowerCase();\r\n\r\n    const getApiEndpoint = (league) => {\r\n        const key = normKey(league);\r\n        const configKey = `${key.toUpperCase()}_API_URL`;\r\n        const fromConfig = window.APP_CONFIG?.[configKey];\r\n        if (fromConfig && typeof fromConfig === 'string') return fromConfig;\r\n        const base = window.APP_CONFIG?.API_BASE_FALLBACK || window.APP_CONFIG?.API_BASE_URL || `${window.location.origin}/api`;\r\n        if (base) return `${base}/${key}`;\r\n        return DEFAULTS[key]?.api || '';\r\n    };\r\n\r\n    const getFunctionEndpoint = (league) => {\r\n        const key = normKey(league);\r\n        const configKey = `${key.toUpperCase()}_FUNCTION_URL`;\r\n        const fromConfig = window.APP_CONFIG?.[configKey];\r\n        if (fromConfig && typeof fromConfig === 'string') return fromConfig;\r\n        return DEFAULTS[key]?.func || '';\r\n    };\r\n\r\n    const ensureRegistryHydrated = async () => {\r\n        if (window.ModelEndpointBootstrap?.hydrate) {\r\n            try {\r\n                await window.ModelEndpointBootstrap.hydrate();\r\n            } catch (err) {\r\n                // Safe to ignore; defaults will be used.\r\n                console.warn('[MODEL-ENDPOINT-RESOLVER] Registry hydrate failed:', err.message);\r\n            }\r\n        }\r\n    };\r\n\r\n    window.ModelEndpointResolver = {\r\n        getApiEndpoint,\r\n        getFunctionEndpoint,\r\n        ensureRegistryHydrated\r\n    };\r\n})();\r\n\n\n/* === assets/js/features/model-endpoints-bootstrap.js === */\n/**\r\n * Model Endpoints Bootstrap v34.00.0\r\n * \r\n * PURPOSE:\r\n * Fetch model endpoints from the orchestrator registry so front-end stays in sync\r\n * with updated Azure Container App URLs without redeploying static assets.\r\n *\r\n * EXECUTION ORDER:\r\n * 1. Runs IMMEDIATELY at page load (not deferred)\r\n * 2. Fetches /api/registry with 6-second timeout\r\n * 3. Updates APP_CONFIG.{NBA|NCAAM|NFL|NCAAF}_API_URL dynamically\r\n * 4. Falls back to config.js defaults if registry unavailable\r\n * \r\n * RELATIONSHIP WITH model-endpoint-resolver.js:\r\n * - Bootstrap UPDATES APP_CONFIG at page load\r\n * - Resolver READS FROM APP_CONFIG when fetchers need endpoints\r\n * - Together they enable zero-downtime Container App updates\r\n *\r\n * Supports dynamic discovery of new leagues - any key in the registry with an\r\n * 'endpoint' property will be added to APP_CONFIG as {KEY}_API_URL.\r\n */\r\n(function() {\r\n    'use strict';\r\n\r\n    const REGISTRY_TIMEOUT_MS = 6000;\r\n\r\n    // Known leagues to look for (can be extended by registry response)\r\n    const KNOWN_LEAGUES = ['nba', 'ncaam', 'nfl', 'ncaaf', 'nhl', 'mlb'];\r\n\r\n    const fetchWithTimeout = async (url, timeoutMs = REGISTRY_TIMEOUT_MS) => {\r\n        const controller = new AbortController();\r\n        const timer = setTimeout(() => controller.abort(), timeoutMs);\r\n        try {\r\n            const response = await fetch(url, { signal: controller.signal, headers: { 'Accept': 'application/json' } });\r\n            clearTimeout(timer);\r\n            return response;\r\n        } catch (err) {\r\n            clearTimeout(timer);\r\n            throw err;\r\n        }\r\n    };\r\n\r\n    const hydrateEndpoints = async () => {\r\n        // Check if dynamic registry is enabled - if not, skip network calls entirely\r\n        if (!window.APP_CONFIG?.DYNAMIC_REGISTRY_ENABLED) {\r\n            console.log('[MODEL-ENDPOINTS] Dynamic registry disabled - using static config.js endpoints');\r\n            console.log('[MODEL-ENDPOINTS] \u2022 To enable dynamic registry, set DYNAMIC_REGISTRY_ENABLED: true in config.js');\r\n            console.log('[MODEL-ENDPOINTS] \u2022 Requires Azure Functions deployment with ModelRegistry function');\r\n            window.APP_CONFIG.MODEL_ENDPOINTS_SOURCE = 'static';\r\n            window.APP_CONFIG.MODEL_ENDPOINTS_LAST_UPDATED = new Date().toISOString();\r\n            return;\r\n        }\r\n\r\n        const primaryBase = window.APP_CONFIG?.API_BASE_URL;\r\n        const fallbackBase = window.APP_CONFIG?.API_BASE_FALLBACK;\r\n        const functionsBase = window.APP_CONFIG?.FUNCTIONS_BASE_URL;\r\n\r\n        const resolveRegistry = async (base) => {\r\n            if (!base) return null;\r\n            const url = `${base}/registry`;\r\n            console.log('[MODEL-ENDPOINTS] Fetching model endpoints from registry:', url);\r\n            const res = await fetchWithTimeout(url);\r\n            if (!res.ok) throw new Error(`Registry request failed: ${res.status}`);\r\n            const ct = (res.headers.get('content-type') || '').toLowerCase();\r\n            if (!ct.includes('application/json')) {\r\n                // Likely a SPA HTML fallback; treat as failure so we try the fallback base\r\n                throw new Error(`Unexpected content-type: ${ct}`);\r\n            }\r\n            return await res.json();\r\n        };\r\n\r\n        let registry = null;\r\n        const sources = [\r\n            { name: 'primary', base: primaryBase },\r\n            { name: 'fallback', base: fallbackBase },\r\n            { name: 'functions', base: functionsBase ? `${functionsBase}/api` : null }\r\n        ].filter(s => s.base);\r\n\r\n        for (const source of sources) {\r\n            try {\r\n                registry = await resolveRegistry(source.base);\r\n                if (registry) {\r\n                    console.log(`[MODEL-ENDPOINTS] \u2022 Registry loaded from ${source.name}`);\r\n                    break;\r\n                }\r\n            } catch (err) {\r\n                console.warn(`[MODEL-ENDPOINTS] ${source.name} registry fetch failed:`, err.message);\r\n            }\r\n        }\r\n\r\n        if (!registry) {\r\n            console.warn('[MODEL-ENDPOINTS] Unable to refresh endpoints from registry (all sources failed)');\r\n            console.log('[MODEL-ENDPOINTS] \u2022 Using fallback endpoints from config.js');\r\n            console.log('[MODEL-ENDPOINTS] \u2022 Consider setting DYNAMIC_REGISTRY_ENABLED: false if registry not deployed');\r\n            window.APP_CONFIG.MODEL_ENDPOINTS_SOURCE = 'static-fallback';\r\n            return;\r\n        }\r\n\r\n        // Dynamically iterate over ALL keys in registry response\r\n        // This allows new leagues/models to be added without code changes\r\n        const registryKeys = Object.keys(registry || {});\r\n        const allLeagues = [...new Set([...KNOWN_LEAGUES, ...registryKeys])];\r\n\r\n        let updatedCount = 0;\r\n        allLeagues.forEach((key) => {\r\n            const entry = registry?.[key];\r\n            if (entry?.endpoint) {\r\n                const configKey = `${key.toUpperCase()}_API_URL`;\r\n                const oldEndpoint = window.APP_CONFIG[configKey];\r\n                window.APP_CONFIG[configKey] = entry.endpoint;\r\n                updatedCount++;\r\n                if (oldEndpoint !== entry.endpoint) {\r\n                    console.log(`[MODEL-ENDPOINTS] Updated ${key.toUpperCase()} endpoint: ${entry.endpoint}`);\r\n                }\r\n            }\r\n        });\r\n\r\n        window.APP_CONFIG.MODEL_ENDPOINTS_LAST_UPDATED = new Date().toISOString();\r\n        window.APP_CONFIG.MODEL_ENDPOINTS_COUNT = updatedCount;\r\n        window.APP_CONFIG.MODEL_ENDPOINTS_SOURCE = 'registry';\r\n\r\n        if (updatedCount > 0) {\r\n            console.log(`[MODEL-ENDPOINTS] Hydrated ${updatedCount} endpoints from registry`);\r\n        }\r\n        console.log(`[MODEL-ENDPOINTS] \u2022 Registry hydration complete - ${updatedCount} endpoints updated`);\r\n    };\r\n\r\n    // Kick off hydration early so downstream fetchers use fresh endpoints\r\n    hydrateEndpoints();\r\n\r\n    // Expose for optional manual refresh/debug\r\n    window.ModelEndpointBootstrap = {\r\n        hydrate: hydrateEndpoints,\r\n        getKnownLeagues: () => KNOWN_LEAGUES\r\n    };\r\n})();\r\n\n\n/* === assets/js/features/base-sport-fetcher.js === */\n/**\r\n * BaseSportFetcher v1.0\r\n * Shared fetch infrastructure for all sport model fetchers.\r\n * Eliminates duplicated fetchWithTimeout, cache, endpoint resolution,\r\n * health check, and fire-rating parsing across NBA/NCAAM/NFL/NCAAF/NHL.\r\n *\r\n * Each sport fetcher creates an instance with sport-specific config\r\n * and a formatPickForTable function.\r\n */\r\n\r\n(function () {\r\n  \"use strict\";\r\n\r\n  const DEFAULT_CACHE_DURATION = 60000; // 1 minute\r\n  const DEFAULT_TIMEOUT = 15000; // 15 seconds\r\n\r\n  // ===== SHARED: fetchWithTimeout =====\r\n  async function fetchWithTimeout(url, timeoutMs = DEFAULT_TIMEOUT) {\r\n    const controller = new AbortController();\r\n    const timeoutId = setTimeout(() => controller.abort(), timeoutMs);\r\n    try {\r\n      const response = await fetch(url, { signal: controller.signal });\r\n      clearTimeout(timeoutId);\r\n      return response;\r\n    } catch (error) {\r\n      clearTimeout(timeoutId);\r\n      if (error.name === \"AbortError\") {\r\n        throw new Error(`Request timed out after ${timeoutMs}ms`);\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // ===== SHARED: Fire rating normalization =====\r\n  function normalizeFireRating(raw, edgeFallback = 0) {\r\n    const str = (raw ?? \"\").toString().trim();\r\n    const upper = str.toUpperCase();\r\n    const map = { MAX: 5, ELITE: 5, STRONG: 4, GOOD: 3, STANDARD: 2, LOW: 1 };\r\n\r\n    if (upper in map) return map[upper];\r\n\r\n    if (str.includes(\"%\")) {\r\n      const pct = parseFloat(str.replace(\"%\", \"\"));\r\n      if (!Number.isNaN(pct)) {\r\n        if (pct >= 80) return 5;\r\n        if (pct >= 65) return 4;\r\n        if (pct >= 50) return 3;\r\n        if (pct >= 35) return 2;\r\n        return 1;\r\n      }\r\n    }\r\n\r\n    const asNum = parseInt(str, 10);\r\n    if (!Number.isNaN(asNum) && str !== \"\") return Math.max(0, Math.min(5, asNum));\r\n\r\n    // Fallback: derive from edge value\r\n    if (typeof edgeFallback === \"number\" && edgeFallback > 0) {\r\n      return Math.max(0, Math.min(5, Math.ceil(edgeFallback / 1.5)));\r\n    }\r\n\r\n    return 3; // default\r\n  }\r\n\r\n  // ===== SHARED: Endpoint resolution =====\r\n  function getBaseApiUrl() {\r\n    return (\r\n      window.APP_CONFIG?.API_BASE_URL ||\r\n      window.APP_CONFIG?.API_BASE_FALLBACK ||\r\n      `${window.location.origin}/api`\r\n    );\r\n  }\r\n\r\n  function getFunctionsBase() {\r\n    return window.APP_CONFIG?.FUNCTIONS_BASE_URL || window.location.origin;\r\n  }\r\n\r\n  function getContainerEndpoint(sport) {\r\n    const resolved = window.ModelEndpointResolver?.getApiEndpoint(sport);\r\n    if (resolved) return resolved;\r\n    const configKey = `${sport.toUpperCase()}_API_URL`;\r\n    const fromConfig = window.APP_CONFIG?.[configKey];\r\n    if (fromConfig) return fromConfig;\r\n    const fallback = window.APP_CONFIG?.API_BASE_FALLBACK;\r\n    return fallback ? `${fallback}/${sport.toLowerCase()}` : \"\";\r\n  }\r\n\r\n  // ===== BaseSportFetcher class =====\r\n\r\n  /**\r\n   * @param {Object} config\r\n   * @param {string} config.sport - e.g. 'NBA', 'NCAAM', 'NFL'\r\n   * @param {string} config.tag - Log prefix, e.g. '[NBA-FETCHER]'\r\n   * @param {Function} config.buildPrimaryUrl - (date) => url string\r\n   * @param {Function} config.buildFallbackUrl - (date) => url string\r\n   * @param {Function} config.formatPickForTable - (rawPick) => formatted pick\r\n   * @param {number} [config.timeoutMs] - Request timeout\r\n   * @param {number} [config.cacheDurationMs] - Cache TTL\r\n   * @param {Function} [config.onFetchFail] - Optional hook for sport-specific retry logic\r\n   */\r\n  function BaseSportFetcher(config) {\r\n    this.sport = config.sport;\r\n    this.tag = config.tag || `[${config.sport}-FETCHER]`;\r\n    this.buildPrimaryUrl = config.buildPrimaryUrl;\r\n    this.buildFallbackUrl = config.buildFallbackUrl;\r\n    this.formatPickForTable = config.formatPickForTable;\r\n    this.timeoutMs = config.timeoutMs || DEFAULT_TIMEOUT;\r\n    this.cacheDurationMs = config.cacheDurationMs || DEFAULT_CACHE_DURATION;\r\n    this.onFetchFail = config.onFetchFail || null;\r\n\r\n    // Per-date cache\r\n    this._cache = {};\r\n    this._lastSource = null;\r\n  }\r\n\r\n  BaseSportFetcher.prototype.fetchPicks = async function (date) {\r\n    date = date || \"today\";\r\n\r\n    if (window.ModelEndpointResolver?.ensureRegistryHydrated) {\r\n      window.ModelEndpointResolver.ensureRegistryHydrated();\r\n    }\r\n\r\n    // Cache check\r\n    const cached = this._cache[date];\r\n    if (cached && Date.now() - cached.timestamp < this.cacheDurationMs) {\r\n      return cached.data;\r\n    }\r\n\r\n    const primaryUrl = this.buildPrimaryUrl(date);\r\n\r\n    try {\r\n      let response = await fetchWithTimeout(primaryUrl, this.timeoutMs);\r\n\r\n      if (!response.ok) {\r\n        const fallbackUrl = this.buildFallbackUrl(date);\r\n        if (fallbackUrl) {\r\n          response = await fetchWithTimeout(fallbackUrl, this.timeoutMs);\r\n        }\r\n\r\n        // Sport-specific retry hook (e.g. NCAAM trigger-picks)\r\n        if (!response.ok && this.onFetchFail) {\r\n          const retryResponse = await this.onFetchFail(date, response);\r\n          if (retryResponse) response = retryResponse;\r\n        }\r\n\r\n        if (!response.ok) {\r\n          throw new Error(`${this.tag} All routes failed (${response.status})`);\r\n        }\r\n        this._lastSource = \"fallback\";\r\n      } else {\r\n        this._lastSource = \"primary\";\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      // Cache with date key\r\n      this._cache[date] = { data, timestamp: Date.now() };\r\n\r\n      return data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  BaseSportFetcher.prototype.checkHealth = async function () {\r\n    const endpoint = getContainerEndpoint(this.sport.toLowerCase());\r\n    try {\r\n      const response = await fetchWithTimeout(`${endpoint}/health`, 5000);\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        return { status: \"healthy\", ...data, containerApp: endpoint };\r\n      }\r\n      return { status: \"error\", code: response.status, containerApp: endpoint };\r\n    } catch (error) {\r\n      return { status: \"error\", message: error.message, containerApp: endpoint };\r\n    }\r\n  };\r\n\r\n  BaseSportFetcher.prototype.clearCache = function (date) {\r\n    if (date) {\r\n      delete this._cache[date];\r\n    } else {\r\n      this._cache = {};\r\n    }\r\n  };\r\n\r\n  BaseSportFetcher.prototype.getCache = function (date) {\r\n    return this._cache[date || \"today\"]?.data || null;\r\n  };\r\n\r\n  BaseSportFetcher.prototype.getLastSource = function () {\r\n    return this._lastSource;\r\n  };\r\n\r\n  // Export shared utilities and base class\r\n  window.BaseSportFetcher = BaseSportFetcher;\r\n  window.BaseSportFetcher.utils = {\r\n    fetchWithTimeout,\r\n    normalizeFireRating,\r\n    getBaseApiUrl,\r\n    getFunctionsBase,\r\n    getContainerEndpoint,\r\n  };\r\n})();\r\n\n\n/* === assets/js/features/nba-picks-fetcher.js === */\n/**\r\n * NBA Picks Fetcher v4.0\r\n * Fetches NBA model picks from nba_gbsv_v5_az Container App\r\n *\r\n * Primary Route: /api/model/nba/predictions/latest  (same-origin proxy)\r\n * Fallback Route: {NBA_API_URL}/predictions/latest  (direct ACA)\r\n *\r\n * ACA: nbagbsvv5-aca (nba_gbsv_v5_az resource group)\r\n * Built on BaseSportFetcher shared infrastructure.\r\n */\r\n\r\n(function () {\r\n  \"use strict\";\r\n\r\n  const { normalizeFireRating, getFunctionsBase, getContainerEndpoint } =\r\n    window.BaseSportFetcher?.utils || {};\r\n\r\n  const fetcher = new window.BaseSportFetcher({\r\n    sport: \"NBA\",\r\n    tag: \"[NBA-FETCHER]\",\r\n    timeoutMs: 15000,\r\n\r\n    buildPrimaryUrl(date) {\r\n      const base = getFunctionsBase();\r\n      const dateParam = date && date !== \"today\" ? `?date=${date}` : \"\";\r\n      return `${base}/api/model/nba/predictions/latest${dateParam}`;\r\n    },\r\n\r\n    buildFallbackUrl(date) {\r\n      const endpoint = getContainerEndpoint(\"nba\");\r\n      if (!endpoint) return \"\";\r\n      const dateParam = date && date !== \"today\" ? `?date=${date}` : \"\";\r\n      return `${endpoint}/predictions/latest${dateParam}`;\r\n    },\r\n\r\n    formatPickForTable(play) {\r\n      if (!play) return null;\r\n\r\n      const home = play.home_team || play.home || \"Unknown\";\r\n      const away = play.away_team || play.away || \"Unknown\";\r\n      const matchup = play.matchup || `${away} @ ${home}`;\r\n\r\n      // Determine pick display text\r\n      let pickText =\r\n        play.pick ||\r\n        play.selection ||\r\n        play.feature_name ||\r\n        play.model_feature ||\r\n        \"N/A\";\r\n      if (pickText && typeof pickText === \"string\") {\r\n        pickText = pickText.replace(/_/g, \" \");\r\n      }\r\n\r\n      // Extract pick team and type\r\n      let pickTeam = \"\";\r\n      let pickType = \"spread\";\r\n\r\n      if (pickText && typeof pickText === \"string\") {\r\n        const upper = pickText.toUpperCase();\r\n        if (upper.includes(\"OVER\") || upper.includes(\"O \")) {\r\n          pickTeam = \"Over\";\r\n          pickType = \"total\";\r\n        } else if (upper.includes(\"UNDER\") || upper.includes(\"U \")) {\r\n          pickTeam = \"Under\";\r\n          pickType = \"total\";\r\n        } else if (upper.includes(\"HOME\") || upper.includes(\"FAVORITE\")) {\r\n          pickTeam = home;\r\n          pickType = \"spread\";\r\n        } else if (upper.includes(\"AWAY\") || upper.includes(\"UNDERDOG\")) {\r\n          pickTeam = away;\r\n          pickType = \"spread\";\r\n        } else {\r\n          pickTeam = pickText;\r\n          if (upper.includes(\"ML\")) {\r\n            pickType = \"ml\";\r\n          }\r\n        }\r\n      }\r\n\r\n      // Extract line from pick\r\n      let line = \"\";\r\n      const lineMatch = pickText?.match(/([+-]?\\d+\\.?\\d*)/);\r\n      if (lineMatch) {\r\n        line = lineMatch[1];\r\n      }\r\n\r\n      // Parse edge/confidence - maps to fire rating\r\n      const edge = parseFloat(play.edge) || parseFloat(play.ev) || 0;\r\n      const fireNum = normalizeFireRating\r\n        ? normalizeFireRating(play.fire_rating ?? play.confidence, edge)\r\n        : Math.max(0, Math.min(5, Math.ceil(edge / 1.5)));\r\n\r\n      return {\r\n        sport: \"NBA\",\r\n        date:\r\n          play.date ||\r\n          play.game_date ||\r\n          new Date().toLocaleDateString(\"en-US\", {\r\n            weekday: \"short\",\r\n            month: \"short\",\r\n            day: \"numeric\",\r\n          }),\r\n        time: play.time || \"TBD\",\r\n        awayTeam: away,\r\n        homeTeam: home,\r\n        segment: play.segment || \"FG\",\r\n        pickTeam: pickTeam,\r\n        pickType: pickType,\r\n        pickDirection:\r\n          play.pick_direction ||\r\n          (pickTeam.toUpperCase() === \"OVER\"\r\n            ? \"OVER\"\r\n            : pickTeam.toUpperCase() === \"UNDER\"\r\n              ? \"UNDER\"\r\n              : \"\"),\r\n        line: line,\r\n        odds: play.odds || play.odds_available || play.price || -110,\r\n        edge: edge,\r\n        fire: fireNum,\r\n        fireLabel: fireNum === 5 ? \"MAX\" : \"\",\r\n        rationale: play.rationale || play.explanation || \"\",\r\n        modelStamp: play.model_version || play.modelVersion || \"\",\r\n        raw: play,\r\n      };\r\n    },\r\n  });\r\n\r\n  // Export with same interface (preserve backward compat)\r\n  window.NBAPicksFetcher = {\r\n    fetchNBAPicks: (date) => fetcher.fetchPicks(date),\r\n    fetchPicks: (date) => fetcher.fetchPicks(date),\r\n    formatPickForTable: fetcher.formatPickForTable,\r\n    checkHealth: () => fetcher.checkHealth(),\r\n    getCache: (date) => fetcher.getCache(date),\r\n    getLastSource: () => fetcher.getLastSource(),\r\n    clearCache: (date) => fetcher.clearCache(date),\r\n  };\r\n})();\r\n\n\n/* === assets/js/features/ncaam-picks-fetcher.js === */\n/**\n * NCAAM Picks Fetcher v4.0\n * Fetches NCAAM model picks from ncaam_gbsv_v2.0 Container App\n *\n * Primary Route: /api/model/ncaam/api/picks/{date}  (same-origin proxy)\n * Fallback Route: {NCAAM_API_URL}/api/picks/{date}  (direct ACA)\n *\n * ACA: ca-ncaamgbsvv20 (ncaam_gbsv_v2.0 resource group)\n * Built on BaseSportFetcher shared infrastructure.\n *\n * NCAAM-specific: triggerPicksIfNeeded (trigger-picks endpoint for cold start)\n */\n\n(function () {\n  \"use strict\";\n\n  const { normalizeFireRating, getFunctionsBase, getContainerEndpoint } =\n    window.BaseSportFetcher?.utils || {};\n\n  // NCAAM-specific: trigger picks generation via proxy\n  const triggerInFlight = {};\n\n  async function triggerPicksIfNeeded(cacheKey) {\n    const proxyBase = `${getFunctionsBase()}/api/model/ncaam`;\n    const triggerKey = `${proxyBase}|${cacheKey || \"today\"}`;\n    if (triggerInFlight[triggerKey]) return false;\n    triggerInFlight[triggerKey] = true;\n    try {\n      const triggerUrl = `${proxyBase}/trigger-picks`;\n      const response = await fetch(triggerUrl, {\n        signal: AbortSignal.timeout(60000),\n      });\n      if (response.ok) {\n        return true;\n      }\n      return false;\n    } catch {\n      return false;\n    } finally {\n      triggerInFlight[triggerKey] = false;\n    }\n  }\n\n  const fetcher = new window.BaseSportFetcher({\n    sport: \"NCAAM\",\n    tag: \"[NCAAM-FETCHER]\",\n    timeoutMs: 60000, // 60s to handle cold starts\n\n    buildPrimaryUrl(date) {\n      const base = getFunctionsBase();\n      // The NCAAM v2 backend uses /api/slate for the daily picks\n      return `${base}/api/model/ncaam/api/slate${date ? `?date=${date}` : \"\"}`;\n    },\n\n    buildFallbackUrl(date) {\n      const endpoint = getContainerEndpoint(\"ncaam\");\n      if (!endpoint) return \"\";\n      // The NCAAM v2 backend uses /api/slate for the daily picks\n      return `${endpoint}/api/slate${date ? `?date=${date}` : \"\"}`;\n    },\n\n    // NCAAM-specific retry: trigger picks generation on 503\n    async onFetchFail(date, response) {\n      if (response.status === 503) {\n        const triggered = await triggerPicksIfNeeded(date);\n        if (triggered) {\n          await new Promise((resolve) => setTimeout(resolve, 2000));\n          const proxyBase = `${getFunctionsBase()}/api/model/ncaam`;\n          const retryResponse = await fetch(\n            `${proxyBase}/api/slate${date ? `?date=${date}` : \"\"}`,\n            { signal: AbortSignal.timeout(60000) },\n          );\n          return retryResponse;\n        }\n      }\n      return null;\n    },\n\n    formatPickForTable(pick) {\n      const fireNum = normalizeFireRating\n        ? normalizeFireRating(\n            pick.fire_rating ?? pick.confidence,\n            parseFloat(pick.edge) || 0,\n          )\n        : 3;\n\n      const marketType = (pick.market || \"spread\").toLowerCase();\n\n      // Parse time from \"12/25 11:10 AM\" format\n      let timeStr = pick.time_cst || \"\";\n      let dateStr = \"\";\n      if (timeStr.includes(\" \")) {\n        const timeParts = timeStr.split(\" \");\n        dateStr = timeParts[0];\n        timeStr = timeParts.slice(1).join(\" \");\n      }\n\n      const awayTeam =\n        pick.awayTeam ||\n        pick.away_team ||\n        (pick.matchup ? pick.matchup.split(\" @ \")[0] : \"\") ||\n        \"\";\n      const homeTeam =\n        pick.homeTeam ||\n        pick.home_team ||\n        (pick.matchup ? pick.matchup.split(\" @ \")[1] : \"\") ||\n        \"\";\n\n      const pickTeam = pick.predictedWinner || pick.pick || \"\";\n      let pickDirection = \"\";\n      const upperPick = pickTeam.toUpperCase();\n      if (upperPick === \"OVER\" || upperPick === \"UNDER\") {\n        pickDirection = upperPick;\n      }\n\n      let edgeValue = 0;\n      if (typeof pick.edge === \"string\") {\n        edgeValue = parseFloat(pick.edge.replace(\"+\", \"\")) || 0;\n      } else if (typeof pick.edge === \"number\") {\n        edgeValue = pick.edge;\n      }\n\n      return {\n        sport: \"NCAAM\",\n        date:\n          dateStr ||\n          new Date().toLocaleDateString(\"en-US\", {\n            month: \"short\",\n            day: \"numeric\",\n          }),\n        time: timeStr,\n        awayTeam,\n        homeTeam,\n        game: pick.matchup || `${awayTeam} @ ${homeTeam}`,\n        pick: pickTeam,\n        pickTeam,\n        pickDirection,\n        pickType: marketType,\n        odds: pick.pick_odds || \"-110\",\n        edge: edgeValue,\n        confidence: fireNum,\n        fire: fireNum,\n        fireLabel: fireNum === 5 ? \"MAX\" : \"\",\n        market: marketType,\n        segment: pick.period || \"FG\",\n        line: pick.marketSpread || pick.market_line || \"\",\n        modelPrice: pick.predictedMargin || pick.model_line || \"\",\n        modelSpread: pick.predictedMargin || pick.model_line || \"\",\n        fire_rating: pick.fire_rating || \"\",\n        rationale:\n          pick.rationale ||\n          pick.reason ||\n          pick.analysis ||\n          pick.notes ||\n          pick.executive_summary ||\n          \"\",\n        modelVersion:\n          pick.model_version ||\n          pick.modelVersion ||\n          pick.model_tag ||\n          pick.modelTag ||\n          \"\",\n        modelStamp:\n          pick.model_version ||\n          pick.modelVersion ||\n          pick.model_tag ||\n          pick.modelTag ||\n          \"\",\n      };\n    },\n  });\n\n  // Export with same interface (preserve backward compat)\n  window.NCAAMPicksFetcher = {\n    fetchPicks: (date) => fetcher.fetchPicks(date),\n    checkHealth: () => fetcher.checkHealth(),\n    formatPickForTable: fetcher.formatPickForTable,\n    triggerPicks: triggerPicksIfNeeded,\n    getCache: (date) => fetcher.getCache(date),\n    getLastSource: () => fetcher.getLastSource(),\n    getEndpoint: () => getContainerEndpoint(\"ncaam\"),\n    clearCache: (date) => fetcher.clearCache(date),\n  };\n})();\n\n\n/* === assets/js/features/nfl-picks-fetcher.js === */\n/**\r\n * NFL Picks Fetcher v2.0\r\n * Fetches NFL model picks via Azure Front Door weekly-lineup route\r\n *\r\n * Primary Route: {API_BASE_URL}/weekly-lineup/nfl\r\n * Fallback Route: Container App /api/v1/predictions/week/{season}/{week}\r\n *\r\n * Built on BaseSportFetcher shared infrastructure.\r\n * NFL-specific: dateToNFLSeasonWeek for fallback route construction.\r\n */\r\n\r\n(function () {\r\n  \"use strict\";\r\n\r\n  const { normalizeFireRating, getContainerEndpoint } =\r\n    window.BaseSportFetcher?.utils || {};\r\n\r\n  /**\r\n   * Convert date to NFL season and week\r\n   * @param {string} date - Date string ('today', 'YYYY-MM-DD', etc.)\r\n   * @returns {Object} {season, week}\r\n   */\r\n  function dateToNFLSeasonWeek(date = \"today\") {\r\n    let targetDate;\r\n    if (date === \"today\") {\r\n      targetDate = new Date();\r\n    } else if (date === \"tomorrow\") {\r\n      targetDate = new Date();\r\n      targetDate.setDate(targetDate.getDate() + 1);\r\n    } else {\r\n      targetDate = new Date(date);\r\n    }\r\n\r\n    const year = targetDate.getFullYear();\r\n    const month = targetDate.getMonth() + 1;\r\n\r\n    // NFL season spans calendar years, starts in September\r\n    const season = month >= 9 ? year : year - 1;\r\n\r\n    // Calculate week of season (approximate)\r\n    const startOfYear = new Date(season, 8, 1); // September 1\r\n    const daysSinceStart = Math.floor(\r\n      (targetDate - startOfYear) / (24 * 60 * 60 * 1000),\r\n    );\r\n    const week = Math.max(1, Math.min(18, Math.floor(daysSinceStart / 7) + 1));\r\n\r\n    return { season, week };\r\n  }\r\n\r\n  const fetcher = new window.BaseSportFetcher({\r\n    sport: \"NFL\",\r\n    tag: \"[NFL-FETCHER]\",\r\n    timeoutMs: 15000,\r\n\r\n    buildPrimaryUrl() {\r\n      const base =\r\n        window.APP_CONFIG?.API_BASE_URL ||\r\n        window.APP_CONFIG?.API_BASE_FALLBACK ||\r\n        `${window.location.origin}/api`;\r\n      return `${base}/weekly-lineup/nfl`;\r\n    },\r\n\r\n    buildFallbackUrl(date) {\r\n      const endpoint = getContainerEndpoint(\"nfl\");\r\n      if (!endpoint) return \"\";\r\n      const { season, week } = dateToNFLSeasonWeek(date);\r\n      return `${endpoint}/api/v1/predictions/week/${season}/${week}`;\r\n    },\r\n\r\n    formatPickForTable(pick) {\r\n      const fireNum = normalizeFireRating\r\n        ? normalizeFireRating(pick.fire_rating ?? pick.confidence, parseFloat(pick.edge) || 0)\r\n        : 3;\r\n\r\n      const awayTeam = pick.away_team || pick.awayTeam || \"\";\r\n      const homeTeam = pick.home_team || pick.homeTeam || \"\";\r\n\r\n      const pickDisplay =\r\n        pick.pick_display || pick.pick || pick.recommendation || \"\";\r\n      const marketType = (\r\n        pick.market_type ||\r\n        pick.market ||\r\n        \"\"\r\n      ).toLowerCase();\r\n\r\n      // Determine pick type and extract components\r\n      let pickType = \"spread\";\r\n      let pickTeam = \"\";\r\n      let pickDirection = \"\";\r\n      let line = \"\";\r\n\r\n      if (marketType === \"moneyline\" || marketType === \"ml\") {\r\n        pickType = \"ml\";\r\n        pickTeam = pickDisplay.replace(/\\s*ML\\s*/i, \"\").trim() || awayTeam;\r\n        line = \"ML\";\r\n      } else if (\r\n        marketType === \"total\" ||\r\n        marketType === \"totals\" ||\r\n        marketType === \"over/under\"\r\n      ) {\r\n        pickType = \"total\";\r\n        const totalMatch = pickDisplay.match(\r\n          /^(OVER|UNDER|Over|Under)\\s+([\\d.]+)/i,\r\n        );\r\n        if (totalMatch) {\r\n          pickDirection = totalMatch[1].toUpperCase();\r\n          pickTeam = pickDirection;\r\n          line = totalMatch[2];\r\n        } else {\r\n          pickDirection = \"OVER\";\r\n          pickTeam = \"OVER\";\r\n          line = pickDisplay.replace(/[^\\d.]/g, \"\");\r\n        }\r\n      } else if (\r\n        marketType === \"team total\" ||\r\n        marketType === \"team_total\" ||\r\n        marketType === \"tt\"\r\n      ) {\r\n        pickType = \"tt\";\r\n        const ttMatch = pickDisplay.match(\r\n          /^(.+?)\\s+(OVER|UNDER|Over|Under)\\s+([\\d.]+)/i,\r\n        );\r\n        if (ttMatch) {\r\n          pickTeam = ttMatch[1].trim();\r\n          pickDirection = ttMatch[2].toUpperCase();\r\n          line = ttMatch[3];\r\n        }\r\n      } else {\r\n        pickType = \"spread\";\r\n        const spreadMatch = pickDisplay.match(/^(.+?)\\s+([+-][\\d.]+)/);\r\n        if (spreadMatch) {\r\n          pickTeam = spreadMatch[1].trim();\r\n          line = spreadMatch[2];\r\n        } else {\r\n          pickTeam = pickDisplay.trim();\r\n        }\r\n      }\r\n\r\n      // Calculate edge\r\n      let edgeValue = 0;\r\n      if (typeof pick.edge === \"number\") {\r\n        edgeValue = pick.edge;\r\n      } else if (typeof pick.edge === \"string\") {\r\n        edgeValue = parseFloat(pick.edge.replace(\"%\", \"\")) / 100;\r\n      }\r\n\r\n      return {\r\n        sport: \"NFL\",\r\n        league: \"NFL\",\r\n        awayTeam,\r\n        homeTeam,\r\n        awayRecord: pick.away_record || \"\",\r\n        homeRecord: pick.home_record || \"\",\r\n        pickTeam,\r\n        pickType,\r\n        pickDirection,\r\n        line,\r\n        odds: pick.odds || pick.market_odds || \"-110\",\r\n        edge: edgeValue,\r\n        fire: fireNum,\r\n        confidence: fireNum,\r\n        fireLabel: fireNum === 5 ? \"MAX\" : \"\",\r\n        time: pick.game_time || pick.time || \"\",\r\n        date: pick.game_date || pick.date || \"\",\r\n        segment: pick.period || pick.segment || \"FG\",\r\n        market: marketType || \"spread\",\r\n        rationale:\r\n          pick.rationale ||\r\n          pick.reason ||\r\n          pick.analysis ||\r\n          pick.notes ||\r\n          pick.executive_summary ||\r\n          \"\",\r\n        modelStamp:\r\n          pick.model_version ||\r\n          pick.modelVersion ||\r\n          pick.model_tag ||\r\n          pick.modelTag ||\r\n          \"\",\r\n        modelVersion:\r\n          pick.model_version ||\r\n          pick.modelVersion ||\r\n          pick.model_tag ||\r\n          pick.modelTag ||\r\n          \"\",\r\n      };\r\n    },\r\n  });\r\n\r\n  // Export with same interface (preserve backward compat)\r\n  window.NFLPicksFetcher = {\r\n    fetchPicks: (date) => fetcher.fetchPicks(date),\r\n    checkHealth: () => fetcher.checkHealth(),\r\n    formatPickForTable: fetcher.formatPickForTable,\r\n    getCache: (date) => fetcher.getCache(date),\r\n    getLastSource: () => fetcher.getLastSource(),\r\n    clearCache: (date) => fetcher.clearCache(date),\r\n  };\r\n})();\r\n\n\n/* === assets/js/features/ncaaf-picks-fetcher.js === */\n/**\r\n * NCAAF Picks Fetcher v2.0\r\n * Fetches NCAAF model picks via Azure Front Door weekly-lineup route\r\n *\r\n * Primary Route: {API_BASE_URL}/weekly-lineup/ncaaf\r\n * Fallback Route: Container App /api/v1/predictions/week/{season}/{week}\r\n *\r\n * Built on BaseSportFetcher shared infrastructure.\r\n * NCAAF-specific: getCurrentSeasonWeek for fallback route construction.\r\n */\r\n\r\n(function () {\r\n  \"use strict\";\r\n\r\n  const { normalizeFireRating, getContainerEndpoint } =\r\n    window.BaseSportFetcher?.utils || {};\r\n\r\n  /**\r\n   * Get current NCAAF season and week\r\n   * @returns {Object} { season, week }\r\n   */\r\n  function getCurrentSeasonWeek() {\r\n    const now = new Date();\r\n    const year = now.getFullYear();\r\n    const month = now.getMonth() + 1;\r\n\r\n    // NCAAF season runs Aug-Jan\r\n    const season = month >= 8 ? year : year - 1;\r\n\r\n    // Approximate week calculation (season starts late August)\r\n    const seasonStart = new Date(season, 7, 24); // Aug 24\r\n    const weekNum = Math.max(\r\n      1,\r\n      Math.ceil((now - seasonStart) / (7 * 24 * 60 * 60 * 1000)),\r\n    );\r\n\r\n    return { season, week: Math.min(weekNum, 15) }; // Cap at week 15 (bowl season)\r\n  }\r\n\r\n  const fetcher = new window.BaseSportFetcher({\r\n    sport: \"NCAAF\",\r\n    tag: \"[NCAAF-FETCHER]\",\r\n    timeoutMs: 15000,\r\n\r\n    buildPrimaryUrl() {\r\n      const base =\r\n        window.APP_CONFIG?.API_BASE_URL ||\r\n        window.APP_CONFIG?.API_BASE_FALLBACK ||\r\n        `${window.location.origin}/api`;\r\n      return `${base}/weekly-lineup/ncaaf`;\r\n    },\r\n\r\n    buildFallbackUrl() {\r\n      const endpoint = getContainerEndpoint(\"ncaaf\");\r\n      if (!endpoint) return \"\";\r\n      const { season, week } = getCurrentSeasonWeek();\r\n      return `${endpoint}/api/v1/predictions/week/${season}/${week}`;\r\n    },\r\n\r\n    formatPickForTable(pick) {\r\n      const fireNum = normalizeFireRating\r\n        ? normalizeFireRating(pick.fire_rating ?? pick.confidence, parseFloat(pick.edge) || 0)\r\n        : 3;\r\n\r\n      return {\r\n        sport: \"NCAAF\",\r\n        game: `${pick.away_team || pick.awayTeam || \"\"} @ ${pick.home_team || pick.homeTeam || \"\"}`,\r\n        pick:\r\n          pick.pick_display ||\r\n          pick.pick ||\r\n          pick.recommendation ||\r\n          pick.bet_recommendation,\r\n        odds: pick.odds || pick.market_odds || \"\",\r\n        edge: pick.edge\r\n          ? `${(pick.edge * 100).toFixed(1)}%`\r\n          : pick.expected_edge\r\n            ? `${(pick.expected_edge * 100).toFixed(1)}%`\r\n            : \"\",\r\n        confidence: fireNum,\r\n        time: pick.game_time || pick.time || pick.kickoff || \"\",\r\n        market: pick.market_type || pick.market || pick.bet_type || \"\",\r\n        period: pick.period || \"FG\",\r\n        fire_rating: pick.fire_rating || \"\",\r\n        fireLabel: fireNum === 5 ? \"MAX\" : \"\",\r\n        rationale:\r\n          pick.rationale ||\r\n          pick.reason ||\r\n          pick.analysis ||\r\n          pick.notes ||\r\n          pick.executive_summary ||\r\n          \"\",\r\n        modelVersion:\r\n          pick.model_version ||\r\n          pick.modelVersion ||\r\n          pick.model_tag ||\r\n          pick.modelTag ||\r\n          \"\",\r\n      };\r\n    },\r\n  });\r\n\r\n  // Export with same interface (preserve backward compat)\r\n  window.NCAAFPicksFetcher = {\r\n    fetchPicks: (date) => fetcher.fetchPicks(date),\r\n    checkHealth: () => fetcher.checkHealth(),\r\n    formatPickForTable: fetcher.formatPickForTable,\r\n    getCurrentSeasonWeek,\r\n    getCache: (date) => fetcher.getCache(date),\r\n    getLastSource: () => fetcher.getLastSource(),\r\n    clearCache: (date) => fetcher.clearCache(date),\r\n  };\r\n})();\r\n\n\n/* === assets/js/features/nhl-picks-fetcher.js === */\n/**\r\n * NHL Picks Fetcher v1.0\r\n * Fetches NHL model picks from nhl-gbsv-v1-az Container App\r\n *\r\n * Primary Route: /api/model/nhl/api/slate  (same-origin proxy)\r\n * Fallback Route: {NHL_API_URL}/api/slate  (direct ACA)\r\n *\r\n * ACA: nhl-gbsv-v1-az-aca (nhl-gbsv-model-rg)\r\n * Built on BaseSportFetcher shared infrastructure.\r\n */\r\n\r\n(function () {\r\n  \"use strict\";\r\n\r\n  const { normalizeFireRating, getFunctionsBase, getContainerEndpoint } =\r\n    window.BaseSportFetcher?.utils || {};\r\n\r\n  const fetcher = new window.BaseSportFetcher({\r\n    sport: \"NHL\",\r\n    tag: \"[NHL-FETCHER]\",\r\n    timeoutMs: 15000,\r\n\r\n    buildPrimaryUrl(date) {\r\n      const base = getFunctionsBase();\r\n      const dateParam = date && date !== \"today\" ? `?date=${date}` : \"\";\r\n      return `${base}/api/model/nhl/api/slate${dateParam}`;\r\n    },\r\n\r\n    buildFallbackUrl(date) {\r\n      const endpoint = getContainerEndpoint(\"nhl\");\r\n      if (!endpoint) return \"\";\r\n      const dateParam = date && date !== \"today\" ? `?date=${date}` : \"\";\r\n      return `${endpoint}/api/slate${dateParam}`;\r\n    },\r\n\r\n    formatPickForTable(pick) {\r\n      const fireNum = normalizeFireRating\r\n        ? normalizeFireRating(pick.fire_rating ?? pick.confidence, parseFloat(pick.edge) || 0)\r\n        : 3;\r\n\r\n      const awayTeam = pick.away_team || pick.awayTeam || pick.away || \"\";\r\n      const homeTeam = pick.home_team || pick.homeTeam || pick.home || \"\";\r\n      const marketType = (pick.market || pick.market_type || \"puckline\").toLowerCase();\r\n\r\n      let pickTeam = pick.pick || \"\";\r\n      let pickDirection = \"\";\r\n      const upperPick = pickTeam.toUpperCase();\r\n      if (upperPick === \"OVER\" || upperPick === \"UNDER\") {\r\n        pickDirection = upperPick;\r\n      }\r\n\r\n      let edgeValue = 0;\r\n      if (typeof pick.edge === \"string\") {\r\n        edgeValue = parseFloat(pick.edge.replace(\"+\", \"\")) || 0;\r\n      } else if (typeof pick.edge === \"number\") {\r\n        edgeValue = pick.edge;\r\n      }\r\n\r\n      return {\r\n        sport: \"NHL\",\r\n        date: pick.date || pick.game_date || \"\",\r\n        time: pick.time || pick.game_time || pick.time_cst || \"\",\r\n        awayTeam,\r\n        homeTeam,\r\n        game: pick.matchup || `${awayTeam} @ ${homeTeam}`,\r\n        pick: pickTeam,\r\n        pickTeam,\r\n        pickDirection,\r\n        pickType: marketType,\r\n        odds: pick.pick_odds || pick.odds || \"-110\",\r\n        edge: edgeValue,\r\n        confidence: fireNum,\r\n        fire: fireNum,\r\n        fireLabel: fireNum === 5 ? \"MAX\" : \"\",\r\n        market: marketType,\r\n        segment: pick.period || \"FG\",\r\n        line: pick.market_line || pick.line || \"\",\r\n        modelPrice: pick.model_line || \"\",\r\n        modelSpread: pick.model_line || \"\",\r\n        rationale: pick.rationale || pick.reason || pick.analysis || \"\",\r\n        modelStamp: pick.model_version || pick.modelVersion || pick.model_tag || \"\",\r\n        modelVersion: pick.model_version || pick.modelVersion || pick.model_tag || \"\",\r\n      };\r\n    },\r\n  });\r\n\r\n  // Export with same interface as other fetchers\r\n  window.NHLPicksFetcher = {\r\n    fetchPicks: (date) => fetcher.fetchPicks(date),\r\n    checkHealth: () => fetcher.checkHealth(),\r\n    formatPickForTable: fetcher.formatPickForTable,\r\n    getCache: (date) => fetcher.getCache(date),\r\n    getLastSource: () => fetcher.getLastSource(),\r\n    clearCache: (date) => fetcher.clearCache(date),\r\n  };\r\n})();\r\n\n\n/* === assets/js/features/unified-picks-fetcher.js === */\n/**\r\n * Unified Picks Fetcher v1.3\r\n * Orchestrates fetching picks from all model APIs in PARALLEL\r\n * Supports date-specific fetching with cache-first strategy\r\n *\r\n * v1.3 Performance improvements:\r\n * - Parallel fetching of all leagues (was sequential)\r\n * - Reduced timeout from 60s to 15s\r\n * - Cache-first strategy\r\n * - Progressive rendering support\r\n */\r\n\r\n(function() {\r\n    'use strict';\r\n\r\n    // Helper to check if debug mode is enabled\r\n    const isDebugMode = () => window.APP_CONFIG?.DEBUG_MODE === true;\r\n\r\n    // Debug-gated logging\r\n    const debugLog = (...args) => {\r\n        if (isDebugMode()) console.log(...args);\r\n    };\r\n    const debugWarn = (...args) => {\r\n        if (isDebugMode()) console.warn(...args);\r\n    };\r\n    const debugError = (...args) => {\r\n        // Always log errors, but with less verbosity in production\r\n        if (isDebugMode()) {\r\n            console.error(...args);\r\n        } else {\r\n            console.error(args[0]); // Only first arg in production\r\n        }\r\n    };\r\n\r\n    // Request timeout in milliseconds (reduced from 60s for better UX)\r\n    const REQUEST_TIMEOUT_MS = 15000;\r\n\r\n    // Cache for picks results\r\n    const picksCache = {\r\n        data: null,\r\n        timestamp: 0,\r\n        date: null,\r\n        league: null\r\n    };\r\n    const CACHE_DURATION_MS = 60000; // 1 minute cache\r\n\r\n    const extractModelStampFromResponse = (data) => {\r\n        if (!data || typeof data !== 'object') return '';\r\n\r\n        const read = (obj, path) => path.split('.').reduce((acc, key) => (acc && acc[key] !== undefined ? acc[key] : undefined), obj);\r\n        const pickFirstString = (...paths) => {\r\n            for (const path of paths) {\r\n                const value = read(data, path);\r\n                if (typeof value === 'string' && value.trim()) return value.trim();\r\n            }\r\n            return '';\r\n        };\r\n\r\n        const tag = pickFirstString(\r\n            'model_tag', 'modelTag',\r\n            'model_version', 'modelVersion',\r\n            'version', 'build', 'build_version',\r\n            'meta.model_tag', 'meta.modelTag',\r\n            'meta.model_version', 'meta.modelVersion',\r\n            'meta.version', 'meta.build',\r\n            'metadata.model_tag', 'metadata.modelTag',\r\n            'metadata.model_version', 'metadata.modelVersion',\r\n            'metadata.version', 'metadata.build'\r\n        );\r\n\r\n        const sha = pickFirstString(\r\n            'git_sha', 'gitSha', 'commit', 'commit_sha', 'commitSha',\r\n            'meta.git_sha', 'meta.gitSha', 'meta.commit', 'meta.commit_sha', 'meta.commitSha',\r\n            'metadata.git_sha', 'metadata.gitSha', 'metadata.commit', 'metadata.commit_sha', 'metadata.commitSha'\r\n        );\r\n\r\n        if (tag && sha) return `${tag} (${sha.slice(0, 8)})`;\r\n        return tag || (sha ? sha.slice(0, 12) : '');\r\n    };\r\n\r\n    const normalizeFireRating = (rawFire, edgeValue = 0) => {\r\n        const clamp = (n) => Math.max(0, Math.min(5, n));\r\n\r\n        if (typeof rawFire === 'number' && Number.isFinite(rawFire)) {\r\n            const fire = clamp(Math.round(rawFire));\r\n            return { fire, fireLabel: fire === 5 ? 'MAX' : '' };\r\n        }\r\n\r\n        const str = (rawFire ?? '').toString().trim();\r\n        if (str) {\r\n            const asNum = parseInt(str, 10);\r\n            if (!Number.isNaN(asNum)) {\r\n                const fire = clamp(asNum);\r\n                return { fire, fireLabel: fire === 5 ? 'MAX' : '' };\r\n            }\r\n\r\n            const upper = str.toUpperCase();\r\n            const map = { MAX: 5, ELITE: 5, STRONG: 4, GOOD: 3, STANDARD: 2, LOW: 1 };\r\n            if (upper in map) {\r\n                const fire = map[upper];\r\n                return { fire, fireLabel: fire === 5 ? 'MAX' : '' };\r\n            }\r\n\r\n            if (str.includes('%')) {\r\n                const pct = parseFloat(str.replace('%', ''));\r\n                if (!Number.isNaN(pct)) {\r\n                    if (pct >= 80) return { fire: 5, fireLabel: 'MAX' };\r\n                    if (pct >= 65) return { fire: 4, fireLabel: '' };\r\n                    if (pct >= 50) return { fire: 3, fireLabel: '' };\r\n                    if (pct >= 35) return { fire: 2, fireLabel: '' };\r\n                    return { fire: 1, fireLabel: '' };\r\n                }\r\n            }\r\n        }\r\n\r\n        const computed = clamp(Math.ceil((parseFloat(edgeValue) || 0) / 1.5));\r\n        return { fire: computed, fireLabel: computed === 5 ? 'MAX' : '' };\r\n    };\r\n\r\n    /**\r\n     * Fetch with timeout using AbortController\r\n     * @param {string} url - URL to fetch\r\n     * @param {object} options - Fetch options\r\n     * @param {number} timeoutMs - Timeout in milliseconds\r\n     * @returns {Promise<Response>}\r\n     */\r\n    const fetchWithTimeout = async (url, options = {}, timeoutMs = REQUEST_TIMEOUT_MS) => {\r\n        const controller = new AbortController();\r\n        const timeoutId = setTimeout(() => controller.abort(), timeoutMs);\r\n\r\n        try {\r\n            const response = await fetch(url, {\r\n                ...options,\r\n                signal: controller.signal\r\n            });\r\n            clearTimeout(timeoutId);\r\n            return response;\r\n        } catch (error) {\r\n            clearTimeout(timeoutId);\r\n            if (error.name === 'AbortError') {\r\n                throw new Error(`Request timed out after ${timeoutMs}ms`);\r\n            }\r\n            throw error;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Check if cache is valid for the given parameters\r\n     */\r\n    const isCacheValid = (league, date) => {\r\n        // First check localStorage via DataCacheManager if available\r\n        if (window.DataCacheManager) {\r\n            const cacheKey = `picks_${league}_${date}`;\r\n            const cached = window.DataCacheManager.get(cacheKey);\r\n            if (cached) {\r\n                debugLog('[UNIFIED-FETCHER] Found valid cache in localStorage');\r\n                picksCache.data = cached;\r\n                picksCache.timestamp = Date.now();\r\n                picksCache.date = date;\r\n                picksCache.league = league;\r\n                return true;\r\n            }\r\n        }\r\n\r\n        // Fallback to in-memory cache\r\n        return picksCache.data &&\r\n               picksCache.league === league &&\r\n               picksCache.date === date &&\r\n               (Date.now() - picksCache.timestamp) < CACHE_DURATION_MS;\r\n    };\r\n\r\n    /**\r\n     * Fetch picks for a single league (helper for parallel fetching)\r\n     */\r\n    const fetchLeaguePicks = async (leagueName, date, fetcher) => {\r\n        try {\r\n            const result = await fetcher.fetchPicks(date);\r\n            const apiData = result.success ? result.data : result;\r\n            const modelStamp = extractModelStampFromResponse(apiData);\r\n            const picks = apiData?.picks || apiData?.plays || apiData?.predictions || apiData?.recommendations || [];\r\n\r\n            return {\r\n                league: leagueName,\r\n                picks: picks.map(pick => {\r\n                    const formatted = fetcher.formatPickForTable(pick);\r\n                    if (modelStamp && !formatted.modelStamp) formatted.modelStamp = modelStamp;\r\n                    return formatted;\r\n                }),\r\n                error: null\r\n            };\r\n        } catch (e) {\r\n            debugError(`[UNIFIED-FETCHER] ${leagueName} fetch error:`, e.message);\r\n            return {\r\n                league: leagueName,\r\n                picks: [],\r\n                error: e.message\r\n            };\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Fetch picks from all or specific league APIs IN PARALLEL\r\n     * @param {string} league - 'all', 'nba', 'ncaam', 'nfl', 'ncaaf', 'nhl', 'mlb'\r\n     * @param {string} date - 'today', 'tomorrow', or 'YYYY-MM-DD' (default: 'today')\r\n     * @param {Object} options - { skipCache: false, onLeagueComplete: null }\r\n     * @returns {Promise<Object>} Object with picks array, errors, and metadata\r\n     */\r\n    const fetchPicks = async function(league = 'all', date = 'today', options = {}) {\r\n        const { skipCache = false, onLeagueComplete = null } = options;\r\n\r\n        // Cache-first strategy: return cached data if valid\r\n        if (!skipCache && isCacheValid(league, date)) {\r\n            debugLog('[UNIFIED-FETCHER] Returning cached picks');\r\n            return picksCache.data;\r\n        }\r\n\r\n        if (window.ModelEndpointResolver?.ensureRegistryHydrated) {\r\n            window.ModelEndpointResolver.ensureRegistryHydrated();\r\n        }\r\n\r\n        const leagueUpper = league.toUpperCase();\r\n        const startTime = Date.now();\r\n        debugLog(`[UNIFIED-FETCHER] Fetching picks for: ${league}, date: ${date} (PARALLEL mode)`);\r\n\r\n        // Build list of fetchers to run in parallel\r\n        const fetchPromises = [];\r\n        const DISABLED_LEAGUES = new Set(window.WEEKLY_LINEUP_DISABLED_LEAGUES || ['NFL', 'NCAAF']);\r\n        const leagueFetchers = [\r\n            { name: 'NBA', fetcher: window.NBAPicksFetcher, match: leagueUpper === 'NBA' || league === 'all' },\r\n            { name: 'NCAAM', fetcher: window.NCAAMPicksFetcher, match: leagueUpper === 'NCAAM' || leagueUpper === 'NCAAB' || league === 'all' },\r\n            { name: 'NFL', fetcher: window.NFLPicksFetcher, match: !(DISABLED_LEAGUES.has('NFL')) && (leagueUpper === 'NFL' || league === 'all') },\r\n            { name: 'NCAAF', fetcher: window.NCAAFPicksFetcher, match: !(DISABLED_LEAGUES.has('NCAAF')) && (leagueUpper === 'NCAAF' || league === 'all') },\r\n            { name: 'NHL', fetcher: window.NHLPicksFetcher, match: leagueUpper === 'NHL' || league === 'all' },\r\n            { name: 'MLB', fetcher: window.MLBPicksFetcher, match: leagueUpper === 'MLB' || league === 'all' }\r\n        ];\r\n\r\n        for (const { name, fetcher, match } of leagueFetchers) {\r\n            if (match && fetcher) {\r\n                const promise = fetchLeaguePicks(name, date, fetcher).then(result => {\r\n                    // Progressive callback: notify when each league completes\r\n                    if (onLeagueComplete && result.picks.length > 0) {\r\n                        onLeagueComplete(result.league, result.picks);\r\n                    }\r\n                    return result;\r\n                });\r\n                fetchPromises.push(promise);\r\n            }\r\n        }\r\n\r\n        // Wait for all fetches to complete in parallel\r\n        const results = await Promise.allSettled(fetchPromises);\r\n\r\n        // Aggregate results\r\n        let allPicks = [];\r\n        const errors = [];\r\n\r\n        for (const result of results) {\r\n            if (result.status === 'fulfilled') {\r\n                const { league: leagueName, picks, error } = result.value;\r\n                if (picks.length > 0) {\r\n                    allPicks.push(...picks);\r\n                    debugLog(`[UNIFIED-FETCHER] ${leagueName}: ${picks.length} picks`);\r\n                }\r\n                if (error) {\r\n                    errors.push({ league: leagueName, error });\r\n                }\r\n            } else {\r\n                debugError('[UNIFIED-FETCHER] Fetch rejected:', result.reason);\r\n            }\r\n        }\r\n\r\n        const elapsed = Date.now() - startTime;\r\n        debugLog(`[UNIFIED-FETCHER] Completed in ${elapsed}ms - ${allPicks.length} total picks from ${fetchPromises.length} leagues`);\r\n\r\n        // Cache the results\r\n        const response = {\r\n            picks: allPicks,\r\n            errors,\r\n            meta: {\r\n                fetchedAt: new Date().toISOString(),\r\n                elapsedMs: elapsed,\r\n                leaguesQueried: fetchPromises.length\r\n            }\r\n        };\r\n\r\n        // Store in localStorage via DataCacheManager (5 min TTL)\r\n        if (window.DataCacheManager) {\r\n            const cacheKey = `picks_${league}_${date}`;\r\n            window.DataCacheManager.set(cacheKey, response, 5 * 60 * 1000);\r\n        }\r\n\r\n        // Also store in memory cache\r\n        picksCache.data = response;\r\n        picksCache.timestamp = Date.now();\r\n        picksCache.date = date;\r\n        picksCache.league = league;\r\n\r\n        return response;\r\n    };\r\n\r\n\r\n    /**\r\n     * Fetch picks and add them to the weekly lineup table\r\n     * @param {string} league - 'all', 'nba', 'ncaam', 'nfl', 'ncaaf'\r\n     * @param {string} date - 'today', 'tomorrow', or 'YYYY-MM-DD' (default: 'today')\r\n     * @param {Object} options - { skipCache: false }\r\n     */\r\n    const fetchAndDisplayPicks = async function(league = 'all', date = 'today', options = {}) {\r\n        const result = await fetchPicks(league, date, options);\r\n\r\n        // Handle API failures - notify user\r\n        const allApisFailed = result.picks.length === 0 && result.errors.length > 0;\r\n        if (allApisFailed) {\r\n            const failedLeagues = result.errors.map(e => e.league).join(', ');\r\n            if (window.WeeklyLineup?.showNotification) {\r\n                window.WeeklyLineup.showNotification(\r\n                    `Unable to load picks. API unavailable for: ${failedLeagues}`,\r\n                    'error'\r\n                );\r\n            }\r\n            // Show empty state in table\r\n            if (window.WeeklyLineup?.showEmptyState) {\r\n                window.WeeklyLineup.showEmptyState('No picks available. Please try again later.');\r\n            }\r\n            return result;\r\n        }\r\n\r\n        // Handle partial failures - warn user but continue\r\n        if (result.errors.length > 0 && result.picks.length > 0) {\r\n            const failedLeagues = result.errors.map(e => e.league).join(', ');\r\n            if (window.WeeklyLineup?.showNotification) {\r\n                window.WeeklyLineup.showNotification(\r\n                    `Some leagues unavailable: ${failedLeagues}`,\r\n                    'warning'\r\n                );\r\n            }\r\n        }\r\n\r\n        // Use WeeklyLineup.populateTable if available (weekly lineup page)\r\n        if (window.WeeklyLineup?.populateTable && result.picks.length > 0) {\r\n            // Transform picks to the format expected by populateWeeklyLineupTable\r\n            const formattedPicks = result.picks.map(pick => {\r\n                // Use awayTeam/homeTeam if provided, otherwise parse from game string\r\n                let awayTeam = pick.awayTeam || '';\r\n                let homeTeam = pick.homeTeam || '';\r\n\r\n                // Fallback: Parse game string \"Away @ Home\" to get teams\r\n                if (!awayTeam || !homeTeam) {\r\n                    const gameParts = (pick.game || '').split(' @ ');\r\n                    awayTeam = awayTeam || (gameParts[0] || '').trim();\r\n                    homeTeam = homeTeam || (gameParts[1] || '').trim();\r\n                }\r\n\r\n                // Parse edge percentage string to number\r\n                let edgeNum = 0;\r\n                if (typeof pick.edge === 'string') {\r\n                    edgeNum = parseFloat(pick.edge.replace('%', '')) || 0;\r\n                } else if (typeof pick.edge === 'number') {\r\n                    edgeNum = pick.edge;\r\n                }\r\n\r\n                const fireMeta = normalizeFireRating(\r\n                    pick.fire ?? pick.confidence ?? pick.fire_rating ?? pick.fireRating,\r\n                    edgeNum\r\n                );\r\n\r\n                return {\r\n                    date: pick.date || new Date().toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' }),\r\n                    time: pick.time || '',\r\n                    sport: pick.sport || 'NBA',\r\n                    awayTeam: awayTeam,\r\n                    homeTeam: homeTeam,\r\n                    segment: pick.segment || pick.period || 'FG',\r\n                    pickTeam: pick.pickTeam || pick.pick || '',\r\n                    pickType: (pick.pickType || pick.market || 'spread').toLowerCase(),\r\n                    pickDirection: pick.pickDirection || '',\r\n                    line: pick.line || '',\r\n                    odds: pick.odds || '-110',\r\n                    modelPrice: pick.modelPrice || '',\r\n                    modelSpread: pick.modelSpread || pick.modelPrice || '',\r\n                    edge: edgeNum,\r\n                    fire: fireMeta.fire,\r\n                    fireLabel: pick.fireLabel || fireMeta.fireLabel,\r\n                    rationale: pick.rationale || pick.reason || pick.notes || pick.explanation || '',\r\n                    modelStamp: pick.modelStamp || pick.model_version || pick.modelVersion || pick.modelTag || '',\r\n                    status: 'pending'\r\n                };\r\n            });\r\n\r\n            // Sort by edge (highest first)\r\n            formattedPicks.sort((a, b) => b.edge - a.edge);\r\n\r\n            window.WeeklyLineup.populateTable(formattedPicks);\r\n            debugLog(`[UNIFIED-FETCHER] Populated table with ${formattedPicks.length} picks`);\r\n\r\n            // Show success notification\r\n            if (window.WeeklyLineup.showNotification) {\r\n                window.WeeklyLineup.showNotification(`Loaded ${formattedPicks.length} picks`, 'success');\r\n            }\r\n        } else if (result.picks.length === 0) {\r\n            // No picks available (but no errors either - just no games today)\r\n            if (window.WeeklyLineup?.showEmptyState) {\r\n                window.WeeklyLineup.showEmptyState('No picks available for the selected date.');\r\n            }\r\n        }\r\n\r\n        return result;\r\n    };\r\n\r\n    /**\r\n     * Check health of all APIs\r\n     * @returns {Promise<Object>} Health status for each API\r\n     */\r\n    const checkAllHealth = async function() {\r\n        const health = {};\r\n\r\n        if (window.NBAPicksFetcher) {\r\n            health.nba = await window.NBAPicksFetcher.checkHealth();\r\n        }\r\n        if (window.NCAAMPicksFetcher) {\r\n            health.ncaam = await window.NCAAMPicksFetcher.checkHealth();\r\n        }\r\n        if (window.NFLPicksFetcher) {\r\n            health.nfl = await window.NFLPicksFetcher.checkHealth();\r\n        }\r\n        if (window.NCAAFPicksFetcher) {\r\n            health.ncaaf = await window.NCAAFPicksFetcher.checkHealth();\r\n        }\r\n        if (window.NHLPicksFetcher) {\r\n            health.nhl = await window.NHLPicksFetcher.checkHealth();\r\n        }\r\n        if (window.MLBPicksFetcher) {\r\n            health.mlb = await window.MLBPicksFetcher.checkHealth();\r\n        }\r\n\r\n        return health;\r\n    };\r\n\r\n    /**\r\n     * Clear the picks cache (useful when forcing refresh)\r\n     */\r\n    const clearCache = () => {\r\n        picksCache.data = null;\r\n        picksCache.timestamp = 0;\r\n        picksCache.date = null;\r\n        picksCache.league = null;\r\n    };\r\n\r\n    // Export\r\n    window.UnifiedPicksFetcher = {\r\n        fetchPicks,\r\n        fetchAndDisplayPicks,\r\n        checkAllHealth,\r\n        clearCache,\r\n        isCacheValid: (league, date) => isCacheValid(league, date)\r\n    };\r\n\r\n    console.log('[UNIFIED-FETCHER] v1.3 loaded - PARALLEL mode | Cache-first | 15s timeout');\r\n\r\n})();\r\n"],
  "mappings": "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",
  "names": ["isDebugEnabled", "originalLog", "originalWarn", "msg", "getApiUrl", "formatMoney", "val", "num", "formatMoneyValue", "getStatusLabel", "status", "getSegmentLabel", "segment", "getTeamAbbr", "teamName", "abbrs", "key", "words", "parseTeamsFromGame", "gameString", "separators", "sep", "parts", "escapeHtml", "text", "div", "formatFileSize", "bytes", "debounce", "func", "wait", "immediate", "timeout", "debounced", "args", "context", "later", "callNow", "throttle", "lastCall", "now", "remaining", "formatDate", "date", "d", "month", "day", "year", "formatTime", "CACHE_PREFIX", "set", "data", "ttl", "cacheKey", "entry", "err", "get", "raw", "remove", "clear", "fetchWithCache", "url", "options", "cached", "response", "has", "getStats", "cacheKeys", "k", "totalSize", "value", "DEFAULTS", "normKey", "league", "getApiEndpoint", "configKey", "fromConfig", "base", "getFunctionEndpoint", "ensureRegistryHydrated", "KNOWN_LEAGUES", "fetchWithTimeout", "timeoutMs", "controller", "timer", "hydrateEndpoints", "primaryBase", "fallbackBase", "functionsBase", "resolveRegistry", "res", "ct", "registry", "sources", "s", "source", "registryKeys", "allLeagues", "updatedCount", "oldEndpoint", "timeoutId", "error", "normalizeFireRating", "edgeFallback", "str", "upper", "map", "pct", "asNum", "getBaseApiUrl", "getFunctionsBase", "getContainerEndpoint", "sport", "resolved", "fallback", "BaseSportFetcher", "config", "primaryUrl", "fallbackUrl", "retryResponse", "endpoint", "fetcher", "dateParam", "play", "home", "away", "matchup", "pickText", "pickTeam", "pickType", "line", "lineMatch", "edge", "fireNum", "triggerInFlight", "triggerPicksIfNeeded", "proxyBase", "triggerKey", "triggerUrl", "resolve", "pick", "marketType", "timeStr", "dateStr", "timeParts", "awayTeam", "homeTeam", "pickDirection", "upperPick", "edgeValue", "dateToNFLSeasonWeek", "targetDate", "season", "startOfYear", "daysSinceStart", "week", "pickDisplay", "totalMatch", "ttMatch", "spreadMatch", "getCurrentSeasonWeek", "seasonStart", "weekNum", "isDebugMode", "debugLog", "debugWarn", "debugError", "picksCache", "CACHE_DURATION_MS", "extractModelStampFromResponse", "read", "obj", "path", "acc", "pickFirstString", "paths", "tag", "sha", "rawFire", "clamp", "n", "fire", "computed", "isCacheValid", "fetchLeaguePicks", "leagueName", "result", "apiData", "modelStamp", "picks", "formatted", "e", "fetchPicks", "skipCache", "onLeagueComplete", "leagueUpper", "startTime", "fetchPromises", "DISABLED_LEAGUES", "leagueFetchers", "name", "match", "promise", "results", "allPicks", "errors", "elapsed", "fetchAndDisplayPicks", "failedLeagues", "formattedPicks", "gameParts", "edgeNum", "fireMeta", "a", "b", "checkAllHealth", "health", "clearCache"]
}
