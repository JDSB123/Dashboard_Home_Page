(function(){"use strict";try{if(typeof window>"u")return;var f=window.DEBUG===!0||localStorage.getItem("DEBUG")==="true"||window.location.search.indexOf("debug=true")!==-1;if(window.DEBUG=f,!f&&typeof console<"u"){var a=console.log,s=console.warn;console.log=function(){},console.warn=function(){var t=arguments[0];typeof t=="string"&&/^[^\w]*[ðŸš€ðŸ”„âš ï¸ðŸ“¦ðŸ“ðŸŽ¯ðŸ“šðŸ“Šâœ…âŒðŸ”§ðŸ“–ðŸˆðŸ”â°ðŸšª]/.test(t)||s.apply(console,arguments)},window.__restoreConsole=function(){console.log=a,console.warn=s,window.DEBUG=!0}}}catch{}})(),function(){"use strict";function f(){return window.APP_CONFIG?.API_BASE_URL||"/api"}function a(d){if(!d)return"$0.00";const m=parseFloat(String(d).replace(/[$,]/g,""));return isNaN(m)?"$0.00":`$${m.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`}function s(d){if(!d)return"0.00";const m=parseFloat(String(d).replace(/[$,]/g,""));return isNaN(m)?"0.00":m.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function t(d){return{pending:"Pending","on-track":"On Track","at-risk":"At Risk",hit:"Hit",miss:"Miss",push:"Push"}[d]||d}function e(d){return{"full-game":"Full Game",fg:"Full Game","1h":"1st Half","2h":"2nd Half","1q":"1st Quarter","2q":"2nd Quarter","3q":"3rd Quarter","4q":"4th Quarter"}[(d||"").toLowerCase()]||d||"Full Game"}function o(d){if(!d)return"";const m={raiders:"LV","las vegas raiders":"LV",broncos:"DEN","denver broncos":"DEN",chiefs:"KC","kansas city chiefs":"KC",chargers:"LAC","los angeles chargers":"LAC",cowboys:"DAL","dallas cowboys":"DAL",eagles:"PHI","philadelphia eagles":"PHI",giants:"NYG","new york giants":"NYG",commanders:"WSH","washington commanders":"WSH",packers:"GB","green bay packers":"GB",bears:"CHI","chicago bears":"CHI",lions:"DET","detroit lions":"DET",vikings:"MIN","minnesota vikings":"MIN",falcons:"ATL","atlanta falcons":"ATL",saints:"NO","new orleans saints":"NO",panthers:"CAR","carolina panthers":"CAR",buccaneers:"TB","tampa bay buccaneers":"TB",bills:"BUF","buffalo bills":"BUF",dolphins:"MIA","miami dolphins":"MIA",jets:"NYJ","new york jets":"NYJ",patriots:"NE","new england patriots":"NE",bengals:"CIN","cincinnati bengals":"CIN",browns:"CLE","cleveland browns":"CLE",steelers:"PIT","pittsburgh steelers":"PIT",ravens:"BAL","baltimore ravens":"BAL",colts:"IND","indianapolis colts":"IND",jaguars:"JAX","jacksonville jaguars":"JAX",texans:"HOU","houston texans":"HOU",titans:"TEN","tennessee titans":"TEN",seahawks:"SEA","seattle seahawks":"SEA","49ers":"SF","san francisco 49ers":"SF",rams:"LAR","los angeles rams":"LAR",cardinals:"ARI","arizona cardinals":"ARI",lakers:"LAL","los angeles lakers":"LAL",clippers:"LAC","la clippers":"LAC",warriors:"GSW","golden state warriors":"GSW",suns:"PHX","phoenix suns":"PHX",celtics:"BOS","boston celtics":"BOS",nets:"BKN","brooklyn nets":"BKN",knicks:"NYK","new york knicks":"NYK","76ers":"PHI","philadelphia 76ers":"PHI",heat:"MIA","miami heat":"MIA",magic:"ORL","orlando magic":"ORL",bulls:"CHI","chicago bulls":"CHI",bucks:"MIL","milwaukee bucks":"MIL",cavaliers:"CLE","cleveland cavaliers":"CLE",pistons:"DET","detroit pistons":"DET",pacers:"IND","indiana pacers":"IND",hawks:"ATL","atlanta hawks":"ATL",hornets:"CHA","charlotte hornets":"CHA",wizards:"WAS","washington wizards":"WAS",raptors:"TOR","toronto raptors":"TOR",nuggets:"DEN","denver nuggets":"DEN",jazz:"UTA","utah jazz":"UTA",blazers:"POR","portland trail blazers":"POR",thunder:"OKC","oklahoma city thunder":"OKC",timberwolves:"MIN","minnesota timberwolves":"MIN",pelicans:"NOP","new orleans pelicans":"NOP",grizzlies:"MEM","memphis grizzlies":"MEM",spurs:"SAS","san antonio spurs":"SAS",rockets:"HOU","houston rockets":"HOU",mavericks:"DAL","dallas mavericks":"DAL",kings:"SAC","sacramento kings":"SAC"},p=d.toLowerCase().trim();if(m[p])return m[p];const h=d.trim().split(/\s+/);return h[h.length-1].substring(0,3).toUpperCase()}function n(d){if(!d)return{away:"",home:""};const m=["@"," vs "," vs. "," / "];for(const p of m)if(d.includes(p)){const h=d.split(p);return{away:h[0].trim(),home:h[1]?h[1].trim():""}}return{away:d.trim(),home:""}}function l(d){const m=document.createElement("div");return m.textContent=d,m.innerHTML}function r(d){return d<1024?d+" B":d<1024*1024?(d/1024).toFixed(1)+" KB":(d/(1024*1024)).toFixed(1)+" MB"}function i(d,m=150,p=!1){let h;function L(...v){const b=this,A=function(){h=null,p||d.apply(b,v)},y=p&&!h;clearTimeout(h),h=setTimeout(A,m),y&&d.apply(b,v)}return L.cancel=function(){clearTimeout(h),h=null},L}function c(d,m=100){let p=0,h=null;return function(...v){const b=this,A=Date.now(),y=m-(A-p);y<=0||y>m?(h&&(clearTimeout(h),h=null),p=A,d.apply(b,v)):h||(h=setTimeout(function(){p=Date.now(),h=null,d.apply(b,v)},y))}}function u(d){if(!d)return"TBD";const m=new Date(d);if(isNaN(m.getTime()))return"TBD";const p=(m.getMonth()+1).toString().padStart(2,"0"),h=m.getDate().toString().padStart(2,"0"),L=m.getFullYear();return`${p}/${h}/${L}`}function g(d){if(!d)return"TBD";const m=new Date(d);return isNaN(m.getTime())?"TBD":m.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}window.SharedUtils={getApiUrl:f,formatMoney:a,formatMoneyValue:s,getStatusLabel:t,getSegmentLabel:e,getTeamAbbr:o,parseTeamsFromGame:n,escapeHtml:l,formatFileSize:r,formatDate:u,formatTime:g,debounce:i,throttle:c}}(),function(){"use strict";let f=null;function a(){return f||(f=document.createElement("div"),f.id="notification-container",f.style.cssText=`
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 10001;
            display: flex;
            flex-direction: column;
            gap: 10px;
            max-width: 400px;
            pointer-events: none;
        `,document.body.appendChild(f),f)}function s(i,c="info",u=5e3){a();const g=document.createElement("div");g.className=`notification notification-${c}`;const d={success:{bg:"rgba(0, 214, 137, 0.95)",icon:"\u2713",border:"#00ffaa"},error:{bg:"rgba(229, 57, 53, 0.95)",icon:"\u2715",border:"#ff5f6d"},warning:{bg:"rgba(251, 140, 0, 0.95)",icon:"\u26A0",border:"#fb8c00"},info:{bg:"rgba(74, 182, 255, 0.95)",icon:"\u2139",border:"#4ab6ff"}},m=d[c]||d.info;return g.style.cssText=`
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 14px 18px;
            background: ${m.bg};
            border: 1px solid ${m.border};
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
            color: white;
            font-family: 'Cormorant Garamond', Georgia, serif;
            font-size: 0.95rem;
            font-weight: 500;
            line-height: 1.4;
            pointer-events: auto;
            opacity: 0;
            transform: translateX(100%);
            transition: opacity 0.3s ease, transform 0.3s ease;
        `,g.innerHTML=`
            <span style="font-size: 1.2rem; line-height: 1;">${m.icon}</span>
            <span style="flex: 1;">${i}</span>
            <button onclick="this.parentElement.remove()" style="
                background: none;
                border: none;
                color: white;
                opacity: 0.7;
                cursor: pointer;
                font-size: 1.2rem;
                padding: 0;
                line-height: 1;
            " onmouseover="this.style.opacity=1" onmouseout="this.style.opacity=0.7">\xD7</button>
        `,f.appendChild(g),requestAnimationFrame(()=>{g.style.opacity="1",g.style.transform="translateX(0)"}),u>0&&setTimeout(()=>{t(g)},u),g}function t(i){i&&(i.style.opacity="0",i.style.transform="translateX(100%)",setTimeout(()=>{i.remove()},300))}function e(i="Loading..."){const c=s(`<span class="loading-spinner"></span> ${i}`,"info",0),u=document.createElement("style");return u.textContent=`
            @keyframes spin {
                to { transform: rotate(360deg); }
            }
            .loading-spinner {
                display: inline-block;
                width: 14px;
                height: 14px;
                border: 2px solid rgba(255,255,255,0.3);
                border-top-color: white;
                border-radius: 50%;
                animation: spin 1s linear infinite;
                margin-right: 8px;
                vertical-align: middle;
            }
        `,document.querySelector("style[data-loading-spinner]")||(u.setAttribute("data-loading-spinner","true"),document.head.appendChild(u)),{dismiss:()=>t(c),update:g=>{const d=c.querySelector("span:nth-child(2)");d&&(d.innerHTML=`<span class="loading-spinner"></span> ${g}`)}}}function o(i,c){return s(i,"success",c)}function n(i,c=8e3){return s(i,"error",c)}function l(i,c){return s(i,"warning",c)}function r(i,c){return s(i,"info",c)}window.Notify={show:s,success:o,error:n,warning:l,info:r,loading:e}}();const DataCacheManager=(()=>{const f="gbsv_cache_";function s(i,c,u=3e5){try{const g=f+i,d={data:c,timestamp:Date.now(),ttl:u,version:window.APP_VERSION||"1.0.0"};localStorage.setItem(g,JSON.stringify(d))}catch(g){console.warn("[DataCache] Failed to cache:",i,g)}}function t(i){try{const c=f+i,u=localStorage.getItem(c);if(!u)return null;const g=JSON.parse(u);return Date.now()-g.timestamp>g.ttl||window.APP_VERSION&&g.version!==window.APP_VERSION?(localStorage.removeItem(c),null):g.data}catch(c){return console.warn("[DataCache] Failed to read cache:",i,c),null}}function e(i){try{const c=f+i;localStorage.removeItem(c)}catch(c){console.warn("[DataCache] Failed to remove:",i,c)}}function o(){try{Object.keys(localStorage).forEach(c=>{c.startsWith(f)&&localStorage.removeItem(c)})}catch(i){console.warn("[DataCache] Failed to clear:",i)}}async function n(i,c={},u=i,g=3e5){const d=t(u);if(d)return console.log("[DataCache] Hit:",u),d;console.log("[DataCache] Miss:",u);const m=await fetch(i,c);if(!m.ok)throw new Error(`HTTP ${m.status}: ${m.statusText}`);const p=await m.json();return s(u,p,g),p}function l(i){return t(i)!==null}function r(){try{const c=Object.keys(localStorage).filter(g=>g.startsWith(f));let u=0;return c.forEach(g=>{const d=localStorage.getItem(g);d&&(u+=d.length)}),{entries:c.length,sizeBytes:u,sizeKB:(u/1024).toFixed(2)}}catch{return{entries:0,sizeBytes:0,sizeKB:"0"}}}return{set:s,get:t,remove:e,clear:o,fetchWithCache:n,has:l,getStats:r}})();window.DataCacheManager=DataCacheManager;const LazyScriptLoader=(()=>{const f=new Set,a=new Map;function s(n,l={}){if(a.has(n))return a.get(n);if(f.has(n))return Promise.resolve();const r=new Promise((i,c)=>{const u=document.createElement("script");u.src=n,u.async=l.async!==!1,l.defer&&(u.defer=!0),l.type&&(u.type=l.type),l.crossOrigin&&(u.crossOrigin=l.crossOrigin),u.onload=()=>{f.add(n),a.delete(n),i()},u.onerror=()=>{a.delete(n),c(new Error(`Failed to load script: ${n}`))},document.head.appendChild(u)});return a.set(n,r),r}function t(n,l={}){return Promise.all(n.map(r=>s(r,l)))}function e(n,l={}){return new Promise(r=>{const i=()=>{const c=Array.isArray(n)?n:[n];t(c,l).then(r).catch(r)};document.readyState==="complete"?i():window.addEventListener("load",i)})}function o(n,l={}){return new Promise(r=>{const i=()=>{const c=Array.isArray(n)?n:[n];t(c,l).then(r).catch(r)};"requestIdleCallback"in window?requestIdleCallback(i,{timeout:2e3}):setTimeout(i,1e3)})}return{loadScript:s,loadScripts:t,loadAfterInteractive:e,loadWhenIdle:o}})();window.LazyScriptLoader=LazyScriptLoader,window.LogoLoader=(()=>{const f=window.APP_CONFIG&&window.APP_CONFIG.LOGO_BASE_URL||null,a=window.APP_CONFIG&&window.APP_CONFIG.LOGO_FALLBACK_URL||null,s="https://gbsvorchestratorstorage.blob.core.windows.net/team-logos",t=[f,a,s].filter(Boolean),e="https://a.espncdn.com/i/teamlogos",o=new Map;let n=null;async function l(){if(n)return n;for(const d of t)try{return await new Promise((m,p)=>{const h=new Image;h.onload=()=>m(),h.onerror=()=>p(new Error("probe failed"));const L=Date.now();h.src=`${d}/leagues-500-nba.png?probe=${L}`}),n=d,n}catch{}return n=t[0]||s,n}l();function r(){return n||t[0]||s}function i(d,m){const p=`${d}-${m}`;if(o.has(p))return o.get(p);const L={nba:"nba",nfl:"nfl",ncaam:"ncaa",ncaab:"ncaa",ncaaf:"ncaa",ncaf:"ncaa"}[d]||d;let b=`${r()}/${L}-500-${m}.png`;return o.set(p,b),b}function c(d){if(!d)return"";const m=d.toString().toLowerCase();if(m==="ncaab"||m==="ncaam"||m==="ncaa-basketball")return"/assets/icons/league-ncaam.svg";if(m==="ncaaf"||m==="ncaa-football")return"/assets/icons/league-ncaaf.svg";const h={nba:"leagues-500-nba.png",nfl:"leagues-500-nfl.png"}[m]||`leagues-500-${m}.png`,L=r();return L?`${L}/${h}`:`/assets/${m}-logo.png`}function u(d){d.forEach(m=>{const p=i(m.league,m.teamId),h=new Image;h.src=p})}function g(){return{cached:o.size,storageUrl:r(),fallbackUrl:e}}return{getLogoUrl:i,getLeagueLogoUrl:c,preloadLogos:u,getStats:g,AZURE_BLOB_URL:s,ESPN_CDN_URL:e}})(),window.LogoLoader=window.LogoLoader,function(){"use strict";const f=window.APP_CONFIG&&window.APP_CONFIG.LOGO_BASE_URL||null,a=window.APP_CONFIG&&window.APP_CONFIG.LOGO_FALLBACK_URL||null,t=f||a||"https://gbsvorchestratorstorage.blob.core.windows.net/team-logos";function e(i){if(!i)return null;try{const c=new URL(i,window.location.origin);if(!/espncdn\.com$/.test(c.hostname)&&!/\.espncdn\.com$/.test(c.hostname))return null;const u=c.pathname.split("/").filter(Boolean),g=u.indexOf("teamlogos");if(g===-1||u.length<g+3)return null;const d=u[g+1],m=u[g+2],p=u[g+3]||"";if(d==="leagues"){const b=p.replace(".png","");return b?`${t}/leagues-500-${b}.png`:null}const h=d,v=(m==="500"?p:m).replace(".png","");return!h||!v?null:`${t}/${h}-500-${v}.png`}catch{return null}}function o(i){if(!i||!i.src)return;const c=e(i.src);c&&c!==i.src&&(i.src=c)}function n(){document.querySelectorAll('img[src*="espncdn.com/i/teamlogos/"]').forEach(o)}const l=Object.getOwnPropertyDescriptor(HTMLImageElement.prototype,"src");if(l&&l.set){const i=l.set;Object.defineProperty(HTMLImageElement.prototype,"src",{configurable:!0,enumerable:l.enumerable,get:l.get,set(c){const u=e(c)||c;return i.call(this,u)}})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",n,{once:!0}):n(),new MutationObserver(i=>{i.forEach(c=>{c.addedNodes.forEach(u=>{u.tagName==="IMG"?o(u):u.querySelectorAll&&u.querySelectorAll("img").forEach(o)})})}).observe(document.documentElement||document.body,{childList:!0,subtree:!0}),window.LogoUrlRewriter={convertEspnUrl:e,rewriteExistingImages:n}}(),function(){"use strict";function f(n,l="error",r=5e3){if(window.Notifications&&typeof window.Notifications.show=="function"){window.Notifications.show(n,l,r);return}const i=document.createElement("div");i.className=`error-notification error-notification-${l}`,i.setAttribute("role","alert"),i.setAttribute("aria-live","polite");const c=l==="error"||l==="warning"?"\u26A0\uFE0F":"\u2139\uFE0F";if(i.innerHTML=`
            <span class="error-icon">${c}</span>
            <span class="error-message">${e(n)}</span>
            <button class="error-close" aria-label="Close notification">\xD7</button>
        `,!document.getElementById("error-notification-styles")){const g=document.createElement("style");g.id="error-notification-styles",g.textContent=`
                .error-notification {
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: rgba(220, 53, 69, 0.95);
                    color: white;
                    padding: 12px 16px;
                    border-radius: 8px;
                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
                    z-index: 10000;
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    max-width: 400px;
                    animation: slideIn 0.3s ease-out;
                }
                .error-notification-warning {
                    background: rgba(255, 193, 7, 0.95);
                    color: #000;
                }
                .error-notification-info {
                    background: rgba(0, 123, 255, 0.95);
                    color: white;
                }
                .error-notification .error-close {
                    background: none;
                    border: none;
                    color: inherit;
                    font-size: 20px;
                    cursor: pointer;
                    padding: 0;
                    margin-left: auto;
                    opacity: 0.8;
                }
                .error-notification .error-close:hover {
                    opacity: 1;
                }
                @keyframes slideIn {
                    from {
                        transform: translateX(100%);
                        opacity: 0;
                    }
                    to {
                        transform: translateX(0);
                        opacity: 1;
                    }
                }
            `,document.head.appendChild(g)}document.body.appendChild(i),i.querySelector(".error-close").addEventListener("click",()=>{i.remove()}),r>0&&setTimeout(()=>{i.style.animation="slideIn 0.3s ease-out reverse",setTimeout(()=>i.remove(),300)},r)}function a(n,l="API request"){let r="An error occurred";n instanceof Response?n.status===404?r=`${l}: Service not found`:n.status===500?r=`${l}: Server error`:n.status===403?r=`${l}: Access denied`:r=`${l}: HTTP ${n.status}`:n instanceof Error?r=`${l}: ${n.message}`:typeof n=="string"&&(r=`${l}: ${n}`),console.error(`[ErrorHandler] ${l}:`,n),f(r,"error")}function s(n,l="access"){const r=`Failed to ${l} local storage. Your data may not be saved.`;console.error(`[ErrorHandler] Storage ${l} error:`,n),f(r,"warning",7e3)}function t(n,l="data"){const r=`Failed to parse ${l}. Please check the format.`;console.error(`[ErrorHandler] Parse error (${l}):`,n),f(r,"error")}function e(n){const l=document.createElement("div");return l.textContent=n,l.innerHTML}function o(){window.addEventListener("error",n=>{console.error("[ErrorHandler] Uncaught error:",n.error),n.error&&n.error.message&&!n.error.message.includes("Script error")&&f("An unexpected error occurred. Please refresh the page.","error",1e4)}),window.addEventListener("unhandledrejection",n=>{console.error("[ErrorHandler] Unhandled promise rejection:",n.reason),a(n.reason,"Async operation")})}window.ErrorHandler={show:f,handleApi:a,handleStorage:s,handleParse:t,escapeHtml:e},o()}(),function(){"use strict";class f{constructor(){this.memoryCache=new Map,this.preloadQueue=[],this.batchSize=10,this.isPreloading=!1,this.localStorageKey="gbsv_logo_cache_v1",this.cacheVersion="1.0",this.maxCacheAge=24*60*60*1e3,this.maxCacheSize=100,this.loadFromLocalStorage(),this.getTeamLogo=this.getTeamLogo.bind(this),this.preloadLogos=this.preloadLogos.bind(this)}loadFromLocalStorage(){try{const t=localStorage.getItem(this.localStorageKey);if(t){const e=JSON.parse(t);if(e.version===this.cacheVersion){const o=Date.now();for(const[n,l]of Object.entries(e.logos||{}))o-l.timestamp<this.maxCacheAge&&this.memoryCache.set(n,l.url)}}}catch(t){console.warn("Failed to load logo cache from localStorage:",t)}}saveToLocalStorage(){try{const t={version:this.cacheVersion,logos:{}},e=Array.from(this.memoryCache.entries());e.length>this.maxCacheSize&&e.splice(this.maxCacheSize);for(const[o,n]of e)t.logos[o]={url:n,timestamp:Date.now()};localStorage.setItem(this.localStorageKey,JSON.stringify(t))}catch(t){console.warn("Failed to save logo cache to localStorage:",t)}}async getTeamLogo(t,e="nfl"){if(!t)return"";const o=`${e}:${t.toLowerCase()}`;if(this.memoryCache.has(o))return this.memoryCache.get(o);if(window.APP_CONFIG&&window.APP_CONFIG.API_BASE_URL)try{const r=await fetch(`${window.APP_CONFIG.API_BASE_URL}/get-logo?team=${encodeURIComponent(t)}&league=${encodeURIComponent(e)}`);if(r.ok){const c=(await r.json()).logoUrl;return this.memoryCache.set(o,c),this.saveToLocalStorage(),c}}catch(r){console.warn(`Failed to fetch logo from API for ${t}:`,r)}const l=this.generateLogoUrl(t,e);return this.memoryCache.set(o,l),this.saveToLocalStorage(),l}generateLogoUrl(t,e){const o=this.normalizeTeamName(t,e);if(window.LogoLoader&&typeof window.LogoLoader.getLogoUrl=="function")return window.LogoLoader.getLogoUrl(e,o);const n=window.APP_CONFIG&&(window.APP_CONFIG.LOGO_BASE_URL||window.APP_CONFIG.LOGO_FALLBACK_URL)||"https://gbsvorchestratorstorage.blob.core.windows.net/team-logos";if(e==="ncaaf"||e==="college"){const l=this.getNCAATeamId(t)||"default";return`${n}/ncaa-500-${l}.png`}return`${n}/${e}-500-${o}.png`}normalizeTeamName(t,e){const o=t.toLowerCase().replace(/[^a-z0-9]/g,"");return{raiders:"lv",lasvegas:"lv",lasvegasraiders:"lv","49ers":"sf",sanfrancisco:"sf",rams:"lar",larams:"lar",chargers:"lac",lachargers:"lac",cardinals:"ari",arizona:"ari",packers:"gb",greenbay:"gb",patriots:"ne",newengland:"ne",saints:"no",neworleans:"no",buccaneers:"tb",tampabay:"tb",commanders:"wsh",washington:"wsh"}[o]||t.toLowerCase().substring(0,3)}getNCAATeamId(t){const e={alabama:"333",georgia:"61",ohiostate:"194",michigan:"130",texas:"251",oklahoma:"201"},o=t.toLowerCase().replace(/[^a-z]/g,"");return e[o]||null}async preloadLogos(t){if(this.isPreloading||!t||t.length===0)return;this.isPreloading=!0;const e=new Set;for(const n of t){const l=n.league||n.sport||"nfl";n.awayTeam&&e.add(`${l}:${n.awayTeam}`),n.homeTeam&&e.add(`${l}:${n.homeTeam}`)}const o=Array.from(e);for(let n=0;n<o.length;n+=this.batchSize){const l=o.slice(n,n+this.batchSize);await Promise.all(l.map(r=>{const[i,c]=r.split(":");return this.getTeamLogo(c,i).catch(u=>(console.warn(`Failed to preload logo for ${c}:`,u),""))})),n+this.batchSize<o.length&&await new Promise(r=>setTimeout(r,100))}this.isPreloading=!1}clearCache(){this.memoryCache.clear();try{localStorage.removeItem(this.localStorageKey)}catch(t){console.warn("Failed to clear localStorage cache:",t)}}getCacheStats(){return{memorySize:this.memoryCache.size,localStorageKey:this.localStorageKey,maxAge:this.maxCacheAge,maxSize:this.maxCacheSize,isPreloading:this.isPreloading}}}const a=new f;if(window.LogoCache=a,window.getCachedTeamLogo=a.getTeamLogo,window.preloadTeamLogos=a.preloadLogos,typeof window.getTeamLogo=="function"){const s=window.getTeamLogo;window.getTeamLogo=function(t,e){return a.getTeamLogo(t,e).catch(()=>s(t,e))}}else window.getTeamLogo=a.getTeamLogo;console.log("Logo cache initialized")}(),function(){"use strict";const f={isLoading:!1,loadingOverlay:null,init(){this.createLoadingOverlay(),this.setupNavLinkHandlers(),this.setupLinkPrefetch(),this.setupHistoryHandler(),window.addEventListener("load",()=>this.hideLoading()),document.addEventListener("DOMContentLoaded",()=>this.hideLoading()),setTimeout(()=>this.hideLoading(),1500)},createLoadingOverlay(){if(!document.getElementById("page-transition-overlay")){const a=document.createElement("div");if(a.id="page-transition-overlay",a.className="page-transition-overlay",a.innerHTML=`
                    <div class="page-transition-content">
                        <div class="page-transition-spinner"></div>
                        <p class="page-transition-text">Loading...</p>
                    </div>
                `,document.body.appendChild(a),!document.getElementById("page-transition-styles")){const s=document.createElement("style");s.id="page-transition-styles",s.textContent=`
                        .page-transition-overlay {
                            position: fixed;
                            top: 0;
                            left: 0;
                            right: 0;
                            bottom: 0;
                            background: rgba(3, 11, 22, 0.95);
                            backdrop-filter: blur(2px);
                            z-index: 99998;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            opacity: 0;
                            visibility: hidden;
                            transition: opacity 0.3s ease, visibility 0.3s ease;
                            pointer-events: none;
                        }

                        .page-transition-overlay.visible {
                            opacity: 1;
                            visibility: visible;
                            pointer-events: auto;
                        }

                        .page-transition-content {
                            text-align: center;
                            display: flex;
                            flex-direction: column;
                            align-items: center;
                            gap: 16px;
                        }

                        .page-transition-spinner {
                            width: 40px;
                            height: 40px;
                            border: 3px solid rgba(0, 214, 137, 0.2);
                            border-top-color: #00d689;
                            border-radius: 50%;
                            animation: pageTransitionSpin 1s linear infinite;
                        }

                        @keyframes pageTransitionSpin {
                            to { transform: rotate(360deg); }
                        }

                        .page-transition-text {
                            color: rgba(214, 232, 236, 0.8);
                            font-family: 'Cormorant Garamond', Georgia, serif;
                            font-size: 0.95rem;
                            letter-spacing: 0.05em;
                            margin: 0;
                        }

                        /* Fade in body content when new page loads */
                        body {
                            animation: pageContentFadeIn 0.4s ease forwards;
                        }

                        @keyframes pageContentFadeIn {
                            from {
                                opacity: 0.95;
                            }
                            to {
                                opacity: 1;
                            }
                        }

                        /* Smooth fade out on page exit */
                        body.page-exiting {
                            animation: pageContentFadeOut 0.3s ease forwards;
                        }

                        @keyframes pageContentFadeOut {
                            from {
                                opacity: 1;
                            }
                            to {
                                opacity: 0.95;
                            }
                        }
                    `,document.head.appendChild(s)}}this.loadingOverlay=document.getElementById("page-transition-overlay")},setupNavLinkHandlers(){document.addEventListener("click",a=>{const s=a.target.closest("a.nav-link");if(s&&!s.hasAttribute("aria-disabled")){const t=s.getAttribute("href");if(t&&!t.startsWith("http")&&!t.startsWith("#")){const e=(location.pathname.split("/").pop()||"index.html").toLowerCase(),o=(t.split("/").pop()||"index.html").toLowerCase();e!==o&&(a.preventDefault(),this.transitionToPage(t))}}},!0)},transitionToPage(a){this.isLoading||(this.isLoading=!0,this.showLoading(),setTimeout(()=>{window.location.href=a},100))},showLoading(){this.loadingOverlay&&this.loadingOverlay.classList.add("visible")},hideLoading(){this.loadingOverlay&&this.loadingOverlay.classList.remove("visible"),this.isLoading=!1},setupLinkPrefetch(){document.querySelectorAll("a.nav-link").forEach(s=>{s.addEventListener("mouseenter",()=>{const t=s.getAttribute("href");if(t&&!document.querySelector(`link[rel="prefetch"][href="${t}"]`)){const e=document.createElement("link");e.rel="prefetch",e.href=t,document.head.appendChild(e)}})})},setupHistoryHandler(){window.addEventListener("pageshow",()=>{this.hideLoading()}),window.addEventListener("pagehide",()=>{this.showLoading()})}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>f.init()):f.init(),window.PageTransitionHandler=f}(),function(){"use strict";const f={},a=o=>String(o||"").toLowerCase(),s=o=>{const n=a(o),l=`${n.toUpperCase()}_API_URL`,r=window.APP_CONFIG?.[l];if(r&&typeof r=="string")return r;const i=window.APP_CONFIG?.API_BASE_FALLBACK||window.APP_CONFIG?.API_BASE_URL||`${window.location.origin}/api`;return i?`${i}/${n}`:f[n]?.api||""},t=o=>{const n=a(o),l=`${n.toUpperCase()}_FUNCTION_URL`,r=window.APP_CONFIG?.[l];return r&&typeof r=="string"?r:f[n]?.func||""},e=async()=>{if(window.ModelEndpointBootstrap?.hydrate)try{await window.ModelEndpointBootstrap.hydrate()}catch(o){console.warn("[MODEL-ENDPOINT-RESOLVER] Registry hydrate failed:",o.message)}};window.ModelEndpointResolver={getApiEndpoint:s,getFunctionEndpoint:t,ensureRegistryHydrated:e}}(),function(){"use strict";const a=["nba","ncaam","nfl","ncaaf","nhl","mlb"],s=async(e,o=6e3)=>{const n=new AbortController,l=setTimeout(()=>n.abort(),o);try{const r=await fetch(e,{signal:n.signal,headers:{Accept:"application/json"}});return clearTimeout(l),r}catch(r){throw clearTimeout(l),r}},t=async()=>{if(!window.APP_CONFIG?.DYNAMIC_REGISTRY_ENABLED){console.log("[MODEL-ENDPOINTS] Dynamic registry disabled - using static config.js endpoints"),console.log("[MODEL-ENDPOINTS] \u2022 To enable dynamic registry, set DYNAMIC_REGISTRY_ENABLED: true in config.js"),console.log("[MODEL-ENDPOINTS] \u2022 Requires Azure Functions deployment with ModelRegistry function"),window.APP_CONFIG.MODEL_ENDPOINTS_SOURCE="static",window.APP_CONFIG.MODEL_ENDPOINTS_LAST_UPDATED=new Date().toISOString();return}const e=window.APP_CONFIG?.API_BASE_URL,o=window.APP_CONFIG?.API_BASE_FALLBACK,n=window.APP_CONFIG?.FUNCTIONS_BASE_URL,l=async d=>{if(!d)return null;const m=`${d}/registry`;console.log("[MODEL-ENDPOINTS] Fetching model endpoints from registry:",m);const p=await s(m);if(!p.ok)throw new Error(`Registry request failed: ${p.status}`);const h=(p.headers.get("content-type")||"").toLowerCase();if(!h.includes("application/json"))throw new Error(`Unexpected content-type: ${h}`);return await p.json()};let r=null;const i=[{name:"primary",base:e},{name:"fallback",base:o},{name:"functions",base:n?`${n}/api`:null}].filter(d=>d.base);for(const d of i)try{if(r=await l(d.base),r){console.log(`[MODEL-ENDPOINTS] \u2022 Registry loaded from ${d.name}`);break}}catch(m){console.warn(`[MODEL-ENDPOINTS] ${d.name} registry fetch failed:`,m.message)}if(!r){console.warn("[MODEL-ENDPOINTS] Unable to refresh endpoints from registry (all sources failed)"),console.log("[MODEL-ENDPOINTS] \u2022 Using fallback endpoints from config.js"),console.log("[MODEL-ENDPOINTS] \u2022 Consider setting DYNAMIC_REGISTRY_ENABLED: false if registry not deployed"),window.APP_CONFIG.MODEL_ENDPOINTS_SOURCE="static-fallback";return}const c=Object.keys(r||{}),u=[...new Set([...a,...c])];let g=0;u.forEach(d=>{const m=r?.[d];if(m?.endpoint){const p=`${d.toUpperCase()}_API_URL`,h=window.APP_CONFIG[p];window.APP_CONFIG[p]=m.endpoint,g++,h!==m.endpoint&&console.log(`[MODEL-ENDPOINTS] Updated ${d.toUpperCase()} endpoint: ${m.endpoint}`)}}),window.APP_CONFIG.MODEL_ENDPOINTS_LAST_UPDATED=new Date().toISOString(),window.APP_CONFIG.MODEL_ENDPOINTS_COUNT=g,window.APP_CONFIG.MODEL_ENDPOINTS_SOURCE="registry",g>0&&console.log(`[MODEL-ENDPOINTS] Hydrated ${g} endpoints from registry`),console.log(`[MODEL-ENDPOINTS] \u2022 Registry hydration complete - ${g} endpoints updated`)};t(),window.ModelEndpointBootstrap={hydrate:t,getKnownLeagues:()=>a}}(),function(){"use strict";async function s(r,i=15e3){const c=new AbortController,u=setTimeout(()=>c.abort(),i);try{const g=await fetch(r,{signal:c.signal});return clearTimeout(u),g}catch(g){throw clearTimeout(u),g.name==="AbortError"?new Error(`Request timed out after ${i}ms`):g}}function t(r,i=0){const c=(r??"").toString().trim(),u=c.toUpperCase(),g={MAX:5,ELITE:5,STRONG:4,GOOD:3,STANDARD:2,LOW:1};if(u in g)return g[u];if(c.includes("%")){const m=parseFloat(c.replace("%",""));if(!Number.isNaN(m))return m>=80?5:m>=65?4:m>=50?3:m>=35?2:1}const d=parseInt(c,10);return!Number.isNaN(d)&&c!==""?Math.max(0,Math.min(5,d)):typeof i=="number"&&i>0?Math.max(0,Math.min(5,Math.ceil(i/1.5))):3}function e(){return window.APP_CONFIG?.API_BASE_URL||window.APP_CONFIG?.API_BASE_FALLBACK||`${window.location.origin}/api`}function o(){return window.APP_CONFIG?.FUNCTIONS_BASE_URL||window.location.origin}function n(r){const i=window.ModelEndpointResolver?.getApiEndpoint(r);if(i)return i;const c=`${r.toUpperCase()}_API_URL`,u=window.APP_CONFIG?.[c];if(u)return u;const g=window.APP_CONFIG?.API_BASE_FALLBACK;return g?`${g}/${r.toLowerCase()}`:""}function l(r){this.sport=r.sport,this.tag=r.tag||`[${r.sport}-FETCHER]`,this.buildPrimaryUrl=r.buildPrimaryUrl,this.buildFallbackUrl=r.buildFallbackUrl,this.formatPickForTable=r.formatPickForTable,this.timeoutMs=r.timeoutMs||15e3,this.cacheDurationMs=r.cacheDurationMs||6e4,this.onFetchFail=r.onFetchFail||null,this._cache={},this._lastSource=null}l.prototype.fetchPicks=async function(r){r=r||"today",window.ModelEndpointResolver?.ensureRegistryHydrated&&window.ModelEndpointResolver.ensureRegistryHydrated();const i=this._cache[r];if(i&&Date.now()-i.timestamp<this.cacheDurationMs)return i.data;const c=this.buildPrimaryUrl(r);try{let u=await s(c,this.timeoutMs);if(u.ok)this._lastSource="primary";else{const d=this.buildFallbackUrl(r);if(d&&(u=await s(d,this.timeoutMs)),!u.ok&&this.onFetchFail){const m=await this.onFetchFail(r,u);m&&(u=m)}if(!u.ok)throw new Error(`${this.tag} All routes failed (${u.status})`);this._lastSource="fallback"}const g=await u.json();return this._cache[r]={data:g,timestamp:Date.now()},g}catch(u){throw u}},l.prototype.checkHealth=async function(){const r=n(this.sport.toLowerCase());try{const i=await s(`${r}/health`,5e3);return i.ok?{status:"healthy",...await i.json(),containerApp:r}:{status:"error",code:i.status,containerApp:r}}catch(i){return{status:"error",message:i.message,containerApp:r}}},l.prototype.clearCache=function(r){r?delete this._cache[r]:this._cache={}},l.prototype.getCache=function(r){return this._cache[r||"today"]?.data||null},l.prototype.getLastSource=function(){return this._lastSource},window.BaseSportFetcher=l,window.BaseSportFetcher.utils={fetchWithTimeout:s,normalizeFireRating:t,getBaseApiUrl:e,getFunctionsBase:o,getContainerEndpoint:n}}();class NavigationManager{constructor(){this.dropdowns=[],this.navLinks=null,this.isInitialized=!1,this.mobileMenuOpen=!1,this.mobileMenuToggle=null,this.mobileMenuOverlay=null,this.init()}init(){if(this.isInitialized)return;this.setupMobileMenu(),document.querySelectorAll(".nav-dropdown").forEach(s=>{const t=s.querySelector(".nav-dropdown-trigger"),e=s.querySelector(".nav-dropdown-menu");t&&e&&(this.dropdowns.push({dropdown:s,trigger:t,menu:e}),this.setupDropdown(s,t,e))}),this.navLinks=document.querySelectorAll(".nav-link"),this.setupKeyboardNavigation(),this.setupResponsiveBehavior(),this.setupAccessibility(),this.setupNavState(),this.setupTableScrollIndicators(),this.isInitialized=!0}setupMobileMenu(){const a=document.querySelector(".brand-nav"),s=document.querySelector(".nav-links");!a||!s||(document.querySelector(".mobile-menu-toggle")?this.mobileMenuToggle=document.querySelector(".mobile-menu-toggle"):(this.mobileMenuToggle=document.createElement("button"),this.mobileMenuToggle.className="mobile-menu-toggle",this.mobileMenuToggle.setAttribute("aria-label","Toggle navigation menu"),this.mobileMenuToggle.setAttribute("aria-expanded","false"),this.mobileMenuToggle.innerHTML="<span></span>",a.insertBefore(this.mobileMenuToggle,a.firstChild)),document.querySelector(".mobile-menu-overlay")?this.mobileMenuOverlay=document.querySelector(".mobile-menu-overlay"):(this.mobileMenuOverlay=document.createElement("div"),this.mobileMenuOverlay.className="mobile-menu-overlay",document.body.appendChild(this.mobileMenuOverlay)),this.mobileMenuToggle.addEventListener("click",t=>{t.stopPropagation(),this.toggleMobileMenu()}),this.mobileMenuOverlay.addEventListener("click",()=>{this.closeMobileMenu()}),s.querySelectorAll(".nav-link:not(.nav-dropdown-trigger)").forEach(t=>{t.addEventListener("click",()=>{this.closeMobileMenu()})}),document.addEventListener("keydown",t=>{t.key==="Escape"&&this.mobileMenuOpen&&this.closeMobileMenu()}))}toggleMobileMenu(){this.mobileMenuOpen=!this.mobileMenuOpen;const a=document.querySelector(".nav-links");this.mobileMenuOpen?(a?.classList.add("mobile-open"),this.mobileMenuToggle?.classList.add("active"),this.mobileMenuOverlay?.classList.add("active"),this.mobileMenuToggle?.setAttribute("aria-expanded","true"),document.body.style.overflow="hidden"):(a?.classList.remove("mobile-open"),this.mobileMenuToggle?.classList.remove("active"),this.mobileMenuOverlay?.classList.remove("active"),this.mobileMenuToggle?.setAttribute("aria-expanded","false"),document.body.style.overflow="")}closeMobileMenu(){this.mobileMenuOpen&&(this.mobileMenuOpen=!1,document.querySelector(".nav-links")?.classList.remove("mobile-open"),this.mobileMenuToggle?.classList.remove("active"),this.mobileMenuOverlay?.classList.remove("active"),this.mobileMenuToggle?.setAttribute("aria-expanded","false"),document.body.style.overflow="")}setupTableScrollIndicators(){document.querySelectorAll(".table-container").forEach(s=>{const t=()=>{const e=s.scrollLeft,o=s.scrollWidth,n=s.clientWidth;e<o-n-5?s.classList.add("scroll-right"):s.classList.remove("scroll-right"),e>5?s.classList.add("scroll-left"):s.classList.remove("scroll-left")};s.addEventListener("scroll",t),window.addEventListener("resize",t),setTimeout(t,100)})}setupDropdown(a,s,t){s.addEventListener("click",e=>{e.stopPropagation(),this.toggleDropdown(a,s,t)}),s.addEventListener("keydown",e=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),e.stopPropagation(),this.toggleDropdown(a,s,t))}),document.addEventListener("click",e=>{a.contains(e.target)||this.closeDropdown(a,s,t)}),document.addEventListener("keydown",e=>{e.key==="Escape"&&a.classList.contains("open")&&(this.closeDropdown(a,s,t),s.focus())}),a.querySelector(".sportsbook-card")&&(this.setupSyncHandlers(t),t.querySelectorAll(".add-book-btn-compact").forEach(o=>{o.addEventListener("click",n=>{n.preventDefault(),this.handleAddSportsbook()})}))}setupSyncHandlers(a){a.querySelectorAll(".sportsbook-fetch-btn-compact, .sportsbook-fetch-compact, .sportsbook-fetch-btn-sleek, .sportsbook-fetch-inline").forEach(t=>{t.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation();const o=t.closest(".sportsbook-card"),n=o.querySelector(".sportsbook-name")?.textContent||"Sportsbook";this.handleSync(o,n)})})}handleSync(a,s){a.classList.add("syncing"),this.showNotification(`Syncing picks from ${s}...`,"info"),setTimeout(()=>{a.classList.remove("syncing");const t=a.querySelector(".sync-time");t&&(t.textContent="Just now"),this.showNotification(`Successfully synced picks from ${s}`,"success")},2e3)}handleAddSportsbook(){this.showNotification("Add Sportsbook feature coming soon","info")}showNotification(a,s="info"){const t=document.createElement("div");t.className=`notification notification-${s}`,t.textContent=a;const l=s==="error"?"linear-gradient(135deg, rgba(20, 20, 30, 0.95), rgba(40, 40, 50, 0.92))":s==="success"?"linear-gradient(135deg, rgba(0, 214, 137, 0.95), rgba(60, 255, 181, 0.92))":"linear-gradient(135deg, rgba(6, 28, 20, 0.95), rgba(16, 58, 40, 0.92))",r=s==="error"?"rgba(214, 40, 40, 0.5)":"rgba(60, 255, 181, 0.7)",i=s==="error"?"#FF6B6B":s==="success"?"#03150e":"#e8f0f2",c=s==="error"?"0 18px 32px rgba(0, 0, 0, 0.5)":"0 18px 32px rgba(60, 255, 181, 0.35)";t.style.cssText=`
            position: fixed;
            top: 24px;
            right: 24px;
            background: ${l};
            color: ${i};
            padding: 14px 22px;
            border-radius: 14px;
            border: 1px solid ${r};
            z-index: 999999;
            font-family: 'Cormorant Garamond', Georgia, serif;
            font-size: 14px;
            font-weight: 600;
            letter-spacing: 0.4px;
            box-shadow: ${c};
            backdrop-filter: blur(14px);
            text-shadow: ${s==="error"?"none":"0 1px 1px rgba(0, 0, 0, 0.15)"};
            animation: slideIn 0.3s ease-out;
        `,document.body.appendChild(t),setTimeout(()=>{t.style.animation="slideOut 0.3s ease-in forwards",setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},300)},3e3)}toggleDropdown(a,s,t){const e=!a.classList.contains("open");this.dropdowns.forEach(({dropdown:o,trigger:n,menu:l})=>{o!==a&&o.classList.contains("open")&&this.closeDropdown(o,n,l)}),a.classList.toggle("open",e),s.setAttribute("aria-expanded",e),t&&(e?(t.removeAttribute("hidden"),t.offsetHeight):setTimeout(()=>{a.classList.contains("open")||t.setAttribute("hidden","")},200))}closeDropdown(a,s,t){a.classList.remove("open"),s.setAttribute("aria-expanded","false"),t&&setTimeout(()=>{a.classList.contains("open")||t.setAttribute("hidden","")},200)}closeAllDropdowns(){this.dropdowns.forEach(({dropdown:a,trigger:s,menu:t})=>{this.closeDropdown(a,s,t)})}setupKeyboardNavigation(){this.navLinks.forEach(a=>{a.addEventListener("keydown",s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),a.click())})})}setupResponsiveBehavior(){let a;window.addEventListener("resize",()=>{clearTimeout(a),a=setTimeout(()=>{this.handleResize()},100)})}handleResize(){window.innerWidth<=768&&this.closeAllDropdowns(),window.innerWidth>767&&this.mobileMenuOpen&&this.closeMobileMenu()}setupAccessibility(){this.dropdowns.forEach(({dropdown:a,trigger:s,menu:t})=>{if(s){s.setAttribute("aria-expanded","false"),s.setAttribute("aria-haspopup","true");const e=t?.getAttribute("id");e&&s.setAttribute("aria-controls",e)}if(t){t.setAttribute("role","menu");const e=s?.getAttribute("id");e&&t.setAttribute("aria-labelledby",e)}}),this.setupScreenReaderSupport()}setupScreenReaderSupport(){let a=document.getElementById("navigation-live-region");a||(a=document.createElement("div"),a.id="navigation-live-region",a.setAttribute("aria-live","polite"),a.setAttribute("aria-atomic","true"),a.className="sr-only",document.body.appendChild(a)),this.liveRegion=a}openDropdown(a,s,t){a.classList.contains("open")||this.toggleDropdown(a,s,t)}setupNavState(){try{const a=document.querySelectorAll(".nav-link"),s=(location.pathname.split("/").pop()||"").toLowerCase();a.forEach(t=>{const e=(t.getAttribute("href")||"").toLowerCase();if(t.getAttribute("aria-disabled")==="true"){t.classList.remove("active"),t.removeAttribute("aria-current");return}const n=!!e&&(e===s||s===""&&e==="index.html");t.classList.toggle("active",n),n?t.setAttribute("aria-current","page"):t.removeAttribute("aria-current")})}catch{}}destroy(){this.isInitialized=!1}}const styleSheet=document.createElement("style");styleSheet.textContent=`
    @keyframes slideIn {
        from {
            opacity: 0;
            transform: translateX(20px);
        }
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }
    @keyframes slideOut {
        from {
            opacity: 1;
            transform: translateX(0);
        }
        to {
            opacity: 0;
            transform: translateX(20px);
        }
    }
    .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
    }
`,document.head.appendChild(styleSheet);class BackToTopButton{constructor(){this.button=document.getElementById("back-to-top"),this.scrollThreshold=200,this.button&&this.init()}init(){let a=!1;window.addEventListener("scroll",()=>{a||(window.requestAnimationFrame(()=>{this.handleScroll(),a=!1}),a=!0)}),this.button.addEventListener("click",()=>{this.scrollToTop()}),this.handleScroll()}handleScroll(){window.scrollY>this.scrollThreshold?this.button.classList.add("visible"):this.button.classList.remove("visible")}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}}document.addEventListener("DOMContentLoaded",()=>{window.navigationManager=new NavigationManager,window.backToTopButton=new BackToTopButton}),typeof module<"u"&&module.exports&&(module.exports=NavigationManager),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("form.sportsbook-actions-row, form.sportsbook-credentials-group").forEach(f=>{f.addEventListener("submit",a=>a.preventDefault())})}),function(){"use strict";class f{constructor(){this.isOpen=!1,this.drawer=null,this.overlay=null,this.hamburger=null,this.initialized=!1}init(){this.initialized||window.innerWidth>767||(this._createDrawer(),this._createOverlay(),this._setupHamburger(),this._setupEventListeners(),this.initialized=!0,console.log("Mobile navigation drawer initialized"))}_createDrawer(){this.drawer=document.createElement("nav"),this.drawer.id="mobile-nav-drawer",this.drawer.className="mobile-nav-drawer",this.drawer.innerHTML=`
                <div class="drawer-header">
                    <img src="/assets/Logo%208.5.png" alt="GBSV" class="drawer-logo">
                    <button class="drawer-close" aria-label="Close menu">\xD7</button>
                </div>
                <ul class="drawer-menu">
                    <li><a href="/index.html" class="drawer-link ${this._isActive("/index.html")?"active":""}">
                        <span class="drawer-icon">\u{1F4CA}</span> Dashboard
                    </a></li>
                    <li><a href="/weekly-lineup.html" class="drawer-link ${this._isActive("/weekly-lineup.html")?"active":""}">
                        <span class="drawer-icon">\u{1F4CB}</span> Weekly Lineup
                    </a></li>
                    <li><a href="/odds-market.html" class="drawer-link ${this._isActive("/odds-market.html")?"active":""}">
                        <span class="drawer-icon">\u{1F4C8}</span> Odds Market
                    </a></li>
                    <li><a href="/picks-tracker.html" class="drawer-link ${this._isActive("/picks-tracker.html")?"active":""}">
                        <span class="drawer-icon">\u{1F3AF}</span> Picks Tracker
                    </a></li>
                </ul>
                <div class="drawer-section">
                    <h4 class="drawer-section-title">Quick Actions</h4>
                    <ul class="drawer-menu drawer-actions">
                        <li><button class="drawer-btn" id="drawer-fetch-all">
                            <span class="drawer-icon">\u{1F504}</span> Fetch All Picks
                        </button></li>
                        <li><button class="drawer-btn" id="drawer-manual-pick">
                            <span class="drawer-icon">\u270F\uFE0F</span> Manual Pick Entry
                        </button></li>
                    </ul>
                </div>
                <div class="drawer-footer">
                    <div class="drawer-status">
                        <span class="status-dot online"></span>
                        <span>Connected</span>
                    </div>
                    <div class="drawer-version">v34.00.0</div>
                </div>
            `,document.body.appendChild(this.drawer),this._injectStyles()}_createOverlay(){this.overlay=document.createElement("div"),this.overlay.id="mobile-nav-overlay",this.overlay.className="mobile-nav-overlay",document.body.appendChild(this.overlay)}_setupHamburger(){if(this.hamburger=document.querySelector(".mobile-hamburger, .hamburger-menu, #hamburger-btn"),!this.hamburger){this.hamburger=document.createElement("button"),this.hamburger.id="hamburger-btn",this.hamburger.className="hamburger-btn",this.hamburger.setAttribute("aria-label","Open menu"),this.hamburger.innerHTML=`
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                `;const t=document.querySelector("header, .header, .mobile-header");t?t.insertBefore(this.hamburger,t.firstChild):document.body.insertBefore(this.hamburger,document.body.firstChild)}}_setupEventListeners(){this.hamburger.addEventListener("click",n=>{n.preventDefault(),this.toggle()}),this.overlay.addEventListener("click",()=>{this.close()});const t=this.drawer.querySelector(".drawer-close");t&&t.addEventListener("click",()=>this.close()),document.addEventListener("keydown",n=>{n.key==="Escape"&&this.isOpen&&this.close()}),this._setupSwipeHandler();const e=document.getElementById("drawer-fetch-all");e&&e.addEventListener("click",()=>{this.close(),window.fetchAllPicks?window.fetchAllPicks():document.querySelector('[data-action="refresh-all"]')?.click()});const o=document.getElementById("drawer-manual-pick");o&&o.addEventListener("click",()=>{this.close(),window.ManualPickModal&&window.ManualPickModal.show()}),window.addEventListener("signalr:connected",()=>this._updateStatus(!0)),window.addEventListener("signalr:disconnected",()=>this._updateStatus(!1))}_setupSwipeHandler(){let t=0,e=0;this.drawer.addEventListener("touchstart",o=>{t=o.touches[0].clientX},{passive:!0}),this.drawer.addEventListener("touchmove",o=>{e=o.touches[0].clientX;const n=t-e;n>0&&(this.drawer.style.transform=`translateX(-${Math.min(n,280)}px)`)},{passive:!0}),this.drawer.addEventListener("touchend",()=>{t-e>100?this.close():this.drawer.style.transform=""},{passive:!0})}toggle(){this.isOpen?this.close():this.open()}open(){this.isOpen=!0,this.drawer.classList.add("open"),this.overlay.classList.add("visible"),this.hamburger.classList.add("active"),document.body.style.overflow="hidden",this.drawer.style.transform=""}close(){this.isOpen=!1,this.drawer.classList.remove("open"),this.overlay.classList.remove("visible"),this.hamburger.classList.remove("active"),document.body.style.overflow="",this.drawer.style.transform=""}_isActive(t){return window.location.pathname.endsWith(t)||t==="/index.html"&&window.location.pathname==="/"}_updateStatus(t){const e=this.drawer?.querySelector(".status-dot"),o=this.drawer?.querySelector(".drawer-status span:last-child");e&&(e.className=`status-dot ${t?"online":"offline"}`),o&&(o.textContent=t?"Connected":"Offline")}_injectStyles(){if(document.getElementById("mobile-nav-drawer-styles"))return;const t=document.createElement("style");t.id="mobile-nav-drawer-styles",t.textContent=`
                .mobile-nav-drawer {
                    position: fixed;
                    top: 0;
                    left: -280px;
                    width: 280px;
                    height: 100%;
                    background: linear-gradient(180deg, #0a1628 0%, #030b16 100%);
                    z-index: 10002;
                    transition: left 0.3s ease, transform 0.3s ease;
                    display: flex;
                    flex-direction: column;
                    box-shadow: 2px 0 20px rgba(0,0,0,0.5);
                    overflow-y: auto;
                }

                .mobile-nav-drawer.open {
                    left: 0;
                }

                .drawer-header {
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                    padding: 20px;
                    border-bottom: 1px solid rgba(255,255,255,0.1);
                }

                .drawer-logo {
                    height: 40px;
                    width: auto;
                }

                .drawer-close {
                    background: none;
                    border: none;
                    color: #fff;
                    font-size: 28px;
                    cursor: pointer;
                    padding: 0;
                    line-height: 1;
                }

                .drawer-menu {
                    list-style: none;
                    padding: 10px 0;
                    margin: 0;
                }

                .drawer-link, .drawer-btn {
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    padding: 14px 20px;
                    color: rgba(255,255,255,0.8);
                    text-decoration: none;
                    font-size: 16px;
                    transition: all 0.2s ease;
                    border: none;
                    background: none;
                    width: 100%;
                    text-align: left;
                    cursor: pointer;
                }

                .drawer-link:hover, .drawer-btn:hover,
                .drawer-link.active {
                    background: rgba(59, 130, 246, 0.15);
                    color: #fff;
                }

                .drawer-link.active {
                    border-left: 3px solid #3b82f6;
                }

                .drawer-icon {
                    font-size: 20px;
                }

                .drawer-section {
                    padding: 10px 0;
                    border-top: 1px solid rgba(255,255,255,0.1);
                    margin-top: 10px;
                }

                .drawer-section-title {
                    color: rgba(255,255,255,0.5);
                    font-size: 12px;
                    text-transform: uppercase;
                    letter-spacing: 1px;
                    padding: 10px 20px 5px;
                    margin: 0;
                }

                .drawer-footer {
                    margin-top: auto;
                    padding: 20px;
                    border-top: 1px solid rgba(255,255,255,0.1);
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                }

                .drawer-status {
                    display: flex;
                    align-items: center;
                    gap: 8px;
                    color: rgba(255,255,255,0.6);
                    font-size: 12px;
                }

                .status-dot {
                    width: 8px;
                    height: 8px;
                    border-radius: 50%;
                }

                .status-dot.online {
                    background: #22c55e;
                    box-shadow: 0 0 8px #22c55e;
                }

                .status-dot.offline {
                    background: #ef4444;
                }

                .drawer-version {
                    color: rgba(255,255,255,0.4);
                    font-size: 11px;
                }

                .mobile-nav-overlay {
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0, 0, 0, 0.6);
                    z-index: 10001;
                    opacity: 0;
                    visibility: hidden;
                    transition: all 0.3s ease;
                }

                .mobile-nav-overlay.visible {
                    opacity: 1;
                    visibility: visible;
                }

                .hamburger-btn {
                    position: fixed;
                    top: 15px;
                    left: 15px;
                    width: 44px;
                    height: 44px;
                    background: rgba(10, 22, 40, 0.95);
                    border: 1px solid rgba(255,255,255,0.2);
                    border-radius: 8px;
                    z-index: 10000;
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    align-items: center;
                    gap: 5px;
                    cursor: pointer;
                    padding: 0;
                }

                .hamburger-line {
                    width: 22px;
                    height: 2px;
                    background: #fff;
                    border-radius: 2px;
                    transition: all 0.3s ease;
                }

                .hamburger-btn.active .hamburger-line:nth-child(1) {
                    transform: rotate(45deg) translate(5px, 5px);
                }

                .hamburger-btn.active .hamburger-line:nth-child(2) {
                    opacity: 0;
                }

                .hamburger-btn.active .hamburger-line:nth-child(3) {
                    transform: rotate(-45deg) translate(5px, -5px);
                }

                @media (min-width: 768px) {
                    .mobile-nav-drawer,
                    .mobile-nav-overlay,
                    .hamburger-btn {
                        display: none !important;
                    }
                }
            `,document.head.appendChild(t)}}const a=new f;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>a.init()):a.init(),window.addEventListener("resize",()=>{window.innerWidth<=767&&!a.initialized&&a.init()}),window.MobileNavDrawer=a}(),function(){"use strict";class f{constructor(){this.nav=null,this.initialized=!1}init(){this.initialized||window.innerWidth>767||document.querySelector(".mobile-bottom-nav, .bottom-nav")||(this._create(),this._injectStyles(),this._adjustPagePadding(),this.initialized=!0)}_create(){const t=[{label:"Dashboard",href:"/index.html",icon:"\u{1F4CA}",match:["/index.html","/"]},{label:"Lineup",href:"/weekly-lineup.html",icon:"\u{1F4CB}",match:["/weekly-lineup.html"]},{label:"Odds",href:"/odds-market.html",icon:"\u{1F4C8}",match:["/odds-market.html"]},{label:"Tracker",href:"/picks-tracker.html",icon:"\u{1F3AF}",match:["/picks-tracker.html"]}];this.nav=document.createElement("nav"),this.nav.className="shared-bottom-nav",this.nav.setAttribute("aria-label","Page navigation");const e=window.location.pathname;this.nav.innerHTML=t.map(o=>{const n=o.match.some(l=>e.endsWith(l))?" active":"";return`<a href="${o.href}" class="bottom-nav-item${n}" aria-label="${o.label}">
          <span class="bottom-nav-icon">${o.icon}</span>
          <span class="bottom-nav-label">${o.label}</span>
        </a>`}).join(""),document.body.appendChild(this.nav)}_adjustPagePadding(){document.body.style.paddingBottom="calc(60px + env(safe-area-inset-bottom, 0px))"}_injectStyles(){if(document.getElementById("shared-bottom-nav-styles"))return;const t=document.createElement("style");t.id="shared-bottom-nav-styles",t.textContent=`
        .shared-bottom-nav {
          position: fixed;
          bottom: 0;
          left: 0;
          right: 0;
          display: flex;
          justify-content: space-around;
          align-items: center;
          height: 56px;
          padding-bottom: env(safe-area-inset-bottom, 0px);
          background: linear-gradient(180deg, rgba(10, 22, 40, 0.98), rgba(3, 11, 22, 0.99));
          border-top: 1px solid rgba(0, 214, 137, 0.15);
          backdrop-filter: blur(12px);
          -webkit-backdrop-filter: blur(12px);
          z-index: 9999;
        }

        .bottom-nav-item {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          gap: 2px;
          flex: 1;
          min-height: 44px;
          padding: 6px 4px;
          text-decoration: none;
          color: rgba(200, 210, 220, 0.6);
          transition: color 0.2s;
          -webkit-tap-highlight-color: transparent;
        }

        .bottom-nav-item.active {
          color: rgba(0, 214, 137, 0.95);
        }

        .bottom-nav-item:active {
          color: rgba(0, 214, 137, 0.7);
        }

        .bottom-nav-icon {
          font-size: 20px;
          line-height: 1;
        }

        .bottom-nav-label {
          font-family: var(--font-body, 'Inter', sans-serif);
          font-size: 10px;
          font-weight: 600;
          text-transform: uppercase;
          letter-spacing: 0.04em;
        }

        @media (min-width: 768px) {
          .shared-bottom-nav {
            display: none !important;
          }
        }
      `,document.head.appendChild(t)}}const a=new f;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>a.init()):a.init(),window.addEventListener("resize",()=>{window.innerWidth<=767&&!a.initialized&&a.init()}),window.SharedBottomNav=a}(),function(){"use strict";class f{constructor(){this.connection=null,this.hubName="modelHub",this.isConnected=!1,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=5e3,this.listeners=new Map,this.negotiateUrl=window.APP_CONFIG?.FUNCTIONS_BASE_URL?`${window.APP_CONFIG.FUNCTIONS_BASE_URL}/api/signalr/negotiate`:"/api/signalr/negotiate",this.onConnected=null,this.onDisconnected=null,this.onReconnecting=null,this.onError=null}async connect(){if(!window.APP_CONFIG?.SIGNALR_ENABLED)return console.log("[SignalR] Disabled in config - using polling fallback"),console.log("[SignalR] \u2022 To enable, set SIGNALR_ENABLED: true in config.js"),console.log("[SignalR] \u2022 Requires Azure SignalR Service + Azure Functions deployment"),this._startPollingFallback(),!1;if(typeof signalR>"u")return console.warn("[SignalR] Library not loaded, using polling fallback"),this._startPollingFallback(),!1;if((!this.negotiateUrl||this.negotiateUrl==="/api/signalr/negotiate")&&!window.APP_CONFIG?.FUNCTIONS_BASE_URL)return console.log("[SignalR] No FUNCTIONS_BASE_URL configured - using polling fallback"),this._startPollingFallback(),!1;try{console.log("[SignalR] Attempting to negotiate connection...");const t=await fetch(this.negotiateUrl,{method:"POST",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`Negotiate failed: ${t.status}`);const e=await t.json();return this.connection=new signalR.HubConnectionBuilder().withUrl(e.url,{accessTokenFactory:()=>e.accessToken}).withAutomaticReconnect({nextRetryDelayInMilliseconds:o=>o.previousRetryCount>=this.maxReconnectAttempts?null:Math.min(1e3*Math.pow(2,o.previousRetryCount),3e4)}).configureLogging(signalR.LogLevel.Information).build(),this._setupEventHandlers(),await this.connection.start(),this.isConnected=!0,this.reconnectAttempts=0,console.log("\u2705 SignalR connected to",this.hubName),this.onConnected&&this.onConnected(),window.dispatchEvent(new CustomEvent("signalr:connected",{detail:{hubName:this.hubName}})),!0}catch(t){return console.error("SignalR connection failed:",t),this.onError&&this.onError(t),this._startPollingFallback(),!1}}_setupEventHandlers(){this.connection&&(this.connection.onclose(t=>{this.isConnected=!1,console.log("SignalR disconnected:",t?.message||"Connection closed"),this.onDisconnected&&this.onDisconnected(t),window.dispatchEvent(new CustomEvent("signalr:disconnected"))}),this.connection.onreconnecting(t=>{this.isConnected=!1,console.log("SignalR reconnecting...",t?.message),this.onReconnecting&&this.onReconnecting(t),window.dispatchEvent(new CustomEvent("signalr:reconnecting"))}),this.connection.onreconnected(t=>{this.isConnected=!0,console.log("\u2705 SignalR reconnected:",t),this.onConnected&&this.onConnected(),window.dispatchEvent(new CustomEvent("signalr:reconnected"))}),this.connection.on("modelStatusUpdate",t=>{this._handleMessage("modelStatusUpdate",t)}),this.connection.on("scoreUpdate",t=>{this._handleMessage("scoreUpdate",t)}),this.connection.on("pickStatusChange",t=>{this._handleMessage("pickStatusChange",t)}),this.connection.on("jobComplete",t=>{this._handleMessage("jobComplete",t)}),this.connection.on("notification",t=>{this._handleMessage("notification",t)}))}_handleMessage(t,e){console.log(`SignalR [${t}]:`,e),(this.listeners.get(t)||[]).forEach(n=>{try{n(e)}catch(l){console.error(`Error in SignalR listener for ${t}:`,l)}}),window.dispatchEvent(new CustomEvent(`signalr:${t}`,{detail:e}))}on(t,e){this.listeners.has(t)||this.listeners.set(t,[]),this.listeners.get(t).push(e)}off(t,e){const o=this.listeners.get(t);if(o){const n=o.indexOf(e);n>-1&&o.splice(n,1)}}async send(t,...e){if(!this.isConnected||!this.connection)return console.warn("Cannot send: SignalR not connected"),!1;try{return await this.connection.invoke(t,...e),!0}catch(o){return console.error(`SignalR send failed [${t}]:`,o),!1}}async disconnect(){this.connection&&(await this.connection.stop(),this.isConnected=!1,this.connection=null)}_startPollingFallback(){console.log("Using polling fallback for updates"),window.dispatchEvent(new CustomEvent("signalr:fallback",{detail:{reason:"SignalR unavailable, using polling"}}))}getStatus(){return{isConnected:this.isConnected,hubName:this.hubName,state:this.connection?.state||"Disconnected"}}}const a=new f;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>a.connect(),500)}):setTimeout(()=>a.connect(),500),window.SignalRClient=a}(),function(){"use strict";class f{constructor(){this.user=null,this.isAuthenticated=!1,this.loginEndpoint="/.auth/login/aad",this.logoutEndpoint="/.auth/logout",this.meEndpoint="/.auth/me",this.initialized=!1}async init(){this.initialized||(await this.checkAuthStatus(),this._renderAuthUI(),window.addEventListener("auth:login",()=>this.login()),window.addEventListener("auth:logout",()=>this.logout()),this.initialized=!0,console.log("\u{1F510} Auth Client initialized",this.isAuthenticated?"(logged in)":"(anonymous)"))}async checkAuthStatus(){try{const t=await fetch(this.meEndpoint);if(t.ok){const e=await t.json();e&&e.length>0&&(this.user=this._parseUserFromClaims(e[0]),this.isAuthenticated=!0,window.dispatchEvent(new CustomEvent("auth:authenticated",{detail:this.user})))}}catch(t){console.log("Auth check:",t.message)}}_parseUserFromClaims(t){const e=t.user_claims||[],o=n=>e.find(l=>l.typ===n)?.val;return{id:t.user_id,provider:t.provider_name,name:o("name")||o("http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name"),email:o("http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress")||o("emails")||t.user_id,picture:o("picture"),roles:t.user_roles||[],claims:e}}login(t=window.location.href){const e=encodeURIComponent(t);window.location.href=`${this.loginEndpoint}?post_login_redirect_uri=${e}`}logout(t="/"){const e=encodeURIComponent(t);window.location.href=`${this.logoutEndpoint}?post_logout_redirect_uri=${e}`}getUser(){return this.user}hasRole(t){return this.user?.roles?.includes(t)||!1}isAdmin(){return this.hasRole("admin")||this.hasRole("Admin")}_renderAuthUI(){const t=document.getElementById("auth-container")||document.querySelector(".auth-container");if(t)if(this.isAuthenticated&&this.user){const e=window.SharedUtils?.escapeHtml||(l=>String(l??"")),o=this.user.picture?e(this.user.picture):"",n=e(this.user.name||this.user.email);t.innerHTML=`
                    <div class="user-profile">
                        ${o?`<img src="${o}" alt="" class="user-avatar">`:""}
                        <span class="user-name">${n}</span>
                        <button class="btn-logout" id="btn-logout">Sign Out</button>
                    </div>
                `,document.getElementById("btn-logout")?.addEventListener("click",()=>this.logout())}else t.innerHTML=`
                    <button class="btn-login" id="btn-login">Sign In</button>
                `,document.getElementById("btn-login")?.addEventListener("click",()=>this.login())}showLoginPrompt(t="Please sign in to continue"){const e=document.getElementById("auth-modal");e&&e.remove();const o=document.createElement("div");o.id="auth-modal",o.className="auth-modal-overlay";const n=window.SharedUtils?.escapeHtml||(l=>String(l??""));o.innerHTML=`
                <div class="auth-modal">
                    <div class="auth-modal-header">
                        <img src="/assets/Logo%208.5.png" alt="GBSV" class="auth-logo">
                        <h2>Welcome to GBSV</h2>
                    </div>
                    <div class="auth-modal-body">
                        <p>${n(t)}</p>
                    </div>
                    <div class="auth-modal-footer">
                        <button class="btn btn-secondary" id="auth-cancel">Cancel</button>
                        <button class="btn btn-primary" id="auth-login">Sign In</button>
                    </div>
                </div>
            `,document.body.appendChild(o),o.querySelector("#auth-cancel").addEventListener("click",()=>o.remove()),o.querySelector("#auth-login").addEventListener("click",()=>{o.remove(),this.login()}),this._injectAuthStyles()}_injectAuthStyles(){if(document.getElementById("auth-styles"))return;const t=document.createElement("style");t.id="auth-styles",t.textContent=`
                .auth-modal-overlay {
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0,0,0,0.7);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    z-index: 20000;
                }

                .auth-modal {
                    background: linear-gradient(180deg, #0a1628 0%, #030b16 100%);
                    border: 1px solid rgba(255,255,255,0.1);
                    border-radius: 12px;
                    padding: 30px;
                    max-width: 400px;
                    text-align: center;
                    color: #fff;
                }

                .auth-modal-header {
                    margin-bottom: 20px;
                }

                .auth-logo {
                    height: 60px;
                    margin-bottom: 15px;
                }

                .auth-modal h2 {
                    margin: 0;
                    font-size: 24px;
                }

                .auth-modal-body {
                    margin-bottom: 25px;
                    color: rgba(255,255,255,0.7);
                }

                .auth-modal-footer {
                    display: flex;
                    gap: 15px;
                    justify-content: center;
                }

                .auth-modal .btn {
                    padding: 10px 25px;
                    border-radius: 6px;
                    font-size: 14px;
                    cursor: pointer;
                    border: none;
                }

                .auth-modal .btn-primary {
                    background: #3b82f6;
                    color: #fff;
                }

                .auth-modal .btn-secondary {
                    background: rgba(255,255,255,0.1);
                    color: #fff;
                }

                .user-profile {
                    display: flex;
                    align-items: center;
                    gap: 10px;
                }

                .user-avatar {
                    width: 32px;
                    height: 32px;
                    border-radius: 50%;
                }

                .user-name {
                    color: #fff;
                    font-size: 14px;
                }

                .btn-logout, .btn-login {
                    padding: 6px 12px;
                    border-radius: 4px;
                    border: 1px solid rgba(255,255,255,0.2);
                    background: transparent;
                    color: #fff;
                    cursor: pointer;
                    font-size: 12px;
                }

                .btn-logout:hover, .btn-login:hover {
                    background: rgba(255,255,255,0.1);
                }
            `,document.head.appendChild(t)}}window.AuthClient=new f,window.APP_CONFIG?.AUTH_ENABLED===!0&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>window.AuthClient.init()):window.AuthClient.init())}(),function(){"use strict";const{normalizeFireRating:f,getFunctionsBase:a,getContainerEndpoint:s}=window.BaseSportFetcher?.utils||{},t=new window.BaseSportFetcher({sport:"NBA",tag:"[NBA-FETCHER]",timeoutMs:15e3,buildPrimaryUrl(e){const o=a(),n=e&&e!=="today"?`?date=${e}`:"";return`${o}/api/model/nba/predictions/latest${n}`},buildFallbackUrl(e){const o=s("nba");if(!o)return"";const n=e&&e!=="today"?`?date=${e}`:"";return`${o}/predictions/latest${n}`},formatPickForTable(e){if(!e)return null;const o=e.home_team||e.home||"Unknown",n=e.away_team||e.away||"Unknown",l=e.matchup||`${n} @ ${o}`;let r=e.pick||e.selection||e.feature_name||e.model_feature||"N/A";r&&typeof r=="string"&&(r=r.replace(/_/g," "));let i="",c="spread";if(r&&typeof r=="string"){const p=r.toUpperCase();p.includes("OVER")||p.includes("O ")?(i="Over",c="total"):p.includes("UNDER")||p.includes("U ")?(i="Under",c="total"):p.includes("HOME")||p.includes("FAVORITE")?(i=o,c="spread"):p.includes("AWAY")||p.includes("UNDERDOG")?(i=n,c="spread"):(i=r,p.includes("ML")&&(c="ml"))}let u="";const g=r?.match(/([+-]?\d+\.?\d*)/);g&&(u=g[1]);const d=parseFloat(e.edge)||parseFloat(e.ev)||0,m=f?f(e.fire_rating??e.confidence,d):Math.max(0,Math.min(5,Math.ceil(d/1.5)));return{sport:"NBA",date:e.date||e.game_date||new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),time:e.time||"TBD",awayTeam:n,homeTeam:o,segment:e.segment||"FG",pickTeam:i,pickType:c,pickDirection:e.pick_direction||(i.toUpperCase()==="OVER"?"OVER":i.toUpperCase()==="UNDER"?"UNDER":""),line:u,odds:e.odds||e.odds_available||e.price||-110,edge:d,fire:m,fireLabel:m===5?"MAX":"",rationale:e.rationale||e.explanation||"",modelStamp:e.model_version||e.modelVersion||"",raw:e}}});window.NBAPicksFetcher={fetchNBAPicks:e=>t.fetchPicks(e),fetchPicks:e=>t.fetchPicks(e),formatPickForTable:t.formatPickForTable,checkHealth:()=>t.checkHealth(),getCache:e=>t.getCache(e),getLastSource:()=>t.getLastSource(),clearCache:e=>t.clearCache(e)}}(),function(){"use strict";const{normalizeFireRating:f,getFunctionsBase:a,getContainerEndpoint:s}=window.BaseSportFetcher?.utils||{},t={};async function e(n){const l=`${a()}/api/model/ncaam`,r=`${l}|${n||"today"}`;if(t[r])return!1;t[r]=!0;try{const i=`${l}/trigger-picks`;return!!(await fetch(i,{signal:AbortSignal.timeout(6e4)})).ok}catch{return!1}finally{t[r]=!1}}const o=new window.BaseSportFetcher({sport:"NCAAM",tag:"[NCAAM-FETCHER]",timeoutMs:6e4,buildPrimaryUrl(n){return`${a()}/api/model/ncaam/api/slate${n?`?date=${n}`:""}`},buildFallbackUrl(n){const l=s("ncaam");return l?`${l}/api/slate${n?`?date=${n}`:""}`:""},async onFetchFail(n,l){if(l.status===503&&await e(n)){await new Promise(u=>setTimeout(u,2e3));const i=`${a()}/api/model/ncaam`;return await fetch(`${i}/api/slate${n?`?date=${n}`:""}`,{signal:AbortSignal.timeout(6e4)})}return null},formatPickForTable(n){const l=f?f(n.fire_rating??n.confidence,parseFloat(n.edge)||0):3,r=(n.market||"spread").toLowerCase();let i=n.time_cst||"",c="";if(i.includes(" ")){const L=i.split(" ");c=L[0],i=L.slice(1).join(" ")}const u=n.awayTeam||n.away_team||(n.matchup?n.matchup.split(" @ ")[0]:"")||"",g=n.homeTeam||n.home_team||(n.matchup?n.matchup.split(" @ ")[1]:"")||"",d=n.predictedWinner||n.pick||"";let m="";const p=d.toUpperCase();(p==="OVER"||p==="UNDER")&&(m=p);let h=0;return typeof n.edge=="string"?h=parseFloat(n.edge.replace("+",""))||0:typeof n.edge=="number"&&(h=n.edge),{sport:"NCAAM",date:c||new Date().toLocaleDateString("en-US",{month:"short",day:"numeric"}),time:i,awayTeam:u,homeTeam:g,game:n.matchup||`${u} @ ${g}`,pick:d,pickTeam:d,pickDirection:m,pickType:r,odds:n.pick_odds||"-110",edge:h,confidence:l,fire:l,fireLabel:l===5?"MAX":"",market:r,segment:n.period||"FG",line:n.marketSpread||n.market_line||"",modelPrice:n.predictedMargin||n.model_line||"",modelSpread:n.predictedMargin||n.model_line||"",fire_rating:n.fire_rating||"",rationale:n.rationale||n.reason||n.analysis||n.notes||n.executive_summary||"",modelVersion:n.model_version||n.modelVersion||n.model_tag||n.modelTag||"",modelStamp:n.model_version||n.modelVersion||n.model_tag||n.modelTag||""}}});window.NCAAMPicksFetcher={fetchPicks:n=>o.fetchPicks(n),checkHealth:()=>o.checkHealth(),formatPickForTable:o.formatPickForTable,triggerPicks:e,getCache:n=>o.getCache(n),getLastSource:()=>o.getLastSource(),getEndpoint:()=>s("ncaam"),clearCache:n=>o.clearCache(n)}}(),function(){"use strict";const{normalizeFireRating:f,getContainerEndpoint:a}=window.BaseSportFetcher?.utils||{};function s(e="today"){let o;e==="today"?o=new Date:e==="tomorrow"?(o=new Date,o.setDate(o.getDate()+1)):o=new Date(e);const n=o.getFullYear(),r=o.getMonth()+1>=9?n:n-1,i=new Date(r,8,1),c=Math.floor((o-i)/(24*60*60*1e3)),u=Math.max(1,Math.min(18,Math.floor(c/7)+1));return{season:r,week:u}}const t=new window.BaseSportFetcher({sport:"NFL",tag:"[NFL-FETCHER]",timeoutMs:15e3,buildPrimaryUrl(){return`${window.APP_CONFIG?.API_BASE_URL||window.APP_CONFIG?.API_BASE_FALLBACK||`${window.location.origin}/api`}/weekly-lineup/nfl`},buildFallbackUrl(e){const o=a("nfl");if(!o)return"";const{season:n,week:l}=s(e);return`${o}/api/v1/predictions/week/${n}/${l}`},formatPickForTable(e){const o=f?f(e.fire_rating??e.confidence,parseFloat(e.edge)||0):3,n=e.away_team||e.awayTeam||"",l=e.home_team||e.homeTeam||"",r=e.pick_display||e.pick||e.recommendation||"",i=(e.market_type||e.market||"").toLowerCase();let c="spread",u="",g="",d="";if(i==="moneyline"||i==="ml")c="ml",u=r.replace(/\s*ML\s*/i,"").trim()||n,d="ML";else if(i==="total"||i==="totals"||i==="over/under"){c="total";const p=r.match(/^(OVER|UNDER|Over|Under)\s+([\d.]+)/i);p?(g=p[1].toUpperCase(),u=g,d=p[2]):(g="OVER",u="OVER",d=r.replace(/[^\d.]/g,""))}else if(i==="team total"||i==="team_total"||i==="tt"){c="tt";const p=r.match(/^(.+?)\s+(OVER|UNDER|Over|Under)\s+([\d.]+)/i);p&&(u=p[1].trim(),g=p[2].toUpperCase(),d=p[3])}else{c="spread";const p=r.match(/^(.+?)\s+([+-][\d.]+)/);p?(u=p[1].trim(),d=p[2]):u=r.trim()}let m=0;return typeof e.edge=="number"?m=e.edge:typeof e.edge=="string"&&(m=parseFloat(e.edge.replace("%",""))/100),{sport:"NFL",league:"NFL",awayTeam:n,homeTeam:l,awayRecord:e.away_record||"",homeRecord:e.home_record||"",pickTeam:u,pickType:c,pickDirection:g,line:d,odds:e.odds||e.market_odds||"-110",edge:m,fire:o,confidence:o,fireLabel:o===5?"MAX":"",time:e.game_time||e.time||"",date:e.game_date||e.date||"",segment:e.period||e.segment||"FG",market:i||"spread",rationale:e.rationale||e.reason||e.analysis||e.notes||e.executive_summary||"",modelStamp:e.model_version||e.modelVersion||e.model_tag||e.modelTag||"",modelVersion:e.model_version||e.modelVersion||e.model_tag||e.modelTag||""}}});window.NFLPicksFetcher={fetchPicks:e=>t.fetchPicks(e),checkHealth:()=>t.checkHealth(),formatPickForTable:t.formatPickForTable,getCache:e=>t.getCache(e),getLastSource:()=>t.getLastSource(),clearCache:e=>t.clearCache(e)}}(),function(){"use strict";const{normalizeFireRating:f,getContainerEndpoint:a}=window.BaseSportFetcher?.utils||{};function s(){const e=new Date,o=e.getFullYear(),l=e.getMonth()+1>=8?o:o-1,r=new Date(l,7,24),i=Math.max(1,Math.ceil((e-r)/(7*24*60*60*1e3)));return{season:l,week:Math.min(i,15)}}const t=new window.BaseSportFetcher({sport:"NCAAF",tag:"[NCAAF-FETCHER]",timeoutMs:15e3,buildPrimaryUrl(){return`${window.APP_CONFIG?.API_BASE_URL||window.APP_CONFIG?.API_BASE_FALLBACK||`${window.location.origin}/api`}/weekly-lineup/ncaaf`},buildFallbackUrl(){const e=a("ncaaf");if(!e)return"";const{season:o,week:n}=s();return`${e}/api/v1/predictions/week/${o}/${n}`},formatPickForTable(e){const o=f?f(e.fire_rating??e.confidence,parseFloat(e.edge)||0):3;return{sport:"NCAAF",game:`${e.away_team||e.awayTeam||""} @ ${e.home_team||e.homeTeam||""}`,pick:e.pick_display||e.pick||e.recommendation||e.bet_recommendation,odds:e.odds||e.market_odds||"",edge:e.edge?`${(e.edge*100).toFixed(1)}%`:e.expected_edge?`${(e.expected_edge*100).toFixed(1)}%`:"",confidence:o,time:e.game_time||e.time||e.kickoff||"",market:e.market_type||e.market||e.bet_type||"",period:e.period||"FG",fire_rating:e.fire_rating||"",fireLabel:o===5?"MAX":"",rationale:e.rationale||e.reason||e.analysis||e.notes||e.executive_summary||"",modelVersion:e.model_version||e.modelVersion||e.model_tag||e.modelTag||""}}});window.NCAAFPicksFetcher={fetchPicks:e=>t.fetchPicks(e),checkHealth:()=>t.checkHealth(),formatPickForTable:t.formatPickForTable,getCurrentSeasonWeek:s,getCache:e=>t.getCache(e),getLastSource:()=>t.getLastSource(),clearCache:e=>t.clearCache(e)}}(),function(){"use strict";const{normalizeFireRating:f,getFunctionsBase:a,getContainerEndpoint:s}=window.BaseSportFetcher?.utils||{},t=new window.BaseSportFetcher({sport:"NHL",tag:"[NHL-FETCHER]",timeoutMs:15e3,buildPrimaryUrl(e){const o=a(),n=e&&e!=="today"?`?date=${e}`:"";return`${o}/api/model/nhl/api/slate${n}`},buildFallbackUrl(e){const o=s("nhl");if(!o)return"";const n=e&&e!=="today"?`?date=${e}`:"";return`${o}/api/slate${n}`},formatPickForTable(e){const o=f?f(e.fire_rating??e.confidence,parseFloat(e.edge)||0):3,n=e.away_team||e.awayTeam||e.away||"",l=e.home_team||e.homeTeam||e.home||"",r=(e.market||e.market_type||"puckline").toLowerCase();let i=e.pick||"",c="";const u=i.toUpperCase();(u==="OVER"||u==="UNDER")&&(c=u);let g=0;return typeof e.edge=="string"?g=parseFloat(e.edge.replace("+",""))||0:typeof e.edge=="number"&&(g=e.edge),{sport:"NHL",date:e.date||e.game_date||"",time:e.time||e.game_time||e.time_cst||"",awayTeam:n,homeTeam:l,game:e.matchup||`${n} @ ${l}`,pick:i,pickTeam:i,pickDirection:c,pickType:r,odds:e.pick_odds||e.odds||"-110",edge:g,confidence:o,fire:o,fireLabel:o===5?"MAX":"",market:r,segment:e.period||"FG",line:e.market_line||e.line||"",modelPrice:e.model_line||"",modelSpread:e.model_line||"",rationale:e.rationale||e.reason||e.analysis||"",modelStamp:e.model_version||e.modelVersion||e.model_tag||"",modelVersion:e.model_version||e.modelVersion||e.model_tag||""}}});window.NHLPicksFetcher={fetchPicks:e=>t.fetchPicks(e),checkHealth:()=>t.checkHealth(),formatPickForTable:t.formatPickForTable,getCache:e=>t.getCache(e),getLastSource:()=>t.getLastSource(),clearCache:e=>t.clearCache(e)}}(),function(){"use strict";const f=()=>window.APP_CONFIG?.DEBUG_MODE===!0,a=(...h)=>{f()&&console.log(...h)},s=(...h)=>{f()&&console.warn(...h)},t=(...h)=>{f()?console.error(...h):console.error(h[0])},o={data:null,timestamp:0,date:null,league:null},n=6e4,l=h=>{if(!h||typeof h!="object")return"";const L=(y,w)=>w.split(".").reduce((S,E)=>S&&S[E]!==void 0?S[E]:void 0,y),v=(...y)=>{for(const w of y){const S=L(h,w);if(typeof S=="string"&&S.trim())return S.trim()}return""},b=v("model_tag","modelTag","model_version","modelVersion","version","build","build_version","meta.model_tag","meta.modelTag","meta.model_version","meta.modelVersion","meta.version","meta.build","metadata.model_tag","metadata.modelTag","metadata.model_version","metadata.modelVersion","metadata.version","metadata.build"),A=v("git_sha","gitSha","commit","commit_sha","commitSha","meta.git_sha","meta.gitSha","meta.commit","meta.commit_sha","meta.commitSha","metadata.git_sha","metadata.gitSha","metadata.commit","metadata.commit_sha","metadata.commitSha");return b&&A?`${b} (${A.slice(0,8)})`:b||(A?A.slice(0,12):"")},r=(h,L=0)=>{const v=y=>Math.max(0,Math.min(5,y));if(typeof h=="number"&&Number.isFinite(h)){const y=v(Math.round(h));return{fire:y,fireLabel:y===5?"MAX":""}}const b=(h??"").toString().trim();if(b){const y=parseInt(b,10);if(!Number.isNaN(y)){const E=v(y);return{fire:E,fireLabel:E===5?"MAX":""}}const w=b.toUpperCase(),S={MAX:5,ELITE:5,STRONG:4,GOOD:3,STANDARD:2,LOW:1};if(w in S){const E=S[w];return{fire:E,fireLabel:E===5?"MAX":""}}if(b.includes("%")){const E=parseFloat(b.replace("%",""));if(!Number.isNaN(E))return E>=80?{fire:5,fireLabel:"MAX"}:E>=65?{fire:4,fireLabel:""}:E>=50?{fire:3,fireLabel:""}:E>=35?{fire:2,fireLabel:""}:{fire:1,fireLabel:""}}}const A=v(Math.ceil((parseFloat(L)||0)/1.5));return{fire:A,fireLabel:A===5?"MAX":""}},i=async(h,L={},v=15e3)=>{const b=new AbortController,A=setTimeout(()=>b.abort(),v);try{const y=await fetch(h,{...L,signal:b.signal});return clearTimeout(A),y}catch(y){throw clearTimeout(A),y.name==="AbortError"?new Error(`Request timed out after ${v}ms`):y}},c=(h,L)=>{if(window.DataCacheManager){const v=`picks_${h}_${L}`,b=window.DataCacheManager.get(v);if(b)return a("[UNIFIED-FETCHER] Found valid cache in localStorage"),o.data=b,o.timestamp=Date.now(),o.date=L,o.league=h,!0}return o.data&&o.league===h&&o.date===L&&Date.now()-o.timestamp<n},u=async(h,L,v)=>{try{const b=await v.fetchPicks(L),A=b.success?b.data:b,y=l(A),w=A?.picks||A?.plays||A?.predictions||A?.recommendations||[];return{league:h,picks:w.map(S=>{const E=v.formatPickForTable(S);return y&&!E.modelStamp&&(E.modelStamp=y),E}),error:null}}catch(b){return t(`[UNIFIED-FETCHER] ${h} fetch error:`,b.message),{league:h,picks:[],error:b.message}}},g=async function(h="all",L="today",v={}){const{skipCache:b=!1,onLeagueComplete:A=null}=v;if(!b&&c(h,L))return a("[UNIFIED-FETCHER] Returning cached picks"),o.data;window.ModelEndpointResolver?.ensureRegistryHydrated&&window.ModelEndpointResolver.ensureRegistryHydrated();const y=h.toUpperCase(),w=Date.now();a(`[UNIFIED-FETCHER] Fetching picks for: ${h}, date: ${L} (PARALLEL mode)`);const S=[],E=new Set(window.WEEKLY_LINEUP_DISABLED_LEAGUES||["NFL","NCAAF"]),_=[{name:"NBA",fetcher:window.NBAPicksFetcher,match:y==="NBA"||h==="all"},{name:"NCAAM",fetcher:window.NCAAMPicksFetcher,match:y==="NCAAM"||y==="NCAAB"||h==="all"},{name:"NFL",fetcher:window.NFLPicksFetcher,match:!E.has("NFL")&&(y==="NFL"||h==="all")},{name:"NCAAF",fetcher:window.NCAAFPicksFetcher,match:!E.has("NCAAF")&&(y==="NCAAF"||h==="all")},{name:"NHL",fetcher:window.NHLPicksFetcher,match:y==="NHL"||h==="all"},{name:"MLB",fetcher:window.MLBPicksFetcher,match:y==="MLB"||h==="all"}];for(const{name:C,fetcher:T,match:P}of _)if(P&&T){const x=u(C,L,T).then(k=>(A&&k.picks.length>0&&A(k.league,k.picks),k));S.push(x)}const F=await Promise.allSettled(S);let N=[];const M=[];for(const C of F)if(C.status==="fulfilled"){const{league:T,picks:P,error:x}=C.value;P.length>0&&(N.push(...P),a(`[UNIFIED-FETCHER] ${T}: ${P.length} picks`)),x&&M.push({league:T,error:x})}else t("[UNIFIED-FETCHER] Fetch rejected:",C.reason);const O=Date.now()-w;a(`[UNIFIED-FETCHER] Completed in ${O}ms - ${N.length} total picks from ${S.length} leagues`);const I={picks:N,errors:M,meta:{fetchedAt:new Date().toISOString(),elapsedMs:O,leaguesQueried:S.length}};if(window.DataCacheManager){const C=`picks_${h}_${L}`;window.DataCacheManager.set(C,I,5*60*1e3)}return o.data=I,o.timestamp=Date.now(),o.date=L,o.league=h,I},d=async function(h="all",L="today",v={}){const b=await g(h,L,v);if(b.picks.length===0&&b.errors.length>0){const y=b.errors.map(w=>w.league).join(", ");return window.WeeklyLineup?.showNotification&&window.WeeklyLineup.showNotification(`Unable to load picks. API unavailable for: ${y}`,"error"),window.WeeklyLineup?.showEmptyState&&window.WeeklyLineup.showEmptyState("No picks available. Please try again later."),b}if(b.errors.length>0&&b.picks.length>0){const y=b.errors.map(w=>w.league).join(", ");window.WeeklyLineup?.showNotification&&window.WeeklyLineup.showNotification(`Some leagues unavailable: ${y}`,"warning")}if(window.WeeklyLineup?.populateTable&&b.picks.length>0){const y=b.picks.map(w=>{let S=w.awayTeam||"",E=w.homeTeam||"";if(!S||!E){const N=(w.game||"").split(" @ ");S=S||(N[0]||"").trim(),E=E||(N[1]||"").trim()}let _=0;typeof w.edge=="string"?_=parseFloat(w.edge.replace("%",""))||0:typeof w.edge=="number"&&(_=w.edge);const F=r(w.fire??w.confidence??w.fire_rating??w.fireRating,_);return{date:w.date||new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),time:w.time||"",sport:w.sport||"NBA",awayTeam:S,homeTeam:E,segment:w.segment||w.period||"FG",pickTeam:w.pickTeam||w.pick||"",pickType:(w.pickType||w.market||"spread").toLowerCase(),pickDirection:w.pickDirection||"",line:w.line||"",odds:w.odds||"-110",modelPrice:w.modelPrice||"",modelSpread:w.modelSpread||w.modelPrice||"",edge:_,fire:F.fire,fireLabel:w.fireLabel||F.fireLabel,rationale:w.rationale||w.reason||w.notes||w.explanation||"",modelStamp:w.modelStamp||w.model_version||w.modelVersion||w.modelTag||"",status:"pending"}});y.sort((w,S)=>S.edge-w.edge),window.WeeklyLineup.populateTable(y),a(`[UNIFIED-FETCHER] Populated table with ${y.length} picks`),window.WeeklyLineup.showNotification&&window.WeeklyLineup.showNotification(`Loaded ${y.length} picks`,"success")}else b.picks.length===0&&window.WeeklyLineup?.showEmptyState&&window.WeeklyLineup.showEmptyState("No picks available for the selected date.");return b},m=async function(){const h={};return window.NBAPicksFetcher&&(h.nba=await window.NBAPicksFetcher.checkHealth()),window.NCAAMPicksFetcher&&(h.ncaam=await window.NCAAMPicksFetcher.checkHealth()),window.NFLPicksFetcher&&(h.nfl=await window.NFLPicksFetcher.checkHealth()),window.NCAAFPicksFetcher&&(h.ncaaf=await window.NCAAFPicksFetcher.checkHealth()),window.NHLPicksFetcher&&(h.nhl=await window.NHLPicksFetcher.checkHealth()),window.MLBPicksFetcher&&(h.mlb=await window.MLBPicksFetcher.checkHealth()),h},p=()=>{o.data=null,o.timestamp=0,o.date=null,o.league=null};window.UnifiedPicksFetcher={fetchPicks:g,fetchAndDisplayPicks:d,checkAllHealth:m,clearCache:p,isCacheValid:(h,L)=>c(h,L)},console.log("[UNIFIED-FETCHER] v1.3 loaded - PARALLEL mode | Cache-first | 15s timeout")}();
//# sourceMappingURL=core.min.js.map
