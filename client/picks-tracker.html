<!doctype html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="assets/css/base/critical.css?v=36.00.7" />
    <meta name="theme-color" content="#030b16" />
    <link rel="manifest" href="/manifest.json" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <link rel="apple-touch-icon" href="assets/Logo%208.5.png" />
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />
    <title>Picks Tracker — Feb 22 2026 | GBSV</title>

    <link rel="icon" type="image/png" href="assets/Logo%208.5.png?v=20251216" />

    <!-- Local dev helper: if Live Server runs from repo root, fix base href -->
    <script>
      (function () {
        var isLocal =
          location.hostname === "localhost" ||
          location.hostname === "127.0.0.1";

        if (isLocal) {
          // Fix base href if not already set
          if (!location.pathname.startsWith("/client/")) {
            var base = document.createElement("base");
            base.href = "/client/";
            document.head.prepend(base);
          }

          // Override global config for local dev
          window.DEV_OVERRIDE_CONFIG = {
            API_BASE_URL: "http://localhost:7072/api",
            FUNCTIONS_BASE_URL: "http://localhost:7072",
            ENABLE_DB_SYNC: true,
          };

          console.log(
            "[DEV] Local environment detected - API redirected to port 7072",
          );
        }
      })();
    </script>

    <link
      rel="preload"
      as="image"
      href="assets/JB_Bearish_Market_FULL_page.png"
    />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="" />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700;800&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400;1,500&family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Bundled CSS -->
    <link rel="stylesheet" href="dist/core.min.css?v=36.00.7" />
    <!-- Page-specific CSS -->
    <link
      rel="stylesheet"
      href="assets/css/pages/picks-tracker.css?v=36.00.7"
    />
    <link
      rel="stylesheet"
      href="assets/css/pages/picks-tracker-mobile.css?v=36.00.7"
    />

    <!-- Runtime config (separate — per-environment) -->
    <script src="config.js?v=36.00.7" defer></script>
  </head>
  <body class="page-picks-tracker">
    <noscript>
      <div class="noscript-warning" role="alert">
        <strong>JavaScript Required:</strong> This tracker requires JavaScript.
      </div>
    </noscript>

    <!-- Background -->
    <div class="tracker-bg"></div>

    <!-- Navigation -->
    <nav class="brand-nav" role="navigation" aria-label="Main navigation">
      <ul class="nav-links" aria-label="Primary">
        <li><a href="index.html" class="nav-link">Dashboard</a></li>
        <li><a href="weekly-lineup.html" class="nav-link">Weekly Lineup</a></li>
        <li><a href="odds-market.html" class="nav-link">Odds Market</a></li>
        <li>
          <a href="picks-tracker.html" class="nav-link" aria-current="page"
            >Picks Tracker</a
          >
        </li>
      </ul>
    </nav>

    <!-- Main Content -->
    <main class="tracker-page">
      <!-- Header -->
      <div class="tracker-header">
        <div>
          <h1>Picks Tracker</h1>
          <span class="date-label">Saturday, February 22, 2026</span>
        </div>
        <div style="display: flex; align-items: center; gap: 12px">
          <span class="update-time"
            >Last update: <span id="last-updated">--</span></span
          >
          <button id="refresh-btn" type="button">Refresh</button>
        </div>
      </div>

      <!-- KPIs -->
      <div class="tracker-kpis">
        <div class="kpi-card">
          <div class="kpi-label">Total Risk</div>
          <div class="kpi-value" id="kpi-risk">--</div>
        </div>
        <div class="kpi-card">
          <div class="kpi-label">Max To Win</div>
          <div class="kpi-value" id="kpi-to-win">--</div>
        </div>
        <div class="kpi-card">
          <div class="kpi-label">Settled P&amp;L</div>
          <div class="kpi-value" id="kpi-pnl">--</div>
        </div>
        <div class="kpi-card">
          <div class="kpi-label">Live</div>
          <div class="kpi-value" id="kpi-live">--</div>
        </div>
        <div class="kpi-card">
          <div class="kpi-label">Pending</div>
          <div class="kpi-value" id="kpi-pending">--</div>
        </div>
        <div class="kpi-card">
          <div class="kpi-label">Straights W-L</div>
          <div class="kpi-value" id="kpi-record">--</div>
        </div>
      </div>

      <!-- Live Game Cards -->
      <h2 class="section-title">Live Scoreboard</h2>
      <div id="game-cards"></div>

      <!-- Straight Bets Table -->
      <h2 class="section-title">Straight Bets (13)</h2>
      <div class="tracker-table-wrap">
        <table class="tracker-table">
          <thead>
            <tr>
              <th>Pick</th>
              <th class="center">Score</th>
              <th class="center">Status</th>
              <th>Detail</th>
              <th style="text-align: right">Risk</th>
              <th style="text-align: right">To Win</th>
              <th style="text-align: right">P&amp;L</th>
            </tr>
          </thead>
          <tbody id="straights-tbody"></tbody>
        </table>
      </div>

      <!-- Round Robin Bets Table -->
      <h2 class="section-title">Round Robins (50)</h2>
      <div class="tracker-table-wrap">
        <table class="tracker-table">
          <thead>
            <tr>
              <th>Type</th>
              <th>Legs</th>
              <th class="center">Status</th>
              <th style="text-align: right">Risk</th>
              <th style="text-align: right">To Win</th>
              <th style="text-align: right">P&amp;L</th>
            </tr>
          </thead>
          <tbody id="rr-tbody"></tbody>
        </table>
      </div>
    </main>

    <!-- Bundled JS (shared core) -->
    <script src="dist/core.min.js?v=36.00.7" defer></script>
    <!-- Page-specific script -->
    <script src="assets/js/features/picks-tracker.js?v=36.00.7" defer></script>
    <script>
      (function () {
        try {
          if ("serviceWorker" in navigator) {
            window.addEventListener("load", function () {
              navigator.serviceWorker
                .register("/sw.js?v=3.0.0", { updateViaCache: "none" })
                .catch(function () {});
            });
          }
        } catch (e) {}
      })();
    </script>
  </body>
</html>
